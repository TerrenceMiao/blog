{"meta":{"title":"Terrence Miao's Adventures","subtitle":"A journey of a thousand miles begins with a single step","description":"Veni, vidi, vici","author":"Terrence Miao","url":"https://terrencemiao.github.io/blog"},"posts":[{"title":"ä¸ºä»€ä¹ˆè¦è¯»ä¹¦","date":"2017-09-03T06:09:19.000Z","path":"2017/09/03/ä¸ºä»€ä¹ˆè¦è¯»ä¹¦/","text":"çˆ¶å­äºŒäººé¥®èŒ¶ï¼Œå„¿é—®ï¼šâ€œä¸ºä»€ä¹ˆè¦æˆ‘è¯»ä¹¦ï¼Ÿâ€ çˆ¶ç­”ï¼šâ€œæˆ‘è¿™ä¹ˆè·Ÿä½ è¯´å§ï¼ä½ è¯»äº†ä¹¦ï¼Œå–è¿™èŒ¶æ—¶å°±ä¼šè¯´ï¼šâ€˜æ­¤èŒ¶æ±¤è‰²æ¾„çº¢é€äº®ï¼Œæ°”å‘³å¹½é¦™å¦‚å…°ï¼Œå£æ„Ÿé¥±æ»¡çº¯æ­£ï¼Œåœ†æ¶¦å¦‚è¯—ï¼Œå›å‘³ç”˜é†‡ï¼Œé½¿é¢Šç•™èŠ³ï¼ŒéŸµå‘³åè¶³ï¼Œé¡¿è§‰å¦‚æ¢¦ä¼¼å¹»ï¼Œä»¿ä½›å¤©ä¸Šäººé—´ï¼ŒçœŸä¹ƒèŒ¶ä¸­æå“ï¼â€™â€ è€Œå¦‚æœä½ æ²¡æœ‰è¯»ä¹¦ï¼Œä½ å°±ä¼šè¯´ï¼šï¼šâ€œâ€˜å§æ“ï¼è¿™èŒ¶ä¸èµ–â€™â€ ä¸ºä»€ä¹ˆè¦è¯»ä¹¦è¿‘æ—¥å¯¹ã€Šä¸­å›½è¯—è¯å¤§ä¼šã€‹ä¸Šç˜¾ï¼Œäºæ˜¯æ€è€ƒäººä¸ºä»€ä¹ˆè¦è¯»ä¹¦ï¼Ÿåˆå¦‚ä½•ç”¨å¥½çš„è¯è¯­æ¥æè¿°å¿ƒæƒ…å’Œæ„Ÿå—å‘¢ï¼Ÿ æœ‰äººæ›¾æå‡ºè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¤§éƒ¨åˆ†è¯»è¿‡çš„ä¹¦æœ€åéƒ½ä¼šå¿˜æ‰ï¼Œé‚£è¯»ä¹¦çš„æ„ä¹‰ä½•åœ¨ï¼Ÿè¿™æ˜¯æˆ‘è§è¿‡æœ€å¥½çš„å›ç­”ï¼šâ€œå°çš„æ—¶å€™æˆ‘åƒäº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­çš„å¤§éƒ¨åˆ†æˆ‘å·²è®°ä¸æ¸…æ˜¯ä»€ä¹ˆï¼Œä½†æˆ‘çŸ¥é“ï¼Œä»–ä»¬å·²ç»æˆäº†æˆ‘ç°åœ¨çš„éª¨å’Œè‚‰â€ã€‚è¯»ä¹¦ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚å®ƒåœ¨ä¸çŸ¥ä¸è§‰ä¸­å°±å·²ç»å½±å“äº†ä½ çš„æ€æƒ³ï¼Œä½ çš„è¨€è¡Œï¼Œä½ çš„å½¢è±¡ã€‚ 1ï¼Œå½“ä½ å¼€å¿ƒçš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šæ˜¥é£å¾—æ„é©¬è¹„ç–¾ä¸€æ—¥çœ‹å°½é•¿å®‰èŠ± è€Œä¸æ˜¯åªä¼šè¯´ï¼šå“ˆå“ˆ, å“ˆå“ˆ, å“ˆå“ˆ, å“ˆå“ˆ, å“ˆå“ˆå“ˆ 2ï¼Œå½“ä½ ä¼¤å¿ƒçš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šé—®å›èƒ½æœ‰å‡ å¤šæ„ï¼Œæ°ä¼¼ä¸€æ±Ÿæ˜¥æ°´å‘ä¸œæµ è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘çš„å¿ƒå¥½ç—› 3ï¼Œå½“ä½ çœ‹åˆ°å¸…å“¥æ—¶ä½ å¯ä»¥è¯´ï¼šé™Œä¸Šäººå¦‚ç‰å…¬å­ä¸–æ— åŒ è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘é ï¼Œå¥½å¸…ï¼æˆ‘é é é ï¼Œå¤ªå¸…äº† 4ï¼Œå½“ä½ çœ‹åˆ°ç¾å¥³æ—¶ä½ å¯ä»¥è¯´ï¼šåŒ—æ–¹æœ‰ä½³äººï¼Œç»ä¸–è€Œç‹¬ç«‹ è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘å»ï¼Œå¥¹å¥½ç¾æˆ‘å»ï¼Œå¥¹çœŸç¾ 5ï¼Œå½“ä½ é‡è§æ¸£ç”·æ—¶ä½ å¯ä»¥è¯´ï¼šé‡äººä¸æ·‘ ï¼Œè¯†äººä¸å–„ è€Œä¸æ˜¯åªä¼šè¯´ï¼šçäº†è€å­çš„ç‹—çœ¼ 6ï¼Œå½“ä½ å‘ä¸€ä¸ªäººè¡¨è¾¾çˆ±æ„æ—¶ä½ å¯ä»¥è¯´ï¼šå±±æœ‰æœ¨å…®æœ¨æœ‰æå¿ƒæ‚¦å›å…®å›ä¸çŸ¥ è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘å–œæ¬¢ä½ ï¼Œå¤©è’åœ°è€ï¼Œæµ·æ¯çŸ³çƒ‚ 7ï¼Œå½“ä½ æ€å¿µä¸€ä¸ªäººçš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šè¡£å¸¦æ¸å®½ç»ˆä¸æ‚”ä¸ºä¼Šæ¶ˆå¾—äººæ†”æ‚´ è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘æƒ³æ­»ä½ å•¦ 8ï¼Œå½“ä½ å¤±æ‹çš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šäººç”Ÿè‹¥åªå¦‚åˆè§ä½•äº‹ç§‹é£æ‚²ç”»æ‰‡ç­‰é—²å˜å´æ•…äººå¿ƒå´é“æ•…äººå¿ƒæ˜“å˜ è€Œä¸æ˜¯åªä¼šåƒä¸‡éçš„å‘¼å–Šï¼šè“ç˜¦ï¼Œé¦™è‡ 9ï¼Œç»“å©šçš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šæ˜¥å®µä¸€åˆ»å€¼åƒé‡‘èŠ±æœ‰æ¸…é¦™æœˆæœ‰é˜´ è€Œä¸æ˜¯åªä¼šè¯´ï¼šå˜¿å˜¿, å˜¿å˜¿, å˜¿å˜¿å˜¿ 10ï¼Œåˆ†æ‰‹çš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šç›¸æ¿¡ä»¥æ²«ä¸å¦‚ç›¸å¿˜äºæ±Ÿæ¹– è€Œä¸æ˜¯åªä¼šè¯´ï¼šæˆ‘ä»¬ä¸åˆé€‚ 11ï¼Œçœ‹è§å¤§æ¼ æˆˆå£çš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šå¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ† è€Œä¸æ˜¯åªä¼šè¯´ï¼šå”‰å‘€å¦ˆå‘€ï¼Œè¿™å…¨éƒ½æ˜¯æ²™å­ 12ï¼Œçœ‹è§å¤•é˜³ä½™æ™–çš„æ—¶å€™ä½ å¯ä»¥è¯´ï¼šè½éœä¸å­¤é¹œé½é£ç§‹æ°´å…±é•¿å¤©ä¸€è‰² è€Œä¸æ˜¯åªä¼šè¯´ï¼šå§æ§½è¿™ä¹ˆå¤šé¸ŸçœŸå¥½çœ‹çœŸä»–å¦ˆå¤ªå¥½çœ‹äº†","tags":[]},{"title":"C10k / C10M Challenge","date":"2017-09-03T04:38:45.000Z","path":"2017/09/03/C10k-C10M-Challenge/","text":"C10k / C10M Challenge æŒ‘æˆ˜ HistoryThe term was coined in 1999 by Dan Kegel, citing the Simtel FTP host, cdrom.com, serving 10,000 clients at once over 1 gigabit per second Ethernet in that year. The term has since been used for the general issue of large number of clients, with similar numeronyms for larger number of connections, most recently C10M in the 2010s. By the early 2010s millions of connections on a single commodity 1U server became possible: over 2 million connections (WhatsApp, 24 cores, using Erlang on FreeBSD), 10â€“12 million connections (MigratoryData, 12 cores, using Java on Linux). C10kï¼ˆconcurrently handling 10k connectionsï¼‰æ˜¯ä¸€ä¸ªåœ¨ 1999 å¹´è¢«æå‡ºæ¥çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œå¦‚ä½•åœ¨ä¸€é¢— 1GHz CPUï¼Œ2G å†…å­˜ï¼Œ1Gbps ç½‘ç»œç¯å¢ƒä¸‹ï¼Œè®©å•å°æœåŠ¡å™¨åŒæ—¶ä¸º 1 ä¸‡ä¸ªå®¢æˆ·ç«¯æä¾› FTP æœåŠ¡ã€‚è€Œåˆ°äº† 2010 å¹´åï¼Œéšç€ç¡¬ä»¶æŠ€æœ¯çš„å‘å±•ï¼Œè¿™ä¸ªé—®é¢˜è¢«å»¶ä¼¸ä¸º C10Mï¼Œå³å¦‚ä½•åˆ©ç”¨ 8 æ ¸å¿ƒ CPUï¼Œ64G å†…å­˜ï¼Œåœ¨ 10Gbps çš„ç½‘ç»œä¸Šä¿æŒ 1000 ä¸‡å¹¶å‘è¿æ¥ï¼Œæˆ–æ˜¯æ¯ç§’é’Ÿå¤„ç† 100 ä¸‡çš„è¿æ¥ã€‚ï¼ˆä¸¤ç§ç±»å‹çš„è®¡ç®—æœºèµ„æºåœ¨å„è‡ªçš„æ—¶ä»£éƒ½çº¦ä¸º 1200 ç¾å…ƒï¼‰ã€‚ C10k / C10M é—®é¢˜åˆ™æ˜¯ä»æŠ€æœ¯è§’åº¦å‡ºå‘æŒ‘æˆ˜è½¯ç¡¬ä»¶æé™ã€‚C10k / C10M é—®é¢˜å¾—è§£ï¼Œæˆæœ¬é—®é¢˜å’Œæ•ˆç‡é—®é¢˜è¿åˆƒè€Œè§£ã€‚ References C10k problem, https://en.wikipedia.org/wiki/C10k_problem The C10K problem, http://www.kegel.com/c10k.html The Secret To 10 Million Concurrent Connections - The Kernel Is The Problem Not The Solution, http://highscalability.com/blog/2013/5/13/the-secret-to-10-million-concurrent-connections-the-kernel-i.html Inside NGINX: How We Designed for Performance &amp; Scale, https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/ æ¶æ„å¸ˆå®è·µæ—¥ï½œä»C10Kåˆ°C10Mé«˜æ€§èƒ½ç½‘ç»œçš„æ¢ç´¢ä¸å®è·µ, http://blog.qiniu.com/archives/4941","tags":[]},{"title":"Plato and Socrates - æŸæ‹‰å›¾éº¦ç©—é—®é¢˜","date":"2017-09-02T03:58:00.000Z","path":"2017/09/02/Plato-and-Socrates-æŸæ‹‰å›¾éº¦ç©—é—®é¢˜/","text":"One day, Plato asked his teacher Socrates, â€œWhat is love? How can I find it?â€ Socrates answered, â€œThere is a vast wheat field in front. Walk forward without turning back, and pick only one stalk. If you find the most magnificent stalk, then you have found love.â€ Plato walked forward, and before long, he returned with empty hands, having picked nothing. His teacher asked, â€œWhy did you not pick any stalk?â€ Plato answered, â€œBecause I could only pick once, and yet I could not turn back. I did find the most magnificent stalk, but did not know if there were any better ones ahead, so I did not pick it. As I walked further, the stalks that I saw were not as good as the earlier one, so! I did not pick any in the end.â€ Socrates then said, â€œAnd that is LOVE.â€ On another day, Plato asked Socrates: â€œWhat is marriage? How can I find it?â€ His teacher answered, â€œThere is a thriving forest in front. Walk forward without turning back, and chop down only one tree. If you find the tallest tree, then you have found marriageâ€. Plato walked forward, and before long, He returned with a tree. The tree was not bad but it was not tall, either. It was only an ordinary tree, not the best but just a good tree. His teacher asked, â€œWhy did you chop down such an ordinary tree?â€ Plato answered, â€œBased on my previous experience, I had walked through the field, but returned with empty hands. This time, I saw this tree, and I felt that it was the first good tree I had seen, so I chopped it down and brought it back. I did not want to miss the chance.â€ Socrates then said, â€œAnd that is MARRIAGE. On another day, Plato asked his teacher, â€œWhat is life?â€ Socrates asked him to go to the forest again, allowed back and forth as well, and pluck the most beautiful flower. Plato walked forward. However he hadnâ€™t come back for 3 days. His teacher went to find him. When he saw Platoâ€™s camping in the forest, he asked:â€ Have you found the most beautiful flower?â€ Plato pointed a flower near to his camp and answered, â€œThis is the most beautiful flower!â€ â€œWhy didnâ€™t you take it out?â€ Socrates asked. â€œBecause if I pick it, it would be drooping. Even though I didnâ€™t pick, it would die in a couple of days for sure. So I had been living by its side while it was blooming. When itâ€™s drooped, I was up to find another one. This is the second most beautiful flower I have found!â€ Socrates then said, â€œYouâ€™ve got the truth of LIFEâ€ â€œLoveâ€ is the most beautiful thing to happen to a person, itâ€™s an opportunity you donâ€™t realize its worth when you have it but only when itâ€™s gone like the field of stalks. â€œMarriageâ€ is like the tree you chopped, itâ€™s a compromise; you pick the first best thing you see and learn to live a happy life with it. Having an affair is alluring. Itâ€™s like lightning - bright but disappeared so quickly that you cannot catch up with and keep it. â€œLifeâ€ is to follow and enjoy the every beautiful moment of living. Thatâ€™s why you should enjoy your life wherever you live. æœ‰ä¸€å¤©ï¼Œå¤å¸Œè…Šå“²å­¦å®¶æŸæ‹‰å›¾é—®ä»–çš„è€å¸ˆè‹æ ¼æ‹‰åº•ä»€ä¹ˆæ˜¯çˆ±æƒ…ï¼Œä»–çš„è€å¸ˆå°±å«ä»–å…ˆåˆ°éº¦ç”°é‡Œï¼Œæ‘˜ä¸€æ£µå…¨éº¦ç”°é‡Œæœ€å¤§æœ€é‡‘é»„çš„çš„éº¦ç©—ã€‚æœŸé—´åªèƒ½æ‘˜ä¸€æ¬¡ï¼Œå¹¶ä¸”åªå¯ä»¥å‘å‰èµ°ï¼Œä¸èƒ½å›å¤´ã€‚æŸæ‹‰å›¾äºæ˜¯ç…§ç€è€å¸ˆçš„è¯´è¯åšã€‚ç»“æœï¼Œä»–ä¸¤æ‰‹ç©ºç©ºçš„èµ°å‡ºéº¦ç”°ã€‚è€å¸ˆé—®ä»–ä¸ºä»€ä¹ˆæ‘˜ä¸åˆ°ï¼Œä»–è¯´ï¼šâ€œå› ä¸ºåªèƒ½æ‘˜ä¸€æ¬¡ï¼Œåˆä¸èƒ½èµ°å›å¤´è·¯ï¼Œå…¶é—´å³ä½¿è§åˆ°ä¸€æ£µåˆå¤§åˆé‡‘é»„çš„ï¼Œå› ä¸ºä¸çŸ¥å‰é¢æ˜¯å¦æœ‰æ›´å¥½ï¼Œæ‰€ä»¥æ²¡æœ‰æ‘˜ï¼›èµ°åˆ°å‰é¢æ—¶ï¼Œåˆå‘è§‰æ€»ä¸åŠä¹‹å‰è§åˆ°çš„å¥½ï¼ŒåŸæ¥éº¦ç”°é‡Œæœ€å¤§æœ€é‡‘é»„çš„éº¦ç©—ï¼Œæ—©å°±é”™è¿‡äº†ï¼›äºæ˜¯ï¼Œæˆ‘ä»€ä¹ˆä¹Ÿæ²¡æ‘˜åˆ°ã€‚â€ è‹æ ¼æ‹‰åº•è¯´ï¼šâ€œè¿™å°±æ˜¯çˆ±æƒ…ã€‚â€ ä¹‹ååˆæœ‰ä¸€å¤©ï¼ŒæŸæ‹‰å›¾é—®ä»–çš„è€å¸ˆä»€ä¹ˆæ˜¯å©šå§»ï¼Œä»–çš„è€å¸ˆå°±å«ä»–å…ˆåˆ°æ ‘æ—é‡Œï¼Œç ä¸‹ä¸€æ£µå…¨æ ‘æ—æœ€å¤§æœ€èŒ‚ç››ã€æœ€é€‚åˆæ”¾åœ¨å®¶ä½œåœ£è¯æ ‘çš„æ ‘ã€‚å…¶é—´åŒæ ·åªèƒ½æ‘˜ä¸€æ¬¡ï¼Œä»¥åŠåŒæ ·åªå¯ä»¥å‘å‰èµ°ï¼Œä¸èƒ½å›å¤´ã€‚æŸæ‹‰å›¾äºæ˜¯ç…§ç€è€å¸ˆçš„è¯´è¯åšã€‚ä»Šæ¬¡ï¼Œä»–å¸¦äº†ä¸€æ£µæ™®æ™®é€šé€šï¼Œä¸æ˜¯å¾ˆèŒ‚ç››ï¼Œäº¦ä¸ç®—å¤ªå·®çš„æ ‘å›æ¥ã€‚è€å¸ˆé—®ä»–ï¼Œæ€ä¹ˆå¸¦è¿™æ£µæ™®æ™®é€šé€šçš„æ ‘å›æ¥ã€‚ä»–è¯´ï¼šâ€œæœ‰äº†ä¸Šä¸€æ¬¡ç»éªŒï¼Œå½“æˆ‘èµ°åˆ°å¤§åŠè·¯ç¨‹ï¼Œå·²ç»æ„Ÿåˆ°ç´¯äº†å´è¿˜ä¸¤æ‰‹ç©ºç©ºæ—¶ï¼Œæˆ‘è§‰å¾—è™½ç„¶æ ‘æ—é‡Œè¿˜æœ‰å¾ˆå¤šæ ‘ï¼Œä½†è¿™æ£µæ ‘è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œä¾¿ç ä¸‹æ¥ï¼Œå…å¾—æœ€ååˆä»€ä¹ˆä¹Ÿå¸¦ä¸å‡ºæ¥ã€‚â€ è‹æ ¼æ‹‰åº•è¯´ï¼šâ€œè¿™å°±æ˜¯å©šå§»ã€‚â€ åˆæœ‰ä¸€å¤©æŸæ‹‰å›¾åˆé—®è€å¸ˆè‹æ ¼æ‹‰åº•ä»€ä¹ˆæ˜¯ç”Ÿæ´»ï¼Œè‹æ ¼æ‹‰åº•è¿˜æ˜¯å«ä»–åˆ°æ ‘æ—èµ°ä¸€æ¬¡ã€‚è¦æ±‚æ˜¯éšä¾¿èµ°ï¼Œåœ¨é€”ä¸­è¦å–ä¸€æ”¯æœ€å¥½çœ‹çš„èŠ±ã€‚æŸæ‹‰å›¾æœ‰äº†ä»¥å‰çš„æ•™è®­åˆå……æ»¡ä¿¡å¿ƒåœ°å‡ºå»è¿‡äº†ä¸‰å¤©ä¸‰å¤œï¼Œä»–ä¹Ÿæ²¡æœ‰å›æ¥ã€‚è‹æ ¼æ‹‰åº•åªå¥½èµ°è¿›æ ‘æ—é‡Œå»æ‰¾ä»–ï¼Œæœ€åå‘ç°æŸæ‹‰å›¾å·²åœ¨æ ‘æ—é‡Œå®‰è¥æ‰å¯¨ã€‚è‹æ ¼æ‹‰åº•é—®ä»–ï¼šâ€œä½ æ‰¾ç€æœ€å¥½çœ‹çš„èŠ±ä¹ˆï¼Ÿâ€ æŸæ‹‰å›¾æŒ‡ç€è¾¹ä¸Šçš„ä¸€æœµèŠ±è¯´ï¼šâ€œè¿™å°±æ˜¯æœ€å¥½çœ‹çš„èŠ±ã€‚â€ è‹æ ¼æ‹‰åº•é—®ï¼šâ€œä¸ºä»€ä¹ˆä¸æŠŠå®ƒå¸¦å‡ºå»å‘¢ï¼Ÿâ€ æŸæ‹‰å›¾å›ç­”è€å¸ˆï¼š â€œæˆ‘å¦‚æœæŠŠå®ƒæ‘˜ä¸‹æ¥ï¼Œå®ƒé©¬ä¸Šå°±æ¯èã€‚å³ä½¿æˆ‘ä¸æ‘˜å®ƒï¼Œå®ƒä¹Ÿè¿Ÿæ—©ä¼šæ¯ã€‚æ‰€ä»¥æˆ‘å°±åœ¨å®ƒè¿˜ç››å¼€çš„æ—¶å€™ï¼Œä½åœ¨å®ƒè¾¹ä¸Šã€‚ç­‰å®ƒå‡‹è°¢çš„æ—¶å€™ï¼Œå†æ‰¾ä¸‹ä¸€æœµã€‚è¿™å·²ç»æ˜¯æˆ‘æ‰¾ç€çš„ç¬¬äºŒæœµæœ€å¥½çœ‹çš„èŠ±äº†ã€‚â€ è‹æ ¼æ‹‰åº•è¯´ï¼š â€œä½ å·²ç»æ‡‚å¾—ç”Ÿæ´»çš„çœŸè°›äº†ã€‚â€ çˆ±æƒ…ç»™äººç»å†å’Œå›å¿†ï¼Œä¹‹åï¼Œå©šå§»é çš„æ˜¯æ˜æ™ºçš„å†³å®šå’Œå¥½å¥½çš„æŠŠæ¡ï¼Œç»è¿‡äº†è¿™äº›è€ƒéªŒï¼Œåˆ°æœ€åæ‰ä¼šæ˜ç™½ç”Ÿæ´»æ˜¯ä¸€ç§çæƒœå’Œå®ˆæŠ¤ã€‚ æŸæ‹‰å›¾éº¦ç©—é—®é¢˜çš„æ•°å­¦è§£ç­” ç°åœ¨æˆ‘ä»¬ç”¨æ•°å­¦çš„è§’åº¦æ¥è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚ å‡è®¾æˆ‘ä»¬ç¢°åˆ°çš„éº¦ç©—æœ‰ n ä¸ªï¼Œæˆ‘ä»¬ç”¨è¿™æ ·çš„ç­–ç•¥æ¥é€‰éº¦ç©—ï¼Œå‰ k ä¸ªï¼Œè®°ä½ä¸€ä¸ªæœ€å¤§çš„éº¦ç©—è®°ä¸º dï¼ˆå¯èƒ½æ˜¯é‡é‡ï¼Œä¹Ÿå¯èƒ½æ˜¯ä½“ç§¯ï¼‰ï¼Œç„¶å k + 1 ä¸ªå¼€å§‹ï¼Œåªè¦å¤§äº d çš„ï¼Œå°±é€‰æ‹©ï¼Œå¦åˆ™å°±ä¸é€‰æ‹©ã€‚ å¯¹äºæŸä¸ªå›ºå®šçš„ kï¼Œå¦‚æœæœ€å¤§çš„éº¦ç©—å‡ºç°åœ¨äº†ç¬¬ i ä¸ªä½ç½®ï¼ˆk &lt; i â‰¤ nï¼‰ï¼Œè¦æƒ³è®©ä»–æœ‰å¹¸æ­£å¥½è¢«é€‰ä¸­ï¼Œå°±å¿…é¡»å¾—æ»¡è¶³å‰ i - 1 ä¸ªéº¦ç©—ä¸­çš„æœ€å¥½çš„éº¦ç©—åœ¨å‰ k ä¸ªéº¦ç©—é‡Œï¼Œè¿™æœ‰ k / (i - 1) çš„å¯èƒ½ã€‚è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„ iï¼Œæˆ‘ä»¬ä¾¿å¾—åˆ°äº†å‰ k ä¸ªéº¦ç©—ä½œä¸ºå‚è€ƒï¼Œèƒ½é€‰ä¸­æœ€å¤§éº¦ç©—çš„æ€»æ¦‚ç‡ P(k)ï¼š è®¾ k / n = xï¼Œå¹¶ä¸”å‡è®¾ n å……åˆ†å¤§ï¼Œåˆ™ä¸Šè¿°å…¬å¼å¯ä»¥æ”¹ä¸ºï¼š å¯¹ xÂ·ln(x) æ±‚å¯¼ï¼Œå¹¶ä»¤è¿™ä¸ªå¯¼æ•°ä¸º 0ï¼Œå¯ä»¥è§£å‡º x çš„æœ€ä¼˜å€¼ï¼Œå®ƒå°±æ˜¯æ¬§æ‹‰ç ”ç©¶çš„ç¥ç§˜å¸¸æ•°çš„å€’æ•° 1 / e. æ‰€ä»¥ k = n / e. å¦‚æœä½ æƒ³æ‘˜å–æœ€å¤§çš„éº¦ç©—ï¼Œå‡è®¾æœ‰ n ä¸ªéº¦ç©—ï¼Œä½ åº”è¯¥å…ˆå°†å‰ n / e ä¸ªéº¦ç©—ä½œä¸ºå‚è€ƒï¼Œç„¶åå† k + 1 ä¸ªéº¦ç©—å¼€å§‹é€‰æ‹©æ¯”å‰é¢ k ä¸ªæœ€å¤§çš„éº¦ç©—å³å¯ã€‚ e = 2.718281828459 1 / e = 0.36787944117144 å…¶ä»–ä¾‹å­ä¸€ã€ä¸€æ¥¼åˆ°åæ¥¼çš„æ¯å±‚ç”µæ¢¯é—¨å£éƒ½æ”¾ç€ä¸€é¢—é’»çŸ³ï¼Œé’»çŸ³å¤§å°ä¸ä¸€ã€‚ä½ ä¹˜åç”µæ¢¯ä»ä¸€æ¥¼åˆ°åæ¥¼ï¼Œæ¯å±‚æ¥¼ç”µæ¢¯é—¨éƒ½ä¼šæ‰“å¼€ä¸€æ¬¡ï¼Œåªèƒ½æ‹¿ä¸€æ¬¡é’»çŸ³ï¼Œé—®æ€æ ·æ‰èƒ½æ‹¿åˆ°æœ€å¤§çš„ä¸€é¢—ã€‚ é¦–å…ˆï¼Œè¿™ä¸ªé¢˜ç›®è¯´çš„ï¼Œå¹¶ä¸èƒ½å®Œå…¨æ‹¿åˆ°æœ€å¤§çš„é’»çŸ³ã€‚ä½†å¯ä»¥ä¿è¯æ‹¿åˆ°æœ€å¤§é’»çŸ³çš„æ¦‚ç‡æœ€å¤§ã€‚10 / e = 3.67ï¼Œå‘ä¸Šå–æ•´å¾— 4ã€‚å‰å››å±‚çš†ä¸å–ï¼Œåªè®°ä¸‹æœ€å¤§çš„ã€‚åé¢é‡åˆ°çš„ï¼Œåªè¦æ¯”å‰é¢æœ€å¤§çš„è¿˜å¤§ï¼Œå–ä¹‹å³å¯ã€‚ äºŒã€ç§˜ä¹¦é—®é¢˜ã€‚åœ¨æœºç‡åŠåšå¼ˆè®ºä¸Šï¼Œç§˜ä¹¦é—®é¢˜ï¼ˆç±»ä¼¼åç§°æœ‰ç›¸äº²é—®é¢˜ã€æ­¢æ­¥é—®é¢˜ã€è§å¥½å°±æ”¶é—®é¢˜ã€è‹ä¸¹çš„å«å¦†é—®é¢˜ã€æŒ‘å‰”çš„æ±‚å©šè€…é—®é¢˜ç­‰) å†…å®¹æ˜¯è¿™æ ·çš„ï¼š è¦è˜è¯·ä¸€åç§˜ä¹¦ï¼Œæœ‰ n äººæ¥é¢è¯•ã€‚æ¯æ¬¡é¢è¯•ä¸€äººï¼Œé¢è¯•è¿‡åä¾¿è¦å³æ—¶å†³å®šè˜ä¸è˜ä»–ï¼Œå¦‚æœå½“æ—¶å†³å®šä¸è˜ä»–ï¼Œä»–ä¾¿ä¸ä¼šå›æ¥ã€‚é¢è¯•æ—¶æ€»èƒ½æ¸…æ¥šäº†è§£æ±‚èŒè€…çš„é€‚åˆç¨‹åº¦ï¼Œå¹¶èƒ½å’Œä¹‹å‰çš„æ¯ä¸ªäººä½œæ¯”è¾ƒã€‚é—®å‡­ä»€ä¹ˆç­–ç•¥ï¼Œæ‰ä½¿é€‰å¾—åˆ°æœ€é€‚åˆæ‹…ä»»ç§˜ä¹¦çš„äººçš„æœºç‡æœ€å¤§ï¼Ÿ References éº¦ç©—ç†è®ºï¼Œåˆåâ€œç§˜ä¹¦é—®é¢˜â€ (1/e å¤„ä¸ºæœ€ä¼˜åˆ†å‰²ç‚¹), http://geek.csdn.net/news/detail/231497","tags":[]},{"title":"Why Functional Programming?","date":"2017-08-17T13:15:35.000Z","path":"2017/08/17/Why-functional-programming/","text":"Why Static Type? æ€§èƒ½ - æ–¹æ³•è°ƒç”¨é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºä¸éœ€è¦åœ¨è¿è¡Œæ—¶æ‰æ¥åˆ¤æ–­è°ƒç”¨çš„æ˜¯å“ªä¸ªæ–¹æ³•ã€‚ å¯é æ€§ - ç¼–è¯‘å™¨éªŒè¯äº†ç¨‹åºçš„æ­£ç¡®æ€§ï¼Œå› è€Œè¿è¡Œæ—¶å´©æºƒçš„æ¦‚ç‡æ›´ä½ã€‚ å¯ç»´æŠ¤æ€§ - é™Œç”Ÿä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼Œå› ä¸ºä½ å¯ä»¥çœ‹åˆ°ä»£ç ä¸­ç”¨åˆ°çš„å¯¹è±¡çš„ç±»å‹ã€‚ å·¥å…·æ”¯æŒ - é™æ€ç±»å‹ä½¿ IDE èƒ½æä¾›å¯é çš„é‡æ„ã€ç²¾ç¡®çš„ä»£ç è¡¥å…¨ä»¥åŠå…¶ä»–ç‰¹æ€§ã€‚ Benefit of Functional Programming å¤´ç­‰å‡½æ•° - æŠŠå‡½æ•°ï¼ˆä¸€å°æ®µè¡Œä¸ºï¼‰å½“ä½œå€¼ä½¿ç”¨ï¼Œå¯ä»¥ç”¨å˜é‡ä¿å­˜å®ƒï¼ŒæŠŠå®ƒå½“ä½œå‚æ•°ä¼ é€’ï¼Œæˆ–è€…å½“ä½œå…¶ä»–å‡½æ•°çš„è¿”å›å€¼ã€‚ ä¸å¯å˜æ€§ - ä½¿ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œè¿™ä¿è¯äº†å®ƒä»¬çš„çŠ¶æ€åœ¨å…¶åˆ›å»ºä¹‹åä¸èƒ½å†å˜åŒ–ã€‚ æ— å‰¯ä½œç”¨ - ä½¿ç”¨çš„æ˜¯çº¯å‡½æ•°ã€‚æ­¤ç±»å‡½æ•°åœ¨è¾“å…¥ç›¸åŒæ—¶ä¼šäº§ç”ŸåŒæ ·çš„ç»“æœï¼Œå¹¶ä¸”ä¸ä¼šä¿®æ”¹å…¶ä»–å¯¹è±¡çš„çŠ¶æ€ï¼Œä¹Ÿä¸ä¼šå’Œå¤–é¢çš„ä¸–ç•Œäº¤äº’ã€‚ ç®€æ´ å‡½æ•°å¼é£æ ¼çš„ä»£ç  æ¯”ç›¸åº”çš„å‘½ä»¤å¼é£æ ¼çš„ä»£ç æ›´ä¼˜é›…ã€æ›´ç®€ç»ƒï¼Œå› ä¸ºæŠŠå‡½æ•°å½“ä½œå€¼å¯ä»¥è®©ä½ è·å¾—æ›´å¼ºå¤§çš„æŠ½è±¡èƒ½åŠ›ï¼Œä»è€Œé¿å…é‡å¤ä»£ç ã€‚ å‡è®¾ä½ æœ‰ä¸¤æ®µç±»ä¼¼çš„ä»£ç ï¼Œå®ç°ç›¸ä¼¼çš„ä»»åŠ¡ä½†å…·ä½“ç»†èŠ‚ç•¥æœ‰ä¸åŒï¼Œå¯ä»¥è½»æ˜“åœ°å°†è¿™æ®µé€»è¾‘ä¸­å…¬å…±çš„éƒ¨åˆ†æå–åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶å°†å…¶ä»–ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚è¿™äº›å‚æ•°æœ¬èº«ä¹Ÿæ˜¯å‡½æ•°ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ä¸€ç§ç®€æ´çš„è¯­æ³•æ¥è¡¨ç¤ºè¿™äº›åŒ¿åå‡½æ•°ï¼Œè¢«ç§°ä½œ lambda è¡¨è¾¾å¼ã€‚ å¤šçº¿ç¨‹å®‰å…¨ å¤šçº¿ç¨‹ç¨‹åºä¸­æœ€å¤§çš„é”™è¯¯æ¥æºä¹‹ä¸€å°±æ˜¯ï¼Œåœ¨æ²¡æœ‰é‡‡ç”¨é€‚å½“åŒæ­¥æœºåˆ¶çš„æƒ…å†µä¸‹ï¼Œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šä¿®æ”¹åŒä¸€ä»½æ•°æ®ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸å¯å˜æ•°æ®ç»“æ„å’Œçº¯å‡½æ•°ï¼Œå°±èƒ½ä¿è¯è¿™æ ·ä¸å®‰å…¨çš„ä¿®æ”¹æ ¹æœ¬ä¸ä¼šå‘ç”Ÿï¼Œä¹Ÿå°±ä¸éœ€è¦è€ƒè™‘ä¸ºå…¶è®¾è®¡å¤æ‚çš„åŒæ­¥æ–¹æ¡ˆã€‚ æµ‹è¯•æ›´åŠ å®¹æ˜“ æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°å¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºä¸éœ€è¦å†™å¤§é‡çš„è®¾ç½®ä»£ç æ¥æ„é€ å®ƒä»¬æ‰€ä¾èµ–çš„æ•´ä¸ªç¯å¢ƒã€‚ Functional programming, views a program as a mathematical function which is evaluated to produce a result value. That function may call upon nested functions, which in turn may call upon more nested functions. A nested function evaluates to produce a result. From there, that result is passed on to the enclosing function, which uses the nested function values to calculate its own return value. To enable functions to easily pass data to and from other functions, functional programming languages typically define data structures in the most generic possible way, as a collection of (any) things. They also allow functions to be passed to other functions as if they were data parameters. A function in this paradigm is not allowed to produce any side effects such as modifying a global variable that maintains state information. Instead, it is only allowed to receive parameters and perform some operations on them in order to produce its return value. Executing a functional program involves evaluating the outermost function, which in turn causes evaluation of all the nested functions, recursively down to the most basic functions that have no nested functions. Why is functional programming a big deal? Clarity Programming without side effects creates code that is easier to follow - a function is completely described by what goes in and what comes out. A function that produces the right answer today will produce the right answer tomorrow. This creates code that is easier to debug, easier to test, and easier to re-use. Brevity In functional languages, data is implicitly passed from a nested function to its parent function, via a general-purpose collection data type. This makes functional programs much more compact than those of other paradigms, which require substantial â€œhousekeepingâ€ code to pass data from one function to the next. Efficiency Because functions do not have side effects, operations can be re-ordered or performed in parallel in order to optimize performance, or can be skipped entirely if their result is not used by any other function. References Kotlin åˆä½“éªŒï¼šä¸»è¦ç‰¹å¾ä¸åº”ç”¨, http://geek.csdn.net/news/detail/231497 The Rise and Fall of Scala, https://dzone.com/articles/the-rise-and-fall-of-scala","tags":[]},{"title":"è‚¡å¸‚æŠ•èµ„ä¸‰è¦ç´ ","date":"2017-08-04T12:16:44.000Z","path":"2017/08/04/è‚¡å¸‚æŠ•èµ„ä¸‰è¦ç´ /","text":"ä¸è¦å€Ÿé’±æŠ•èµ„ åªä¹°æœ‰é•¿æœŸæŠ•èµ„ä»·å€¼çš„å…¬å¸ ä¸è¦ç”¨çŸ­æœŸçš„é’±å»ä¹°é•¿çº¿çš„è‚¡ç¥¨","tags":[]},{"title":"Customisation of Filco Majestouch 2 Mechanical Keyboard","date":"2017-08-01T16:29:45.000Z","path":"2017/08/02/Customisation-of-Filco-Majestouch-2-Mechanical-Keyboard/","text":"A Filco Majestouch 2 Tenkeyless Mechanical Keyboard, with Cherry Brown switches. It has been replaced with GMK Honeywell keycaps from Originative Co. (https://originative.co/products/honeywell) soon after it bought. Replace Filco Majestouch 2â€™s with GMK Honeywell keycaps. After joined Massdrop Lambo 80% Anodized Aluminum Case for Filco 87 TKL campaign (https://www.massdrop.com/buy/lambo-80-anodized-aluminum-case-for-filco-87-tkl) After a few months waiting, case delivered in, shipped from USA. Get hands warmed up and dirty. Now, show time.","tags":[]},{"title":"æç®€ä¹‹é“ - The interface äººä¸æœºå™¨çš„æ€æƒ³äº¤æµ","date":"2017-07-16T07:50:43.000Z","path":"2017/07/16/æç®€ä¹‹é“-The-interface-äººä¸æœºå™¨çš„æ€æƒ³äº¤æµ/","text":"Why 60%? GH60 GH60 å¯ç¼–ç¨‹é”®ç›˜ (http://blog.komar.be/projects/gh60-programmable-keyboard/), itâ€™s Poker 2 é”®ç›˜çš„ rip-offã€‚å¼€æ”¾å¼å…¬æ¿è®¾è®¡ã€‚ç”µè·¯æ¿ä¸­å›½åˆ¶é€ ã€‚ä¸‰å‘¨å‰ï¼Œåœ¨ AliExpress (https://www.aliexpress.com/item/Customized-DIY-GH60-Case-Shell-PCB-Plate-Switches-LED-Kit-60-Mechanical-Keyboard-Satan-Poker2-GH/32651474350.html) ä¸‹çš„è®¢å•ã€‚ Cherry MX Switch å¾·å›½ Cherry å·¥å‚çš„èŒ¶è½´ã€‚æ•²èµ·é”®ç›˜æ¥ææœ‰æ®µè½ï¼Œå±‚æ¬¡æ„Ÿã€‚ iQunix Lambo æ‹†æ‰åŸè£…çš„å¡‘æ–™é”®ç›˜å£³ã€‚æ¢è£… iQunix Lambo (https://www.aliexpress.com/item/Iqunix-lambo-60-mechanical-keyboard-anode-alumina-shell-base-gh60-poker2/32677061753.html) é“åˆ¶å¤–å£³ã€‚ GMK 3Run Keycap Set æœ€åå†è£…ä¸Šå¾·å›½ GMK å·¥å‚é€ çš„ 3Run ABS keycaps å (https://www.massdrop.com/buy/gmk-3run-keycap-set) ï¼Œä¸€ä¸ªæ‹¥æœ‰è‡ªå·± signatureï¼Œä½“ç°ä¸ªæ€§ï¼Œå“å‘³çš„æœºæ¢°é”®ç›˜è¯ç”Ÿäº†ã€‚ æç®€ä¹‹é“ / Simplicity","tags":[]},{"title":"IT çš„ç»ˆç‚¹æ˜¯è‰ºæœ¯ - The end of IT is Art","date":"2017-07-02T08:26:23.000Z","path":"2017/07/02/The-end-of-IT-is-Art/","text":"Modern, postmodern, and contemporary IT and its history.","tags":[]},{"title":"Ant Colony Optimization (ACO)","date":"2017-06-30T12:46:52.000Z","path":"2017/06/30/Ant-Colony-Optimization-ACO/","text":"Ant Colony Optimization (ACO) for the the Traveling Salesman Problem (TSP). In computer science and operations research, the ant colony optimization algorithm (ACO) is a probabilistic technique for solving computational problems which can be reduced to finding good paths through graphs. èšç¾¤ç®—æ³•æ˜¯ä¸€ç§ç”¨æ¥å¯»æ‰¾ä¼˜åŒ–è·¯å¾„çš„æ¦‚ç‡å‹ç®—æ³•ã€‚å®ƒç”± Marco Dorigo äº 1992 å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡ä¸­æå‡ºï¼Œå…¶çµæ„Ÿæ¥æºäºèš‚èšåœ¨å¯»æ‰¾é£Ÿç‰©è¿‡ç¨‹ä¸­å‘ç°è·¯å¾„çš„è¡Œä¸ºã€‚è¿™ç§ç®—æ³•å…·æœ‰åˆ†å¸ƒè®¡ç®—ã€ä¿¡æ¯æ­£åé¦ˆå’Œå¯å‘å¼æœç´¢çš„ç‰¹å¾ï¼Œæœ¬è´¨ä¸Šæ˜¯è¿›åŒ–ç®—æ³•ä¸­çš„ä¸€ç§å¯å‘å¼å…¨å±€ä¼˜åŒ–ç®—æ³•ã€‚ èšç¾¤ç³»ç»Ÿ (Ant System æˆ– Ant Colony System) æ˜¯ç”±æ„å¤§åˆ©å­¦è€… Dorigoã€Maniezzo ç­‰äººäº 20 ä¸–çºª 90 å¹´ä»£é¦–å…ˆæå‡ºæ¥çš„ã€‚ä»–ä»¬åœ¨ç ”ç©¶èš‚èšè§…é£Ÿçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å•ä¸ªèš‚èšçš„è¡Œä¸ºæ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯èšç¾¤æ•´ä½“å´å¯ä»¥ä½“ç°ä¸€äº›æ™ºèƒ½çš„è¡Œä¸ºã€‚ä¾‹å¦‚èšç¾¤å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œå¯»æ‰¾æœ€çŸ­åˆ°è¾¾é£Ÿç‰©æºçš„è·¯å¾„ã€‚è¿™æ˜¯å› ä¸ºèšç¾¤å†…çš„èš‚èšå¯ä»¥é€šè¿‡æŸç§ä¿¡æ¯æœºåˆ¶å®ç°ä¿¡æ¯çš„ä¼ é€’ã€‚ååˆç»è¿›ä¸€æ­¥ç ”ç©¶å‘ç°ï¼Œèš‚èšä¼šåœ¨å…¶ç»è¿‡çš„è·¯å¾„ä¸Šé‡Šæ”¾ä¸€ç§å¯ä»¥ç§°ä¹‹ä¸ºâ€œä¿¡æ¯ç´ â€çš„ç‰©è´¨ï¼Œèšç¾¤å†…çš„èš‚èšå¯¹â€œä¿¡æ¯ç´ â€å…·æœ‰æ„ŸçŸ¥èƒ½åŠ›ï¼Œå®ƒä»¬ä¼šæ²¿ç€â€œä¿¡æ¯ç´ â€æµ“åº¦è¾ƒé«˜è·¯å¾„è¡Œèµ°ï¼Œè€Œæ¯åªè·¯è¿‡çš„èš‚èšéƒ½ä¼šåœ¨è·¯ä¸Šç•™ä¸‹â€œä¿¡æ¯ç´ â€ï¼Œè¿™å°±å½¢æˆä¸€ç§ç±»ä¼¼æ­£åé¦ˆçš„æœºåˆ¶ï¼Œè¿™æ ·ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œæ•´ä¸ªèšç¾¤å°±ä¼šæ²¿ç€æœ€çŸ­è·¯å¾„åˆ°è¾¾é£Ÿç‰©æºäº†ã€‚ å°†èšç¾¤ç®—æ³•åº”ç”¨äºè§£å†³ä¼˜åŒ–é—®é¢˜çš„åŸºæœ¬æ€è·¯ä¸ºï¼šç”¨èš‚èšçš„è¡Œèµ°è·¯å¾„è¡¨ç¤ºå¾…ä¼˜åŒ–é—®é¢˜çš„å¯è¡Œè§£ï¼Œæ•´ä¸ªèš‚èšç¾¤ä½“çš„æ‰€æœ‰è·¯å¾„æ„æˆå¾…ä¼˜åŒ–é—®é¢˜çš„è§£ç©ºé—´ã€‚è·¯å¾„è¾ƒçŸ­çš„èš‚èšé‡Šæ”¾çš„ä¿¡æ¯ç´ é‡è¾ƒå¤šï¼Œéšç€æ—¶é—´çš„æ¨è¿›ï¼Œè¾ƒçŸ­çš„è·¯å¾„ä¸Šç´¯ç§¯çš„ä¿¡æ¯ç´ æµ“åº¦é€æ¸å¢é«˜ï¼Œé€‰æ‹©è¯¥è·¯å¾„çš„èš‚èšä¸ªæ•°ä¹Ÿæ„ˆæ¥æ„ˆå¤šã€‚æœ€ç»ˆï¼Œæ•´ä¸ªèš‚èšä¼šåœ¨æ­£åé¦ˆçš„ä½œç”¨ä¸‹é›†ä¸­åˆ°æœ€ä½³çš„è·¯å¾„ä¸Šï¼Œæ­¤æ—¶å¯¹åº”çš„ä¾¿æ˜¯å¾…ä¼˜åŒ–é—®é¢˜çš„æœ€ä¼˜è§£ã€‚ èš‚èšæ‰¾åˆ°æœ€çŸ­è·¯å¾„è¦å½’åŠŸäºä¿¡æ¯ç´ å’Œç¯å¢ƒï¼Œå‡è®¾æœ‰ä¸¤æ¡è·¯å¯ä»èšçªé€šå‘é£Ÿç‰©ï¼Œå¼€å§‹æ—¶ä¸¤æ¡è·¯ä¸Šçš„èš‚èšæ•°é‡å·®ä¸å¤šï¼šå½“èš‚èšåˆ°è¾¾ç»ˆç‚¹ä¹‹åä¼šç«‹å³è¿”å›ï¼Œè·ç¦»çŸ­çš„è·¯ä¸Šçš„èš‚èšå¾€è¿”ä¸€æ¬¡æ—¶é—´çŸ­ï¼Œé‡å¤é¢‘ç‡å¿«ï¼Œåœ¨å•ä½æ—¶é—´é‡Œå¾€è¿”èš‚èšçš„æ•°ç›®å°±å¤šï¼Œç•™ä¸‹çš„ä¿¡æ¯ç´ ä¹Ÿå¤šï¼Œä¼šå¸å¼•æ›´å¤šèš‚èšè¿‡æ¥ï¼Œä¼šç•™ä¸‹æ›´å¤šä¿¡æ¯ç´ ã€‚è€Œè·ç¦»é•¿çš„è·¯æ­£ç›¸åï¼Œå› æ­¤è¶Šæ¥è¶Šå¤šçš„èš‚èšèšé›†åˆ°æœ€çŸ­è·¯å¾„ä¸Šæ¥ã€‚ èš‚èšå…·æœ‰çš„æ™ºèƒ½è¡Œä¸ºå¾—ç›Šäºå…¶ç®€å•è¡Œä¸ºè§„åˆ™ï¼Œè¯¥è§„åˆ™è®©å…¶å…·æœ‰å¤šæ ·æ€§å’Œæ­£åé¦ˆã€‚åœ¨è§…é£Ÿæ—¶ï¼Œå¤šæ ·æ€§ä½¿èš‚èšä¸ä¼šèµ°è¿›æ­»èƒ¡åŒè€Œæ— é™å¾ªç¯ï¼Œæ˜¯ä¸€ç§åˆ›æ–°èƒ½åŠ›ï¼›æ­£åé¦ˆä½¿ä¼˜è‰¯ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼Œæ˜¯ä¸€ç§å­¦ä¹ å¼ºåŒ–èƒ½åŠ›ã€‚ä¸¤è€…çš„å·§å¦™ç»“åˆä½¿æ™ºèƒ½è¡Œä¸ºæ¶Œç°ï¼Œå¦‚æœå¤šæ ·æ€§è¿‡å‰©ï¼Œç³»ç»Ÿè¿‡äºæ´»è·ƒï¼Œä¼šå¯¼è‡´è¿‡å¤šçš„éšæœºè¿åŠ¨ï¼Œé™·å…¥æ··æ²ŒçŠ¶æ€ï¼›å¦‚æœå¤šæ ·æ€§ä¸å¤Ÿï¼Œæ­£åé¦ˆè¿‡å¼ºï¼Œä¼šå¯¼è‡´åƒµåŒ–ï¼Œå½“ç¯å¢ƒå˜åŒ–æ—¶èšç¾¤ä¸èƒ½ç›¸åº”è°ƒæ•´ã€‚ ä¸å…¶ä»–ä¼˜åŒ–ç®—æ³•ç›¸æ¯”ï¼Œèšç¾¤ç®—æ³•å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š (1) é‡‡ç”¨æ­£åé¦ˆæœºåˆ¶ï¼Œä½¿å¾—æœç´¢è¿‡ç¨‹ä¸æ–­æ”¶æ•›ï¼Œæœ€ç»ˆé€¼è¿‘æœ€ä¼˜è§£ã€‚(2) æ¯ä¸ªä¸ªä½“å¯ä»¥é€šè¿‡é‡Šæ”¾ä¿¡æ¯ç´ æ¥æ”¹å˜å‘¨å›´çš„ç¯å¢ƒï¼Œä¸”æ¯ä¸ªä¸ªä½“èƒ½å¤Ÿæ„ŸçŸ¥å‘¨å›´ç¯å¢ƒçš„å®æ—¶å˜åŒ–ï¼Œä¸ªä½“é—´é€šè¿‡ç¯å¢ƒè¿›è¡Œé—´æ¥åœ°é€šè®¯ã€‚(3) æœç´¢è¿‡ç¨‹é‡‡ç”¨åˆ†å¸ƒå¼è®¡ç®—æ–¹å¼ï¼Œå¤šä¸ªä¸ªä½“åŒæ—¶è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå¤§å¤§æé«˜äº†ç®—æ³•çš„è®¡ç®—èƒ½åŠ›å’Œè¿è¡Œæ•ˆç‡ã€‚(4) å¯å‘å¼çš„æ¦‚ç‡æœç´¢æ–¹å¼ä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œæ˜“äºå¯»æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚ è¯¥ç®—æ³•åº”ç”¨äºå…¶ä»–ç»„åˆä¼˜åŒ–é—®é¢˜ï¼Œå¦‚æ—…è¡Œå•†é—®é¢˜ã€æŒ‡æ´¾é—®é¢˜ã€Job Shop è°ƒåº¦é—®é¢˜ã€è½¦è¾†è·¯ç”±é—®é¢˜ã€å›¾ç€è‰²é—®é¢˜å’Œç½‘ç»œè·¯ç”±é—®é¢˜ç­‰ã€‚æœ€è¿‘å‡ å¹´ï¼Œè¯¥ç®—æ³•åœ¨ç½‘ç»œè·¯ç”±ä¸­çš„åº”ç”¨å—åˆ°è¶Šæ¥è¶Šå¤šå­¦è€…çš„å…³æ³¨ï¼Œå¹¶æå‡ºäº†ä¸€äº›æ–°çš„åŸºäºèš‚èšç®—æ³•çš„è·¯ç”±ç®—æ³•ã€‚åŒä¼ ç»Ÿçš„è·¯ç”±ç®—æ³•ç›¸æ¯”è¾ƒï¼Œè¯¥ç®—æ³•åœ¨ç½‘ç»œè·¯ç”±ä¸­å…·æœ‰ä¿¡æ¯åˆ†å¸ƒå¼æ€§ã€åŠ¨æ€æ€§ã€éšæœºæ€§å’Œå¼‚æ­¥æ€§ç­‰ç‰¹ç‚¹ï¼Œè€Œè¿™äº›ç‰¹ç‚¹æ­£å¥½èƒ½æ»¡è¶³ç½‘ç»œè·¯ç”±çš„éœ€è¦ã€‚ VisualizationA visual demo of Ant Colony Optimisation written in Javascript (ES6): Another visual demo of Ant Colony Optimisation: References Ant colony optimization algorithms, https://en.wikipedia.org/wiki/Ant_colony_optimization_algorithms Visualisation of Ant Colony Optimisation, http://poolik.github.io/visual-aco/#/visualisation A visual demo of Ant Colony Optimisation applied to TSP written in Javascript, http://gordyd.github.io/js-aco/ ç™¾åº¦ç™¾ç§‘ - èšç¾¤ç®—æ³•, https://wapbaike.baidu.com/item/%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95","tags":[]},{"title":"Influence Without Authority","date":"2017-03-12T11:31:23.000Z","path":"2017/03/12/Influence-Without-Authority/","text":"The Psychology of Persuasion.","tags":[]},{"title":"Spring Data - powerful and succinct abstraction","date":"2017-03-03T23:05:30.000Z","path":"2017/03/04/Spring-Data-powerful-and-succinct-abstraction/","text":"Database tier definition Database tables, indexes and foreign keys defined in Liquibase configuration: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122databaseChangeLog: - changeSet: id: 1 author: Terrence Miao changes: - createTable: tableName: draft_order columns: - column: name: id type: int autoIncrement: true constraints: primaryKey: true nullable: false - column: name: c_number type: varchar(32) constraints: nullable: false - column: name: source_time_in_ms type: bigint constraints: nullable: false - column: name: source_item_id type: varchar(255) constraints: nullable: false - column: name: shipment type: json constraints: nullable: false - column: name: shipment_id type: varchar(255) constraints: nullable: true - column: name: quantity type: int constraints: nullable: false - column: name: source_system type: varchar(255) constraints: nullable: false - column: name: status type: varchar(32) constraints: nullable: false - createIndex: columns: - column: name: source_item_id indexName: idx_source_item_id tableName: draft_order unique: false - createIndex: columns: - column: name: c_number - column: name: source_item_id indexName: idx_c_number_source_item_id tableName: draft_order unique: true - createTable: tableName: draft_order_combined columns: - column: name: id type: int autoIncrement: true constraints: primaryKey: true nullable: false - column: name: combined_id type: varchar(64) constraints: nullable: false - column: name: draft_order_id type: int constraints: nullable: false - addForeignKeyConstraint: baseColumnNames: draft_order_id baseTableName: draft_order_combined constraintName: fk_draft_order_combined_draft_order onDelete: CASCADE onUpdate: RESTRICT referencedColumnNames: id referencedTableName: draft_order - changeSet: id: 2 author: Terrence Miao changes: - addColumn: columns: - column: # For MySQL 5.7.x above, the first TIMESTAMP column in the table gets current timestamp as the default value, likely. So # if an INSERT or UPDATE without supplying a value, the column will get the current timestamp. Any subsequent TIMESTAMP # columns should have a default value explicitly defined. If you have two TIMESTAMP columns and if you don't specify a # default value for the second column, you will get this error while trying to create the table: # ERROR 1067 (42000): Invalid default value for 'COLUMN_NAME' name: date_created type: timestamp(3) constraints: nullable: false - column: name: date_updated type: timestamp(3) defaultValueComputed: LOCALTIMESTAMP(3) constraints: nullable: false tableName: draft_order DAO definition Draft Order 1234567891011121314151617181920212223242526272829303132@Entity@Table(name = \"draft_order\")public class DraftOrder implements Serializable &#123; @Id @GeneratedValue(strategy = GenerationType.AUTO) private Integer id; @Column(name = \"c_number\") private String cNumber; @Column(name = \"source_time_in_ms\") private Long sourceTimeInMs; @Column(name = \"source_item_id\") private String sourceItemId; @Column(name = \"shipment\", columnDefinition = \"json\") private String shipment; @Column(name = \"shipment_id\") private String shipmentId; @Column(name = \"quantity\") private Integer quantity; @Column(name = \"source_system\") private String sourceSystem; @Column(name = \"status\") private String status;&#125; Draft Order Combined 123456789101112131415@Entity@Table(name = \"draft_order_combined\")public class DraftOrderCombined implements Serializable &#123; @Id @GeneratedValue(strategy = GenerationType.AUTO) private Integer id; @Column(name = \"combined_id\") private String combinedId; @OneToOne(cascade = CascadeType.ALL) @JoinColumn(name = \"draft_order_id\") private DraftOrder draftOrder;&#125; An middle Aggregation Object 123456789101112public class CombinedIdSourceTimeInMs &#123; private Long counter; private String combinedId; private Long sourceTimeInMs; public CombinedIdSourceTimeInMs(Long counter, String combinedId, Long sourceTimeInMs) &#123; this.counter = counter; this.combinedId = combinedId; this.sourceTimeInMs = sourceTimeInMs; &#125;&#125; CRUD Repository definition DraftOrderRepository 1234567891011121314public interface DraftOrderRepository extends CrudRepository&lt;DraftOrder, Integer&gt; &#123; List&lt;DraftOrder&gt; findByCNumberAndStatusOrderBySourceTimeInMsDesc(String cNumber, String status, Pageable pageable); List&lt;DraftOrder&gt; findByCNumberAndSourceItemIdIn(String cNumber, List&lt;String&gt; sourceItemIds); DraftOrder findByCNumberAndSourceItemId(String cNumber, String sourceItemId); List&lt;DraftOrder&gt; findByShipmentIdInAndStatusAndSourceSystem(List&lt;String&gt; shipmentIds, String status, String sourceSystem); List&lt;DraftOrder&gt; findByCNumberAndId(String cNumber, Integer id); Long countByCNumberAndStatus(String cNumber, String status);&#125; DraftOrderCombinedRepository 12345678910111213141516171819public interface DraftOrderCombinedRepository extends CrudRepository&lt;DraftOrderCombined, Integer&gt; &#123; String FIND_QUERY = \"SELECT new org.paradise.data.dao.CombinedIdSourceTimeInMs\" + \"(count(doc) as counter, doc.combinedId as combinedId, min(doc.draftOrder.sourceTimeInMs) as sourceTimeInMs) \" + \" FROM DraftOrderCombined doc WHERE doc.draftOrder.cNumber = :cNumber AND doc.draftOrder.status = :status \" + \" GROUP BY combinedId \" + \" ORDER BY sourceTimeInMs DESC\"; String COUNT_QUERY = \"SELECT count(1) FROM \" + \"(SELECT count(1) FROM DraftOrderCombined doc WHERE doc.draftOrder.cNumber = :cNumber AND doc.draftOrder.status = :status\" + \" GROUP BY doc.combinedId)\"; @Query(value = FIND_QUERY, countQuery = COUNT_QUERY) List&lt;CombinedIdSourceTimeInMs&gt; countPerCombinedIdAndSourceTimeInMs(@Param(\"cNumber\") String cNumber, @Param(\"status\") String status, Pageable pageable); List&lt;DraftOrderCombined&gt; findByCombinedIdOrderByDraftOrderDaoSourceTimeInMsDesc(String combinedId);&#125; References Spring Data JPA Reference Documentation, https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","tags":[]},{"title":"SQL script generates random data and insert into MySQL database","date":"2017-03-03T12:02:17.000Z","path":"2017/03/03/SQL-script-generates-random-data-and-insert-into-MySQL-database/","text":"1DROP PROCEDURE InsertRandomRecords; 12345678910111213141516DELIMITER $$CREATE PROCEDURE InsertRandomRecords(IN NumRows INT) BEGIN DECLARE i INT; SET i = 1; START TRANSACTION; WHILE i &lt;= NumRows DO INSERT INTO draftorders.draft_order (c_number, source_time_in_ms, source_item_id, shipment, shipment_id, quantity, source_system, status) VALUES ('C01234567890', RAND()*1000000000, CONCAT('randomSourceRef-', UUID_SHORT()), '&#123;\"to\": &#123;\"name\": \"T T\", \"lines\": [\"Lvl 100\", \"123 smith st\"], \"phone\": \"0356567567\", \"state\": \"VIC\", \"suburb\": \"Greensborough\", \"postcode\": \"3088\", \"business_name\": \"In debt\"&#125;, \"from\": &#123;\"name\": \"Carl Block\", \"lines\": [\"1341 Dandenong Road\"], \"state\": \"VIC\", \"suburb\": \"Geelong\", \"postcode\": \"3220\"&#125;, \"items\": [&#123;\"width\": \"10\", \"height\": \"10\", \"length\": \"10\", \"weight\": \"10\", \"product_id\": \"3D85\", \"item_reference\": \"blocked\", \"authority_to_leave\": true, \"allow_partial_delivery\": true, \"contains_dangerous_goods\": true&#125;], \"shipment_reference\": \"My second shipment ref\", \"customer_reference_1\": \"cr1234\", \"customer_reference_2\": \"cr5678\"&#125;', UUID(), 1, 'EBAY', ELT(1 + FLOOR(RAND()*3), 'DRAFT', 'READY_TO_SHIP', 'SHIPPED')); SET i = i + 1; END WHILE; COMMIT; END$$DELIMITER ; To generate 1,000,000 draft orders: 1CALL InsertRandomRecords(1000000);","tags":[]},{"title":"Set up and run AWS Lambda 'hello' function with serverless","date":"2017-02-26T08:00:26.000Z","path":"2017/02/26/Set-up-and-run-AWS-Lambda-hello-function-with-serverless/","text":"serverlessWith latest Node.js 6.x.x installed, then install serverless globally: 1$ npm install serverless -g AWS LambdaCreate a AWS Lambda skeleton project with serverless: 1234567891011121314$ mkdir serverless-example &amp;&amp; cd $_$ sls create -t aws-nodejsServerless: Generating boilerplate... _______ __| _ .-----.----.--.--.-----.----| .-----.-----.-----.| |___| -__| _| | | -__| _| | -__|__ --|__ --||____ |_____|__| \\___/|_____|__| |__|_____|_____|_____|| | | The Serverless Application Framework| | serverless.com, v1.7.0 -------'Serverless: Successfully generated boilerplate for template: \"aws-nodejs\"Serverless: NOTE: Please update the \"service\" property in serverless.yml with your service name Policies set up for Lambda function For AWS user â€œec2-userâ€, now need to have some policies with permissions to let â€œserverlessâ€ create role, Lambda function and deployment it â€¦ Roles for Lambda function Lambda function role created after Lambda function added and deployed into AWS. DeploymentMake sure AWS environment has been set up, including access key, user, group, policies â€¦ Pack and deploy Lambda example into AWS: 123456789101112131415161718$ sls deploy -r ap-southeast-2 -s devServerless: Packaging service...Serverless: Uploading CloudFormation file to S3...Serverless: Uploading service .zip file to S3 (583 B)...Serverless: Updating Stack...Serverless: Checking Stack update progress.....................Serverless: Stack update finished...Service Informationsservice: serverless-examplestage: devregion: ap-southeast-2api keys: Noneendpoints: Nonefunctions: serverless-example-dev-hello Lambda â€œhelloâ€ function A â€œhelloâ€ Lambda function has been created in Lambda after itâ€™s deployed into AWS by â€œserverlessâ€. Events generated during Lambda function deployment Deployment events generated during Lambda â€œhelloâ€ function deployed into AWS. Add Lambda Trigger on AWS API Gateway Manually create a Lambda Trigger. This time we use AWS API Gateway to trigger / invoke Lambda â€œhelloâ€ function. Exposed Lambda API Gateway After Lambda Trigger created, an exposed RESTful interface for Lambda â€œhelloâ€ function. Say â€œhelloâ€Set up AWS API Gateway trigger for Lambda â€œhelloâ€ function. Go to url, e.g.: Function â€œhelloâ€ log: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&#123; \"message\": \"Go Serverless v1.0! Your function executed successfully!\", \"input\": &#123; \"resource\": \"/serverless-example-dev-hello\", \"path\": \"/serverless-example-dev-hello\", \"httpMethod\": \"GET\", \"headers\": &#123; \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\", \"Accept-Encoding\": \"gzip, deflate, sdch, br\", \"Accept-Language\": \"en-AU,en-GB;q=0.8,en-US;q=0.6,en;q=0.4\", \"CloudFront-Forwarded-Proto\": \"https\", \"CloudFront-Is-Desktop-Viewer\": \"true\", \"CloudFront-Is-Mobile-Viewer\": \"false\", \"CloudFront-Is-SmartTV-Viewer\": \"false\", \"CloudFront-Is-Tablet-Viewer\": \"false\", \"CloudFront-Viewer-Country\": \"AU\", \"Host\": \"b5dyhej16l.execute-api.ap-southeast-2.amazonaws.com\", \"Referer\": \"https://ap-southeast-2.console.aws.amazon.com/lambda/home?region=ap-southeast-2\", \"upgrade-insecure-requests\": \"1\", \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36\", \"Via\": \"2.0 6884828476070d32978b45d03c1cc437.cloudfront.net (CloudFront)\", \"X-Amz-Cf-Id\": \"mvToMffe1AsUJNcMJKUh-Rx26oBJsRBe2n9I1df3xqIAIENPR_ku3A==\", \"X-Amzn-Trace-Id\": \"Root=1-58aae2ff-0b0c5e4059cc97576211ba4a\", \"X-Forwarded-For\": \"101.181.175.227, 54.239.202.65\", \"X-Forwarded-Port\": \"443\", \"X-Forwarded-Proto\": \"https\" &#125;, \"queryStringParameters\": null, \"pathParameters\": null, \"stageVariables\": null, \"requestContext\": &#123; \"accountId\": \"624388274630\", \"resourceId\": \"5jbqsp\", \"stage\": \"prod\", \"requestId\": \"51ba2876-f769-11e6-b507-4b10c8a6886a\", \"identity\": &#123; \"cognitoIdentityPoolId\": null, \"accountId\": null, \"cognitoIdentityId\": null, \"caller\": null, \"apiKey\": null, \"sourceIp\": \"101.181.175.227\", \"accessKey\": null, \"cognitoAuthenticationType\": null, \"cognitoAuthenticationProvider\": null, \"userArn\": null, \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36\", \"user\": null &#125;, \"resourcePath\": \"/serverless-example-dev-hello\", \"httpMethod\": \"GET\", \"apiId\": \"b5dyhej16l\" &#125;, \"body\": null, \"isBase64Encoded\": false &#125;&#125; References serverless framework, https://serverless.com/ Example source code and artefact, https://github.com/TerrenceMiao/AWS/tree/master/serverless-example","tags":[]},{"title":"The State Quadrants - Functional vs. Object Oriented","date":"2017-02-18T12:19:56.000Z","path":"2017/02/18/The-State-Quadrants-Functional-vs-Object-Oriented/","text":"","tags":[]},{"title":"Factorial function implementation in Java 8","date":"2017-02-18T11:15:33.000Z","path":"2017/02/18/Factorial-function-implementation-in-Java-8/","text":"Implementation1234567891011121314151617181920212223242526package org.paradise.function;import java.util.HashMap;import java.util.Map;import java.util.function.Function;/** * Created by terrence on 12/12/2016. */public final class FactorialFunction &#123; public static final Map&lt;Integer, Long&gt; FACTORIAL_MAP = new HashMap&lt;&gt;(); public static final Function&lt;Integer, Long&gt; FACTORIAL = (x) -&gt; FACTORIAL_MAP.computeIfAbsent(x, n -&gt; n * FactorialFunction.FACTORIAL.apply(n - 1)); static &#123; FACTORIAL_MAP.put(1, 1L); // FACTORIAL(1) &#125; private FactorialFunction() &#123; &#125;&#125; Unit test123456789101112131415161718192021package org.paradise.function;import org.junit.Test;import static org.junit.Assert.assertEquals;/** * Created by terrence on 12/12/2016. */public class FactorialFunctionTest &#123; @Test public void testFactorialFunction() throws Exception &#123; assertEquals(\"Incorrect result\", Long.valueOf(1), FactorialFunction.FACTORIAL.apply(1)); assertEquals(\"Incorrect result\", Long.valueOf(2), FactorialFunction.FACTORIAL.apply(2)); assertEquals(\"Incorrect result\", Long.valueOf(3628800), FactorialFunction.FACTORIAL.apply(10)); &#125;&#125;","tags":[]},{"title":"Fibonacci function implementation in Java 8","date":"2017-02-18T11:09:56.000Z","path":"2017/02/18/Fibonacci-function-implementation-in-Java-8/","text":"Implementation123456789101112131415161718192021222324252627package org.paradise.function;import java.util.HashMap;import java.util.Map;import java.util.function.Function;/** * Created by terrence on 12/12/2016. */public final class FibonacciFunction &#123; public static final Map&lt;Integer, Long&gt; FIBONACCI_MAP = new HashMap&lt;&gt;(); public static final Function&lt;Integer, Long&gt; FIBONACCI = (x) -&gt; FIBONACCI_MAP.computeIfAbsent(x, n -&gt; FibonacciFunction.FIBONACCI.apply(n - 2) + FibonacciFunction.FIBONACCI.apply(n - 1)); static &#123; FIBONACCI_MAP.put(0, 0L); // FIBONACCI(0) FIBONACCI_MAP.put(1, 1L); // FIBONACCI(1) &#125; private FibonacciFunction() &#123; &#125;&#125; Unit test12345678910111213141516171819202122232425262728293031package org.paradise.function;import org.junit.Test;import static org.junit.Assert.assertEquals;/** * Created by terrence on 12/12/2016. */public class FibonacciFunctionTest &#123; @Test public void testFibonacciFunction() throws Exception &#123; assertEquals(\"Incorrect result\", Long.valueOf(0), FibonacciFunction.FIBONACCI.apply(0)); assertEquals(\"Incorrect result\", Long.valueOf(1), FibonacciFunction.FIBONACCI.apply(1)); assertEquals(\"Incorrect result\", Long.valueOf(1), FibonacciFunction.FIBONACCI.apply(2)); assertEquals(\"Incorrect result\", Long.valueOf(2), FibonacciFunction.FIBONACCI.apply(3)); assertEquals(\"Incorrect result\", Long.valueOf(3), FibonacciFunction.FIBONACCI.apply(4)); assertEquals(\"Incorrect result\", Long.valueOf(5), FibonacciFunction.FIBONACCI.apply(5)); assertEquals(\"Incorrect result\", Long.valueOf(8), FibonacciFunction.FIBONACCI.apply(6)); assertEquals(\"Incorrect result\", Long.valueOf(13), FibonacciFunction.FIBONACCI.apply(7)); assertEquals(\"Incorrect result\", Long.valueOf(21), FibonacciFunction.FIBONACCI.apply(8)); assertEquals(\"Incorrect result\", Long.valueOf(34), FibonacciFunction.FIBONACCI.apply(9)); assertEquals(\"Incorrect result\", Long.valueOf(55), FibonacciFunction.FIBONACCI.apply(10)); assertEquals(\"Incorrect result\", Long.valueOf(12586269025L), FibonacciFunction.FIBONACCI.apply(50)); &#125;&#125;","tags":[]},{"title":"Remote debugging Java applications run on Tomcat","date":"2017-02-11T02:52:26.000Z","path":"2017/02/11/Remote-debugging-Java-applications-run-on-Tomcat/","text":"Enable JVM option to attach a remote debugger: 1$ export JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005 â€œsuspendâ€ set to â€œyâ€ is to let remote debugger start loading the application. Now, start running Tomcat. JVM debugging port is bound on port 5005i on the machine runs on Tomcat. Next, set up SSH tunnel mirror remotei host (ip-10-213-79-77.ap-southeast-2.compute.internal) 5005 port to localhost on port 5005. For example: 1$ ssh -L 5005:ip-10-213-79-77.ap-southeast-2.compute.internal:5005 -l ec2-user ip-10-213-79-77.ap-southeast-2.compute.internal You can start remote debugging in IDE like IntelliJ and debug the code since.","tags":[]},{"title":"Web Components are coming","date":"2017-02-01T12:56:19.000Z","path":"2017/02/01/Web-Components-are-coming/","text":"AngularJS is going to continue to succeed for some time. But change is inevitable. Web Components are coming. WebComponents create the ability to do all the sorts of markup-driven programming like AngularJS, ReactJS, but less ecosystem dependent. Because DOM is integration point for all the kinds of JavaScript frameworks. Web Components make it MUCH easier to interoperate between components. The future isnâ€™t here yet, but it will change fundamental assumptions about how a JavaScript framework should act and what it should be responsible for. Those shifts in assumptions frequently cause frameworks will drop out of the ecosystem quickly than expected. URL: https://www.webcomponents.org/","tags":[]},{"title":"Perfection","date":"2017-02-01T12:35:24.000Z","path":"2017/02/01/Perfection/","text":"Il semble que la perfection soit atteinte non quand il nâ€™y a plus rien Ã  ajouter, mais quand il nâ€™y a plus rien Ã  retrancher. 1- Antoine de saint Exupery It seems that perfection is attained not when there is nothing more to add, but when there is nothing more to remove.","tags":[]},{"title":"Setup Docker Private Registry in Nexus Repository OSS 3.x.x","date":"2017-01-28T03:37:50.000Z","path":"2017/01/28/Setup-Docker-Private-Registry-in-Nexus-Repository-OSS-3-x-x/","text":"Make sure Nexus Repository has been setup with Self Signed certificate, certificate for host/server e.g. â€œsilencer.bigpondâ€. The following instructions have been successfully tested in Nexus version 3.2.0-01. Create Docker Hub repository in Nexus Create Docker Internal repository in Nexus Create Docker Group repository in Nexus Run Docker with Docker NativeAdd Docker Private Registry in Insecure Registries Now this approach supports docker pull and docker push. Work around with â€œx509: certificate signed by unknown authorityâ€œ error by adding â€œâ€“disable-content-trustâ€ option on docker push command line if Docker doesnâ€™t accept Self-Signed certificate. Add Docker Private Registry serverâ€™s certificate into Docker Virtual Machine CA list1234567891011121314151617181920ğœ† keytool -printcert -rfc -sslserver silencer.bigpond:8444 &gt; silencer.bigpond.pem-----BEGIN CERTIFICATE-----MIIDkDCCAnigAwIBAgIEAqo9kTANBgkqhkiG9w0BAQsFADBgMQswCQYDVQQGEwJBVTEUMBIGA1UECBMLVW5zcGVjaWZpZWQxFDASBgNVBAcTC1Vuc3BlY2lmaWVkMREwDwYDVQQKEwhTb25hdHlwZTESMBAGA1UEAwwJKi5iaWdwb25kMB4XDTE2MDYxMjExMzY1M1oXDTMwMDIxOTExMzY1M1owYDELMAkGA1UEBhMCQVUxFDASBgNVBAgTC1Vuc3BlY2lmaWVkMRQwEgYDVQQHEwtVbnNwZWNpZmllZDERMA8GA1UEChMIU29uYXR5cGUxEjAQBgNVBAMMCSouYmlncG9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJNO5mDpBDQQ8n4t0P2z8ChWzIFQ3Pf+5U8x6P17O3WtKTfsbuRYobHYmas5tVdVdnLIqpb4JV9DWIoS+CNG6cRLy3GIWWT7CbjsrpDlOTArslvk3KuzQ0dsZNflRfdd+ughI2LczehEfhzPJzA+ZU8Am1CadM+VUa+T6MilFQMXpWfjND6BNnV+qr/MX1QQfSjiWt7oWBex0BB0VPv9ooBZUqO+8jk5fUY8wEIa/kqLUqIKGxIUx9BMQBwBJwDKZmK93DXSPvAFYbKQjj6/nbV9R1VWmR7fhkLG+Ixlx5ld2dxv4+xvXmS8s4NanBtKZWUfEYVPp7gUF9HZoW9A1jcCAwEAAaNSMFAwDAYDVR0TBAUwAwEB/zAhBgNVHREEGjAYghBzaWxlbmNlci5iaWdwb25khwQKAAAJMB0GA1UdDgQWBBQV3WTuC+GI8lHtH0uL+kYqTG+vczANBgkqhkiG9w0BAQsFAAOCAQEAUwL+qnKVT0ENZEZnDjB+cjPfvkeWOD05PrGUOn4YB4vllq2S6Cgfm0OaZ+vMt3KMXPf9pIgZ797jdPhOP/s5IVJItldky+u/Hk9gNtUwEjpgl0MjhSm/PqxR5XoJdkYlvUdtq+PTrU5RU3v3GImeOmlI4mM5PaZ6OT8HC5VMX5s9RawBr/5EbJHRM7EN8r3g4Y/2109YoHoiWAhnN6TC3RhmCoQqGOiPsS732KHUz3KqXVbq9VTRdA3dXqFj1cUSet1TXTPisaiehffvbqYm2vrJ5WYgqCwb8TadDg66TToj080qvA8cXAF7qlA8pOImrbVOs7tdANSAs+AOcqCkiA==-----END CERTIFICATE----- 1ğœ† screen ~/Library/Containers/com.docker.docker/Data/com.docker.driver.amd64-linux/tty Inside Docker Virtual Machine, follow these steps: 123$ sudo cat silencer.bigpond.pem &gt;&gt; /etc/ssl/certs/ca-certificates.crt$ sudo /etc/init.d/docker restart$ tail -f /var/lib/boot2docker/docker.log With Docker ToolboxAdd Docker Private Registry serverâ€™s certificate into Docker Virtual Machine CA list12ğœ† keytool -printcert -rfc -sslserver silencer.bigpond:8444 &gt; silencer.bigpond.pemğœ† docker-machine ssh default Inside Docker Virtual Machine, follow these steps:123$ sudo cat silencer.bigpond.pem &gt;&gt; /etc/ssl/certs/ca-certificates.crt$ sudo /etc/init.d/docker restart$ tail -f /var/lib/boot2docker/docker.log Press Ctrl + D and Ctrl + D to exist SCREEN program. Type â€œscreen -râ€ to re-entry SCREEN program. Additional CertificatesDownload 3rd party Repository serverâ€™s certificate. Use tool like KeyStore Explorer to add 3rd party server certificates into existing keystore.jks. Due to a certificate chain that does not exist within the existing Java truststore, Java does not trust the certificate and fails to connect to the application. Test1234ğœ† docker login silencer.bigpond:18443Username: adminPassword: admin123Login Succeeded 12ğœ† docker search silencer.bigpond:18443/tomcatğœ† docker pull silencer.bigpond:18443/jtech/tomcat:latest 1234ğœ† docker login silencer.bigpond:18444Username: adminPassword: admin123Login Succeeded 123ğœ† docker build -t jtech/camel-spring:latest .ğœ† docker tag jtech/camel-spring silencer.bigpond:18444/jtech/camel-spring:latestğœ† docker push silencer.bigpond:18444/jtech/camel-spring:latest 1ğœ† docker push --disable-content-trust silencer.bigpond:18444/jtech/camel-spring:latest Note Due to Docker Virtual Machine is immutable, the CA certificate added change made inside VM is ephemeral, and lost after VM is restarted Docker Private Registry ONLY supports HTTPS, NOT HTTP Nexus repository MUST register and use server certificate for host e.g. â€œsilencer.bigpondâ€, NOT â€œlocalhost.bigpondâ€ to run Docker Private Registry Try with â€œâ€“disable-content-trustâ€ if error like â€œGet https://silencer.gateway:18444/v1/_ping: x509: certificate signed by unknown authorityâ€ Reference Private Registry for Docker, https://books.sonatype.com/nexus-book/3.0/reference/docker.html Using Self-Signed Certificates with Nexus Repository Manager and Docker Daemon, https://support.sonatype.com/hc/en-us/articles/217542177 SSL Certificate Guide, https://support.sonatype.com/hc/en-us/articles/213465768 Setup HTTPS access Nexus Repository, https://github.com/TerrenceMiao/nexus/wiki/Setup-HTTPS-access-Nexus-Repository-Manager-OSS-3.xx Add Self Signed CA certificate into Dockerâ€™s CA list, https://github.com/klippx/inject-docker-certs Adding Self Signed certificate in Docker Native for Mac, https://forums.docker.com/t/adding-self-signed-certificates/9761","tags":[]},{"title":"Setup HTTPS access in Nexus Repository Manager OSS 3.x.x","date":"2017-01-28T02:20:47.000Z","path":"2017/01/28/Setup-HTTPS-access-in-Nexus-Repository-Manager-OSS-3-x-x/","text":"Generate Self Signed certificateOn a Mac at home, with Bigpond internet access. Full host name is silencer.bigpond and IP Address is 10.0.0.9. 12terrence@Silencer /Applications/nexus-3.0.0-03/etc/ssl00:13:05 ğœ† keytool -genkeypair -keystore keystore.jks -storepass changeit -keypass changeit -alias jetty -keyalg RSA -keysize 2048 -validity 5000 -dname \"CN=*.bigpond, O=Sonatype, L=Unspecified, ST=Unspecified, C=AU\" -ext \"SAN=DNS:silencer.bigpond,IP:10.0.0.9\" -ext \"BC=ca:true\" OR run â€œnslookup 127.0.0.1â€ return full domain hostname e.g. â€œlocalhost.bigpondâ€. 12terrence@Silencer /Applications/nexus-3.0.0-03/etc/ssl00:13:05 ğœ† keytool -genkeypair -keystore keystore.jks -storepass changeit -keypass changeit -alias jetty -keyalg RSA -keysize 2048 -validity 5000 -dname \"CN=*.bigpond, O=Sonatype, L=Unspecified, ST=Unspecified, C=AU\" -ext \"SAN=DNS:localhost.bigpond,IP:127.0.0.1\" -ext \"BC=ca:true\" Now, with latest Nexus (version 3.2.0-01) you can use self-signed server certificate without specifying IP address. 12terrence@Silencer /usr/local/nexus-3.2.0-01/etc/ssl00:13:05 ğœ† keytool -genkeypair -keystore keystore.jks -storepass changeit -keypass changeit -alias jetty -keyalg RSA -keysize 2048 -validity 5000 -dname \"CN=*.gateway, O=Sonatype, L=Unspecified, ST=Unspecified, C=AU\" -ext \"SAN=DNS:silencer.gateway\" -ext \"BC=ca:true\" Enable HTTPS accessChange jetty-https.xml file: 123456789101112terrence@Silencer /Applications/nexus-3.0.0-03/etc00:18:59 ğœ† diff jetty-https.xml jetty-https.xml.orig25,26c25,26&lt; &lt;Set name=\"KeyStorePassword\"&gt;changeit&lt;/Set&gt;&lt; &lt;Set name=\"KeyManagerPassword\"&gt;changeit&lt;/Set&gt;---&gt; &lt;Set name=\"KeyStorePassword\"&gt;OBF:1v2j1uum1xtv1zej1zer1xtn1uvk1v1v&lt;/Set&gt;&gt; &lt;Set name=\"KeyManagerPassword\"&gt;OBF:1v2j1uum1xtv1zej1zer1xtn1uvk1v1v&lt;/Set&gt;28c28&lt; &lt;Set name=\"TrustStorePassword\"&gt;changeit&lt;/Set&gt;---&gt; &lt;Set name=\"TrustStorePassword\"&gt;OBF:1v2j1uum1xtv1zej1zer1xtn1uvk1v1v&lt;/Set&gt; Add SSL port and include jetty-https.xml in file: 12345678terrence@Silencer /Applications/nexus-3.0.0-03/etc00:19:06 ğœ† diff org.sonatype.nexus.cfg org.sonatype.nexus.cfg.orig3d2&lt; application-port-ssl=84445c4&lt; nexus-args=$&#123;karaf.etc&#125;/jetty.xml,$&#123;karaf.etc&#125;/jetty-http.xml,$&#123;karaf.etc&#125;/jetty-https.xml,$&#123;karaf.etc&#125;/jetty-http-redirect-to-https.xml,$&#123;karaf.etc&#125;/jetty-requestlog.xml---&gt; nexus-args=$&#123;karaf.etc&#125;/jetty.xml,$&#123;karaf.etc&#125;/jetty-http.xml,$&#123;karaf.etc&#125;/jetty-requestlog.xml Retrieve serverâ€™s certificate 1234567891011121314151617181920ğœ† keytool -printcert -rfc -sslserver silencer.bigpond:8444 &gt; silencer.bigpond.pem-----BEGIN CERTIFICATE-----MIIDkDCCAnigAwIBAgIEAqo9kTANBgkqhkiG9w0BAQsFADBgMQswCQYDVQQGEwJBVTEUMBIGA1UECBMLVW5zcGVjaWZpZWQxFDASBgNVBAcTC1Vuc3BlY2lmaWVkMREwDwYDVQQKEwhTb25hdHlwZTESMBAGA1UEAwwJKi5iaWdwb25kMB4XDTE2MDYxMjExMzY1M1oXDTMwMDIxOTExMzY1M1owYDELMAkGA1UEBhMCQVUxFDASBgNVBAgTC1Vuc3BlY2lmaWVkMRQwEgYDVQQHEwtVbnNwZWNpZmllZDERMA8GA1UEChMIU29uYXR5cGUxEjAQBgNVBAMMCSouYmlncG9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJNO5mDpBDQQ8n4t0P2z8ChWzIFQ3Pf+5U8x6P17O3WtKTfsbuRYobHYmas5tVdVdnLIqpb4JV9DWIoS+CNG6cRLy3GIWWT7CbjsrpDlOTArslvk3KuzQ0dsZNflRfdd+ughI2LczehEfhzPJzA+ZU8Am1CadM+VUa+T6MilFQMXpWfjND6BNnV+qr/MX1QQfSjiWt7oWBex0BB0VPv9ooBZUqO+8jk5fUY8wEIa/kqLUqIKGxIUx9BMQBwBJwDKZmK93DXSPvAFYbKQjj6/nbV9R1VWmR7fhkLG+Ixlx5ld2dxv4+xvXmS8s4NanBtKZWUfEYVPp7gUF9HZoW9A1jcCAwEAAaNSMFAwDAYDVR0TBAUwAwEB/zAhBgNVHREEGjAYghBzaWxlbmNlci5iaWdwb25khwQKAAAJMB0GA1UdDgQWBBQV3WTuC+GI8lHtH0uL+kYqTG+vczANBgkqhkiG9w0BAQsFAAOCAQEAUwL+qnKVT0ENZEZnDjB+cjPfvkeWOD05PrGUOn4YB4vllq2S6Cgfm0OaZ+vMt3KMXPf9pIgZ797jdPhOP/s5IVJItldky+u/Hk9gNtUwEjpgl0MjhSm/PqxR5XoJdkYlvUdtq+PTrU5RU3v3GImeOmlI4mM5PaZ6OT8HC5VMX5s9RawBr/5EbJHRM7EN8r3g4Y/2109YoHoiWAhnN6TC3RhmCoQqGOiPsS732KHUz3KqXVbq9VTRdA3dXqFj1cUSet1TXTPisaiehffvbqYm2vrJ5WYgqCwb8TadDg66TToj080qvA8cXAF7qlA8pOImrbVOs7tdANSAs+AOcqCkiA==-----END CERTIFICATE----- To get another Source Code Repository serverâ€™s certificate 1ğœ† keytool -printcert -rfc -sslserver bitbucket.cd.paradise.org:443 &gt; bitbucket.cd.paradise.org.pem TestRestart Nexus and access: https://localhost:8444 Note Use utility tool â€œKeyStore Explorerâ€ add additional CA certificates into keystore.jks file, especially when Gradle / Maven output error like: 1&gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","tags":[]},{"title":"Hello World","date":"2017-01-13T08:43:03.000Z","path":"2017/01/13/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]}]}