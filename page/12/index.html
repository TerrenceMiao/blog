<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=330279473"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '330279473');
</script>
<!-- End Google Analytics -->

  
  <title>Terrence Miao&#39;s Adventures</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="Veni, vidi, vici">
  
  
  
    <link rel="alternate" href="/blog/atom.xml" title="Terrence Miao's Adventures" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/blog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/blog/css/style.css">

  
    
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.min.css">

  
  
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7274218747178099" crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Terrence Miao&#39;s Adventures</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">A journey of a thousand miles begins with a single step</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/blog/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/blog/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/blog/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/blog/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-Ant-Colony-Optimization-ACO" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/06/30/Ant-Colony-Optimization-ACO/">Ant Colony Optimization (ACO)</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-06-30T12:46:52.000Z" itemprop="datePublished">2017-06-30</time>
</span>
      
      
      
<a href="/blog/2017/06/30/Ant-Colony-Optimization-ACO/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Ant Colony Optimization (ACO) for the the Traveling Salesman Problem (TSP).</p>
<p>In computer science and operations research, the ant colony optimization algorithm (ACO) is a probabilistic technique for solving computational problems which can be reduced to finding good paths through graphs.</p>
<p>蚁群算法是一种用来寻找优化路径的概率型算法。它由 Marco Dorigo 于 1992 年在他的博士论文中提出，其灵感来源于蚂蚁在寻找食物过程中发现路径的行为。这种算法具有分布计算、信息正反馈和启发式搜索的特征，本质上是进化算法中的一种启发式全局优化算法。</p>
<p>蚁群系统 (Ant System 或 Ant Colony System) 是由意大利学者 Dorigo、Maniezzo 等人于 20 世纪 90 年代首先提出来的。他们在研究蚂蚁觅食的过程中，发现单个蚂蚁的行为比较简单，但是蚁群整体却可以体现一些智能的行为。例如蚁群可以在不同的环境下，寻找最短到达食物源的路径。这是因为蚁群内的蚂蚁可以通过某种信息机制实现信息的传递。后又经进一步研究发现，蚂蚁会在其经过的路径上释放一种可以称之为“信息素”的物质，蚁群内的蚂蚁对“信息素”具有感知能力，它们会沿着“信息素”浓度较高路径行走，而每只路过的蚂蚁都会在路上留下“信息素”，这就形成一种类似正反馈的机制，这样经过一段时间后，整个蚁群就会沿着最短路径到达食物源了。</p>
<p>将蚁群算法应用于解决优化问题的基本思路为：用蚂蚁的行走路径表示待优化问题的可行解，整个蚂蚁群体的所有路径构成待优化问题的解空间。路径较短的蚂蚁释放的信息素量较多，随着时间的推进，较短的路径上累积的信息素浓度逐渐增高，选择该路径的蚂蚁个数也愈来愈多。最终，整个蚂蚁会在正反馈的作用下集中到最佳的路径上，此时对应的便是待优化问题的最优解。</p>
<p>蚂蚁找到最短路径要归功于信息素和环境，假设有两条路可从蚁窝通向食物，开始时两条路上的蚂蚁数量差不多：当蚂蚁到达终点之后会立即返回，距离短的路上的蚂蚁往返一次时间短，重复频率快，在单位时间里往返蚂蚁的数目就多，留下的信息素也多，会吸引更多蚂蚁过来，会留下更多信息素。而距离长的路正相反，因此越来越多的蚂蚁聚集到最短路径上来。</p>
<p>蚂蚁具有的智能行为得益于其简单行为规则，该规则让其具有多样性和正反馈。在觅食时，多样性使蚂蚁不会走进死胡同而无限循环，是一种创新能力；正反馈使优良信息保存下来，是一种学习强化能力。两者的巧妙结合使智能行为涌现，如果多样性过剩，系统过于活跃，会导致过多的随机运动，陷入混沌状态；如果多样性不够，正反馈过强，会导致僵化，当环境变化时蚁群不能相应调整。</p>
<p>与其他优化算法相比，蚁群算法具有以下几个特点：</p>
<p>(1) 采用正反馈机制，使得搜索过程不断收敛，最终逼近最优解。<br>(2) 每个个体可以通过释放信息素来改变周围的环境，且每个个体能够感知周围环境的实时变化，个体间通过环境进行间接地通讯。<br>(3) 搜索过程采用分布式计算方式，多个个体同时进行并行计算，大大提高了算法的计算能力和运行效率。<br>(4) 启发式的概率搜索方式不容易陷入局部最优，易于寻找到全局最优解。</p>
<p>该算法应用于其他组合优化问题，如旅行商问题、指派问题、Job Shop 调度问题、车辆路由问题、图着色问题和网络路由问题等。最近几年，该算法在网络路由中的应用受到越来越多学者的关注，并提出了一些新的基于蚂蚁算法的路由算法。同传统的路由算法相比较，该算法在网络路由中具有信息分布式性、动态性、随机性和异步性等特点，而这些特点正好能满足网络路由的需要。</p>
<h2 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h2><p>A visual demo of Ant Colony Optimisation written in Javascript (ES6):</p>
<p><img src="https://camo.githubusercontent.com/2199a8a12e6e22c3fee6fb931449db0f36fff7a5/687474703a2f2f692e696d6775722e636f6d2f57536c6179356b2e676966" alt="Visual demo of Ant Colony Optimisation " title="Visual demo of Ant Colony Optimisation"></p>
<p>Another visual demo of Ant Colony Optimisation:</p>
<p><img src="/blog/img/Visual%20demo%20of%20Ant%20Colony%20Optimisation.png" alt="Visual demo of Ant Colony Optimisation" title="Visual demo of Ant Colony Optimisation"></p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>Ant colony optimization algorithms, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ant_colony_optimization_algorithms">https://en.wikipedia.org/wiki/Ant_colony_optimization_algorithms</a></li>
<li>Visualisation of Ant Colony Optimisation, <a target="_blank" rel="noopener" href="http://poolik.github.io/visual-aco/#/visualisation">http://poolik.github.io/visual-aco/#/visualisation</a></li>
<li>A visual demo of Ant Colony Optimisation applied to TSP written in Javascript, <a target="_blank" rel="noopener" href="http://gordyd.github.io/js-aco/">http://gordyd.github.io/js-aco/</a></li>
<li>百度百科 - 蚁群算法, <a target="_blank" rel="noopener" href="https://wapbaike.baidu.com/item/%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95">https://wapbaike.baidu.com/item/%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95</a></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Influence-Without-Authority" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/03/12/Influence-Without-Authority/">Influence Without Authority</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-03-12T11:31:23.000Z" itemprop="datePublished">2017-03-12</time>
</span>
      
      
      
<a href="/blog/2017/03/12/Influence-Without-Authority/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>The Psychology of Persuasion.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Spring-Data-powerful-and-succinct-abstraction" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/03/04/Spring-Data-powerful-and-succinct-abstraction/">Spring Data - powerful and succinct abstraction</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-03-03T23:05:30.000Z" itemprop="datePublished">2017-03-04</time>
</span>
      
      
      
<a href="/blog/2017/03/04/Spring-Data-powerful-and-succinct-abstraction/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Database-tier-definition"><a href="#Database-tier-definition" class="headerlink" title="Database tier definition "></a>Database tier definition </h2><p>Database tables, indexes and foreign keys defined in Liquibase configuration:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">databaseChangeLog:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">changeSet:</span></span><br><span class="line">      <span class="attr">id:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">Terrence</span> <span class="string">Miao</span></span><br><span class="line">      <span class="attr">changes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">createTable:</span></span><br><span class="line">            <span class="attr">tableName:</span> <span class="string">draft_order</span></span><br><span class="line">            <span class="attr">columns:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">int</span></span><br><span class="line">                  <span class="attr">autoIncrement:</span> <span class="literal">true</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">primaryKey:</span> <span class="literal">true</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">c_number</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(32)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">source_time_in_ms</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">bigint</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">source_item_id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(255)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">shipment</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">json</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">shipment_id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(255)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">true</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">quantity</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">int</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">source_system</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(255)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">status</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(32)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">createIndex:</span></span><br><span class="line">            <span class="attr">columns:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">source_item_id</span></span><br><span class="line">            <span class="attr">indexName:</span> <span class="string">idx_source_item_id</span></span><br><span class="line">            <span class="attr">tableName:</span> <span class="string">draft_order</span></span><br><span class="line">            <span class="attr">unique:</span> <span class="literal">false</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">createIndex:</span></span><br><span class="line">            <span class="attr">columns:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">c_number</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">source_item_id</span></span><br><span class="line">            <span class="attr">indexName:</span> <span class="string">idx_c_number_source_item_id</span></span><br><span class="line">            <span class="attr">tableName:</span> <span class="string">draft_order</span></span><br><span class="line">            <span class="attr">unique:</span> <span class="literal">true</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">createTable:</span></span><br><span class="line">            <span class="attr">tableName:</span> <span class="string">draft_order_combined</span></span><br><span class="line">            <span class="attr">columns:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">int</span></span><br><span class="line">                  <span class="attr">autoIncrement:</span> <span class="literal">true</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">primaryKey:</span> <span class="literal">true</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">combined_id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">varchar(64)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">draft_order_id</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">int</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">addForeignKeyConstraint:</span></span><br><span class="line">            <span class="attr">baseColumnNames:</span> <span class="string">draft_order_id</span></span><br><span class="line">            <span class="attr">baseTableName:</span> <span class="string">draft_order_combined</span></span><br><span class="line">            <span class="attr">constraintName:</span> <span class="string">fk_draft_order_combined_draft_order</span></span><br><span class="line">            <span class="attr">onDelete:</span> <span class="string">CASCADE</span></span><br><span class="line">            <span class="attr">onUpdate:</span> <span class="string">RESTRICT</span></span><br><span class="line">            <span class="attr">referencedColumnNames:</span> <span class="string">id</span></span><br><span class="line">            <span class="attr">referencedTableName:</span> <span class="string">draft_order</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">changeSet:</span></span><br><span class="line">      <span class="attr">id:</span> <span class="number">2</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">Terrence</span> <span class="string">Miao</span></span><br><span class="line">      <span class="attr">changes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">addColumn:</span></span><br><span class="line">            <span class="attr">columns:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="comment"># For MySQL 5.7.x above, the first TIMESTAMP column in the table gets current timestamp as the default value, likely. So </span></span><br><span class="line">                  <span class="comment"># if an INSERT or UPDATE without supplying a value, the column will get the current timestamp.  Any subsequent TIMESTAMP </span></span><br><span class="line">                  <span class="comment"># columns should have a default value explicitly defined. If you have two TIMESTAMP columns and if you don&#x27;t specify a </span></span><br><span class="line">                  <span class="comment"># default value for the second column, you will get this error while trying to create the table: </span></span><br><span class="line">                  <span class="comment">#   ERROR 1067 (42000): Invalid default value for &#x27;COLUMN_NAME&#x27;</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">date_created</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">timestamp(3)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">column:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">date_updated</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">timestamp(3)</span></span><br><span class="line">		  <span class="attr">defaultValueComputed:</span> <span class="string">LOCALTIMESTAMP(3)</span></span><br><span class="line">                  <span class="attr">constraints:</span></span><br><span class="line">                    <span class="attr">nullable:</span> <span class="literal">false</span></span><br><span class="line">            <span class="attr">tableName:</span> <span class="string">draft_order</span></span><br></pre></td></tr></table></figure>

<h2 id="DAO-definition"><a href="#DAO-definition" class="headerlink" title="DAO definition"></a>DAO definition</h2><ul>
<li>Draft Order</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;draft_order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DraftOrder</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;c_number&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String cNumber;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;source_time_in_ms&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long sourceTimeInMs;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;source_item_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String sourceItemId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;shipment&quot;, columnDefinition = &quot;json&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String shipment;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;shipment_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String shipmentId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;quantity&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer quantity;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;source_system&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String sourceSystem;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;status&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String status;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Draft Order Combined</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;draft_order_combined&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DraftOrderCombined</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;combined_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String combinedId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToOne(cascade = CascadeType.ALL)</span></span><br><span class="line">    <span class="meta">@JoinColumn(name = &quot;draft_order_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> DraftOrder draftOrder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>An middle Aggregation Object</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CombinedIdSourceTimeInMs</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long counter;</span><br><span class="line">    <span class="keyword">private</span> String combinedId;</span><br><span class="line">    <span class="keyword">private</span> Long sourceTimeInMs;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CombinedIdSourceTimeInMs</span><span class="params">(Long counter, String combinedId, Long sourceTimeInMs)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.counter = counter;</span><br><span class="line">        <span class="built_in">this</span>.combinedId = combinedId;</span><br><span class="line">        <span class="built_in">this</span>.sourceTimeInMs = sourceTimeInMs;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CRUD-Repository-definition"><a href="#CRUD-Repository-definition" class="headerlink" title="CRUD Repository definition"></a>CRUD Repository definition</h2><ul>
<li>DraftOrderRepository</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DraftOrderRepository</span> <span class="keyword">extends</span> <span class="title class_">CrudRepository</span>&lt;DraftOrder, Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;DraftOrder&gt; <span class="title function_">findByCNumberAndStatusOrderBySourceTimeInMsDesc</span><span class="params">(String cNumber, String status, Pageable pageable)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;DraftOrder&gt; <span class="title function_">findByCNumberAndSourceItemIdIn</span><span class="params">(String cNumber, List&lt;String&gt; sourceItemIds)</span>;</span><br><span class="line"></span><br><span class="line">    DraftOrder <span class="title function_">findByCNumberAndSourceItemId</span><span class="params">(String cNumber, String sourceItemId)</span>;</span><br><span class="line">    </span><br><span class="line">    List&lt;DraftOrder&gt; <span class="title function_">findByShipmentIdInAndStatusAndSourceSystem</span><span class="params">(List&lt;String&gt; shipmentIds, String status, String sourceSystem)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;DraftOrder&gt; <span class="title function_">findByCNumberAndId</span><span class="params">(String cNumber, Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    Long <span class="title function_">countByCNumberAndStatus</span><span class="params">(String cNumber, String status)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>DraftOrderCombinedRepository</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DraftOrderCombinedRepository</span> <span class="keyword">extends</span> <span class="title class_">CrudRepository</span>&lt;DraftOrderCombined, Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">FIND_QUERY</span> <span class="operator">=</span></span><br><span class="line">            <span class="string">&quot;SELECT new org.paradise.data.dao.CombinedIdSourceTimeInMs&quot;</span></span><br><span class="line">                    + <span class="string">&quot;(count(doc) as counter, doc.combinedId as combinedId, min(doc.draftOrder.sourceTimeInMs) as sourceTimeInMs) &quot;</span></span><br><span class="line">                    + <span class="string">&quot; FROM DraftOrderCombined doc WHERE doc.draftOrder.cNumber = :cNumber AND doc.draftOrder.status = :status &quot;</span></span><br><span class="line">                    + <span class="string">&quot; GROUP BY combinedId &quot;</span></span><br><span class="line">                    + <span class="string">&quot; ORDER BY sourceTimeInMs DESC&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">COUNT_QUERY</span> <span class="operator">=</span> <span class="string">&quot;SELECT count(1) FROM &quot;</span></span><br><span class="line">            + <span class="string">&quot;(SELECT count(1) FROM DraftOrderCombined doc WHERE doc.draftOrder.cNumber = :cNumber AND doc.draftOrder.status = :status&quot;</span></span><br><span class="line">            + <span class="string">&quot;  GROUP BY doc.combinedId)&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query(value = FIND_QUERY, countQuery = COUNT_QUERY)</span></span><br><span class="line">    List&lt;CombinedIdSourceTimeInMs&gt; <span class="title function_">countPerCombinedIdAndSourceTimeInMs</span><span class="params">(<span class="meta">@Param(&quot;cNumber&quot;)</span> String cNumber,</span></span><br><span class="line"><span class="params">                                                                       <span class="meta">@Param(&quot;status&quot;)</span> String status, Pageable pageable)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;DraftOrderCombined&gt; <span class="title function_">findByCombinedIdOrderByDraftOrderDaoSourceTimeInMsDesc</span><span class="params">(String combinedId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li>Spring Data JPA Reference Documentation, <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/</a></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-SQL-script-generates-random-data-and-insert-into-MySQL-database" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/03/03/SQL-script-generates-random-data-and-insert-into-MySQL-database/">SQL script generates random data and insert into MySQL database</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-03-03T12:02:17.000Z" itemprop="datePublished">2017-03-03</time>
</span>
      
      
      
<a href="/blog/2017/03/03/SQL-script-generates-random-data-and-insert-into-MySQL-database/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> InsertRandomRecords;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> InsertRandomRecords(<span class="keyword">IN</span> NumRows <span class="type">INT</span>)</span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line">        <span class="keyword">DECLARE</span> i <span class="type">INT</span>;</span><br><span class="line">        <span class="keyword">SET</span> i <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">START</span> TRANSACTION;</span><br><span class="line">        WHILE i <span class="operator">&lt;=</span> NumRows DO</span><br><span class="line">            <span class="keyword">INSERT</span> <span class="keyword">INTO</span> draftorders.draft_order (c_number, source_time_in_ms, source_item_id, shipment, shipment_id, quantity, source_system, status)</span><br><span class="line">            <span class="keyword">VALUES</span> (<span class="string">&#x27;C01234567890&#x27;</span>, RAND()<span class="operator">*</span><span class="number">1000000000</span>, CONCAT(<span class="string">&#x27;randomSourceRef-&#x27;</span>, UUID_SHORT()),</span><br><span class="line">                    <span class="string">&#x27;&#123;&quot;to&quot;: &#123;&quot;name&quot;: &quot;T T&quot;, &quot;lines&quot;: [&quot;Lvl 100&quot;, &quot;123 smith st&quot;], &quot;phone&quot;: &quot;0356567567&quot;, &quot;state&quot;: &quot;VIC&quot;, &quot;suburb&quot;: &quot;Greensborough&quot;, &quot;postcode&quot;: &quot;3088&quot;, &quot;business_name&quot;: &quot;In debt&quot;&#125;, &quot;from&quot;: &#123;&quot;name&quot;: &quot;Carl Block&quot;, &quot;lines&quot;: [&quot;1341 Dandenong Road&quot;], &quot;state&quot;: &quot;VIC&quot;, &quot;suburb&quot;: &quot;Geelong&quot;, &quot;postcode&quot;: &quot;3220&quot;&#125;, &quot;items&quot;: [&#123;&quot;width&quot;: &quot;10&quot;, &quot;height&quot;: &quot;10&quot;, &quot;length&quot;: &quot;10&quot;, &quot;weight&quot;: &quot;10&quot;, &quot;product_id&quot;: &quot;3D85&quot;, &quot;item_reference&quot;: &quot;blocked&quot;, &quot;authority_to_leave&quot;: true, &quot;allow_partial_delivery&quot;: true, &quot;contains_dangerous_goods&quot;: true&#125;], &quot;shipment_reference&quot;: &quot;My second shipment ref&quot;, &quot;customer_reference_1&quot;: &quot;cr1234&quot;, &quot;customer_reference_2&quot;: &quot;cr5678&quot;&#125;&#x27;</span>,</span><br><span class="line">                    UUID(), <span class="number">1</span>, <span class="string">&#x27;EBAY&#x27;</span>, ELT(<span class="number">1</span> <span class="operator">+</span> <span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">3</span>), <span class="string">&#x27;DRAFT&#x27;</span>, <span class="string">&#x27;READY_TO_SHIP&#x27;</span>, <span class="string">&#x27;SHIPPED&#x27;</span>));</span><br><span class="line">            <span class="keyword">SET</span> i <span class="operator">=</span> i <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">END</span> WHILE;</span><br><span class="line">        <span class="keyword">COMMIT</span>;</span><br><span class="line">    <span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<p>To generate 1,000,000 draft orders:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CALL</span> InsertRandomRecords(<span class="number">1000000</span>);</span><br></pre></td></tr></table></figure>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Set-up-and-run-AWS-Lambda-hello-function-with-serverless" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/26/Set-up-and-run-AWS-Lambda-hello-function-with-serverless/">Set up and run AWS Lambda &#39;hello&#39; function with serverless</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-26T08:00:26.000Z" itemprop="datePublished">2017-02-26</time>
</span>
      
      
      
<a href="/blog/2017/02/26/Set-up-and-run-AWS-Lambda-hello-function-with-serverless/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="serverless"><a href="#serverless" class="headerlink" title="serverless"></a>serverless</h3><p>With latest Node.js 6.x.x installed, then install serverless globally:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install serverless -g</span><br></pre></td></tr></table></figure>

<h3 id="AWS-Lambda"><a href="#AWS-Lambda" class="headerlink" title="AWS Lambda"></a>AWS Lambda</h3><p>Create a AWS Lambda skeleton project with serverless:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> serverless-example &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span></span><br><span class="line"></span><br><span class="line">$ sls create -t aws-nodejs</span><br><span class="line">Serverless: Generating boilerplate...</span><br><span class="line"> _______                             __</span><br><span class="line">|   _   .-----.----.--.--.-----.----|  .-----.-----.-----.</span><br><span class="line">|   |___|  -__|   _|  |  |  -__|   _|  |  -__|__ --|__ --|</span><br><span class="line">|____   |_____|__|  \___/|_____|__| |__|_____|_____|_____|</span><br><span class="line">|   |   |             The Serverless Application Framework</span><br><span class="line">|       |                           serverless.com, v1.7.0</span><br><span class="line"> -------<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Serverless: Successfully generated boilerplate for template: &quot;aws-nodejs&quot;</span></span><br><span class="line"><span class="string">Serverless: NOTE: Please update the &quot;service&quot; property in serverless.yml with your service name</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Policies set up for Lambda function</strong></li>
</ul>
<p>For AWS user “ec2-user”, now need to have some policies with permissions to let “serverless” create role, Lambda function and deployment it …</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20Policies.png" alt="Polices set up for Lambda function"></p>
<ul>
<li><strong>Roles for Lambda function</strong></li>
</ul>
<p>Lambda function role created after Lambda function added and deployed into AWS.</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20Roles.png" alt="Roles for Lambda function"></p>
<h3 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h3><p>Make sure AWS environment has been set up, including access key, user, group, policies …</p>
<p>Pack and deploy Lambda example into AWS:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ sls deploy -r ap-southeast-2 -s dev</span><br><span class="line">Serverless: Packaging service...</span><br><span class="line">Serverless: Uploading CloudFormation file to S3...</span><br><span class="line">Serverless: Uploading service .zip file to S3 (583 B)...</span><br><span class="line">Serverless: Updating Stack...</span><br><span class="line">Serverless: Checking Stack update progress...</span><br><span class="line">..................</span><br><span class="line">Serverless: Stack update finished...</span><br><span class="line">Service Informations</span><br><span class="line">service: serverless-example</span><br><span class="line">stage: dev</span><br><span class="line">region: ap-southeast-2</span><br><span class="line">api keys:</span><br><span class="line">  None</span><br><span class="line">endpoints:</span><br><span class="line">  None</span><br><span class="line"><span class="built_in">functions</span>:</span><br><span class="line">  serverless-example-dev-hello</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Lambda “hello” function</strong></li>
</ul>
<p>A “hello” Lambda function has been created in Lambda after it’s deployed into AWS by “serverless”.</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20Hello%20function.png" alt="Lambda &quot;hello&quot; function"></p>
<ul>
<li><strong>Events generated during Lambda function deployment</strong></li>
</ul>
<p>Deployment events generated during Lambda “hello” function deployed into AWS.</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20CloudFormation.png" alt="Events generated during Lambda function deployment"></p>
<ul>
<li><strong>Add Lambda Trigger on AWS API Gateway</strong></li>
</ul>
<p>Manually create a Lambda Trigger. This time we use AWS API Gateway to trigger &#x2F; invoke Lambda “hello” function.</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20Trigger%20on%20API%20Gateway.png" alt="Lambda Trigger created on AWS API Gateway"></p>
<ul>
<li><strong>Exposed Lambda API Gateway</strong></li>
</ul>
<p>After Lambda Trigger created, an exposed RESTful interface for Lambda “hello” function.</p>
<p><img src="https://raw.githubusercontent.com/TerrenceMiao/AWS/master/serverless-example/Lambda%20API%20Gateway.png" alt="Lambda API Gateway"></p>
<h3 id="Say-“hello”"><a href="#Say-“hello”" class="headerlink" title="Say “hello”"></a>Say “hello”</h3><p>Set up AWS API Gateway trigger for Lambda “hello” function. Go to url, e.g.:</p>
<p>Function “hello” log:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Go Serverless v1.0! Your function executed successfully!&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/serverless-example-dev-hello&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/serverless-example-dev-hello&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpMethod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GET&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;headers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Accept&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Accept-Encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gzip, deflate, sdch, br&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Accept-Language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;en-AU,en-GB;q=0.8,en-US;q=0.6,en;q=0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Forwarded-Proto&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Is-Desktop-Viewer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Is-Mobile-Viewer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Is-SmartTV-Viewer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Is-Tablet-Viewer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;CloudFront-Viewer-Country&quot;</span><span class="punctuation">:</span> <span class="string">&quot;AU&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;b5dyhej16l.execute-api.ap-southeast-2.amazonaws.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Referer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://ap-southeast-2.console.aws.amazon.com/lambda/home?region=ap-southeast-2&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;upgrade-insecure-requests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;User-Agent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Via&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0 6884828476070d32978b45d03c1cc437.cloudfront.net (CloudFront)&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;X-Amz-Cf-Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mvToMffe1AsUJNcMJKUh-Rx26oBJsRBe2n9I1df3xqIAIENPR_ku3A==&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;X-Amzn-Trace-Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Root=1-58aae2ff-0b0c5e4059cc97576211ba4a&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;X-Forwarded-For&quot;</span><span class="punctuation">:</span> <span class="string">&quot;101.181.175.227, 54.239.202.65&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;X-Forwarded-Port&quot;</span><span class="punctuation">:</span> <span class="string">&quot;443&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;X-Forwarded-Proto&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;queryStringParameters&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pathParameters&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;stageVariables&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;requestContext&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;accountId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;624388274630&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;resourceId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5jbqsp&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prod&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;requestId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;51ba2876-f769-11e6-b507-4b10c8a6886a&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;identity&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;cognitoIdentityPoolId&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;accountId&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cognitoIdentityId&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;caller&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;apiKey&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sourceIp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;101.181.175.227&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;accessKey&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cognitoAuthenticationType&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cognitoAuthenticationProvider&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;userArn&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;userAgent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;resourcePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/serverless-example-dev-hello&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;httpMethod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GET&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;apiId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;b5dyhej16l&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;isBase64Encoded&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul>
<li>serverless framework, <a target="_blank" rel="noopener" href="https://serverless.com/">https://serverless.com/</a></li>
<li>Example source code and artefact, <a target="_blank" rel="noopener" href="https://github.com/TerrenceMiao/AWS/tree/master/serverless-example">https://github.com/TerrenceMiao/AWS/tree/master/serverless-example</a></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-The-State-Quadrants-Functional-vs-Object-Oriented" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/18/The-State-Quadrants-Functional-vs-Object-Oriented/">The State Quadrants - Functional vs. Object Oriented</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-18T12:19:56.000Z" itemprop="datePublished">2017-02-18</time>
</span>
      
      
      
<a href="/blog/2017/02/18/The-State-Quadrants-Functional-vs-Object-Oriented/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://lh3.googleusercontent.com/GzTcUK5qFtyGvu541IZpeRYf8Nqwlvs-XHBflIuWJpzNEg9QB8Xy-64aY0ImWqtYZbbIqSfrrMpUEXRzVjaFqLKuLYAzs47AxGCDammqPTEzJqYiXt_fKJSUDzvbkrwS8Mv70mrXJpH8Fyr1LFPZJCgX5VzPUwrE7-knfrxF3eBI-nRC4V9NB7_XtbZ7tPNrBoi_SqaDb9y7EJbrnKdc3_uDM6kfJnSovWiSHx_NgZBC7QF3mu5K_o9vcznNU3zZ14LQLjCk7yH09kkJHTol3h6R0yYsjT_YSXU0PJfNd_iuF0lGUv1wIlHsau01gWFCTpgPL6p01W3ff3Ft1pSxGWAAwcMw35_27OUKmn-zLvm4vdFhE5A1EKFQEOpnJqv1hd70lOBSuPw-75t2LI68KlixAx2ASDX0AR7PxNp9aWzMM-0rapQwMTAD5ZF7mmupZIQvIHbUdXSJWCKoLnuCyKnKN0ZANQtnhpnw-OBuxvLto1rP0ehjJ4EgGxI1y8ODAS6k7DiwVWZ-Y_5w1I9vTpUc627fhzp_vgX68GL9NRz7SSP4gxjrqPbQPdh8O5x-QCYI-_VCuh2Lx53fdGCeq6pI7_hqnOqk5BIuRgMFZ52H1Xu35PuGrw=w389-h276-no" alt="The State Quadrants"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Factorial-function-implementation-in-Java-8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/18/Factorial-function-implementation-in-Java-8/">Factorial function implementation in Java 8</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-18T11:15:33.000Z" itemprop="datePublished">2017-02-18</time>
</span>
      
      
      
<a href="/blog/2017/02/18/Factorial-function-implementation-in-Java-8/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.paradise.function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by terrence on 12/12/2016.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">FactorialFunction</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;Integer, Long&gt; FACTORIAL_MAP = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Function&lt;Integer, Long&gt; FACTORIAL = (x) -&gt;</span><br><span class="line">            FACTORIAL_MAP.computeIfAbsent(x,</span><br><span class="line">                    n -&gt; n * FactorialFunction.FACTORIAL.apply(n - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        FACTORIAL_MAP.put(<span class="number">1</span>, <span class="number">1L</span>); <span class="comment">// FACTORIAL(1)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">FactorialFunction</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a>Unit test</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.paradise.function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by terrence on 12/12/2016.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactorialFunctionTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFactorialFunction</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">1</span>), FactorialFunction.FACTORIAL.apply(<span class="number">1</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">2</span>), FactorialFunction.FACTORIAL.apply(<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">3628800</span>), FactorialFunction.FACTORIAL.apply(<span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Fibonacci-function-implementation-in-Java-8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/18/Fibonacci-function-implementation-in-Java-8/">Fibonacci function implementation in Java 8</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-18T11:09:56.000Z" itemprop="datePublished">2017-02-18</time>
</span>
      
      
      
<a href="/blog/2017/02/18/Fibonacci-function-implementation-in-Java-8/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.paradise.function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by terrence on 12/12/2016.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">FibonacciFunction</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;Integer, Long&gt; FIBONACCI_MAP = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Function&lt;Integer, Long&gt; FIBONACCI = (x) -&gt;</span><br><span class="line">            FIBONACCI_MAP.computeIfAbsent(x,</span><br><span class="line">                    n -&gt; FibonacciFunction.FIBONACCI.apply(n - <span class="number">2</span>) + FibonacciFunction.FIBONACCI.apply(n - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        FIBONACCI_MAP.put(<span class="number">0</span>, <span class="number">0L</span>); <span class="comment">// FIBONACCI(0)</span></span><br><span class="line">        FIBONACCI_MAP.put(<span class="number">1</span>, <span class="number">1L</span>); <span class="comment">// FIBONACCI(1)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">FibonacciFunction</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a>Unit test</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.paradise.function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by terrence on 12/12/2016.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FibonacciFunctionTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFibonacciFunction</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">0</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">0</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">1</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">1</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">1</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">2</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">2</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">3</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">3</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">4</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">5</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">5</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">8</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">13</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">7</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">21</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">8</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">34</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">9</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">55</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">        assertEquals(<span class="string">&quot;Incorrect result&quot;</span>, Long.valueOf(<span class="number">12586269025L</span>), FibonacciFunction.FIBONACCI.apply(<span class="number">50</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Remote-debugging-Java-applications-run-on-Tomcat" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/11/Remote-debugging-Java-applications-run-on-Tomcat/">Remote debugging Java applications run on Tomcat</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-11T02:52:26.000Z" itemprop="datePublished">2017-02-11</time>
</span>
      
      
      
<a href="/blog/2017/02/11/Remote-debugging-Java-applications-run-on-Tomcat/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Enable JVM option to attach a remote debugger:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,<span class="built_in">suspend</span>=y,address=5005</span><br></pre></td></tr></table></figure>

<p>“suspend” set to “y” is to let remote debugger start loading the application. </p>
<p>Now, start running Tomcat. JVM debugging port is bound on port 5005i on the machine runs on Tomcat. </p>
<p>Next, set up SSH tunnel mirror remotei host (ip-10-213-79-77.ap-southeast-2.compute.internal) 5005 port to localhost on port 5005. For example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -L 5005:ip-10-213-79-77.ap-southeast-2.compute.internal:5005 -l ec2-user ip-10-213-79-77.ap-southeast-2.compute.internal</span><br></pre></td></tr></table></figure>

<p>You can start remote debugging in IDE like IntelliJ and debug the code since.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Web-Components-are-coming" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2017/02/01/Web-Components-are-coming/">Web Components are coming</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2017-02-01T12:56:19.000Z" itemprop="datePublished">2017-02-01</time>
</span>
      
      
      
<a href="/blog/2017/02/01/Web-Components-are-coming/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AngularJS is going to continue to succeed for some time. But change is inevitable.</p>
<p><em>Web Components are coming.</em> </p>
<p>WebComponents create the ability to do all the sorts of markup-driven programming like AngularJS, ReactJS, but less ecosystem dependent. Because DOM is integration point for all the kinds of JavaScript frameworks. Web Components make it MUCH easier to interoperate between components. </p>
<p>The future isn’t here yet, but it will change fundamental assumptions about how a JavaScript framework should act and what it should be responsible for. Those shifts in assumptions frequently cause frameworks will drop out of the ecosystem quickly than expected.</p>
<p><img src="https://lh3.googleusercontent.com/proxy/HUuJ77cm67p-cQAHIqXUDI1s3WngVunCpraVyWv_7pldMa2-bFF7LDKWbG-PX-Tj25-c7zl9v_SZc3ZXw7J5TZWPngCPostqMA=s110-p-rw" alt="Web Components"></p>
<p>URL: <a target="_blank" rel="noopener" href="https://www.webcomponents.org/">https://www.webcomponents.org/</a></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/blog/page/11/">Previous</a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/10/">10</a><a class="page-number" href="/blog/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/blog/page/13/">13</a><a class="extend next" rel="next" href="/blog/page/13/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2025/01/25/ZeroTier-on-TrueNAS-Scale/">ZeroTier on TrueNAS Scale</a>
          </li>
        
          <li>
            <a href="/blog/2025/01/22/Xray-X-UI-Reality-protocol-Vision-flow-on-Oracle-Cloud/">Xray, X-UI, Reality protocol, Vision flow on Oracle Cloud</a>
          </li>
        
          <li>
            <a href="/blog/2025/01/22/Xray-X-UI-Reality-protocol-Vision-flow-on-Amazon-Linux/">Xray, X-UI, Reality protocol, Vision flow on Amazon Linux</a>
          </li>
        
          <li>
            <a href="/blog/2024/12/21/How-to-install-and-run-Tailscale-client-on-OpenWrt/">How to install and run Tailscale client on OpenWrt</a>
          </li>
        
          <li>
            <a href="/blog/2024/12/21/How-to-install-and-run-ZeroTier-client-on-OpenWrt/">How to install and run ZeroTier client on OpenWrt</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2025/">2025</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2024/">2024</a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2023/">2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2022/">2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/">2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/">2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/">2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/">2017</a><span class="archive-list-count">25</span></li></ul>
    </div>
  </div>


  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/terrencemiao/">LinkedIn</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://github.com/TerrenceMiao">GitHub</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://twitter.com/TerrenceMiao">Twitter</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/blog/sitemap.xml">Site Map</a>
        <span> | </span><a href="/blog/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/blog/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2025 Terrence Miao.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/blog/js/jquery-3.4.1.min.js"></script>


<script src="/blog/js/search.json.js"></script>


  
<script src="/blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/blog/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








  



  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>
  <script src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async type="text/javascript"></script>

</body>
</html>