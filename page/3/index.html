<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=330279473"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '330279473');
</script>
<!-- End Google Analytics -->

  
  <title>Terrence Miao&#39;s Adventures</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="Veni, vidi, vici">
  
  
  
    <link rel="alternate" href="/blog/atom.xml" title="Terrence Miao's Adventures" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/blog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/blog/css/style.css">

  
    
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.min.css">

  
  
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7274218747178099" crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Terrence Miao&#39;s Adventures</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">A journey of a thousand miles begins with a single step</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/blog/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/blog/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/blog/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/blog/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-Mac-and-iPad-and-Android-Benchmark-Ceiling" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/07/29/Mac-and-iPad-and-Android-Benchmark-Ceiling/">Mac and iPad and Android Benchmark Ceiling</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-07-29T13:20:30.000Z" itemprop="datePublished">2023-07-29</time>
</span>
      
      
      
<a href="/blog/2023/07/29/Mac-and-iPad-and-Android-Benchmark-Ceiling/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Benchmark-head-to-head-Mac-vs-iPad-vs-Android"><a href="#Benchmark-head-to-head-Mac-vs-iPad-vs-Android" class="headerlink" title="Benchmark head to head - Mac vs. iPad. vs. Android"></a>Benchmark head to head - Mac vs. iPad. vs. Android</h1><p><img src="/blog/img/Geekbench%20head%20to%20head%20-%20Mac%20vs%20iPad%20vs%20Android%202023.png" alt="Benchmark head to head" title="Benchmark head to head"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Micro-Frontends" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/07/29/Micro-Frontends/">Micro Frontends</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-07-29T05:16:56.000Z" itemprop="datePublished">2023-07-29</time>
</span>
      
      
      
<a href="/blog/2023/07/29/Micro-Frontends/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/blog/img/Micro%20Frontends.png" alt="Micro Frontends" title="Micro Frontends"></p>
<p><strong>Righ model, right tools - the new way of building and collaborating on frontend apps is the core element of Micro Frontends.</strong></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Remove-Image-Background" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/10/12/Remove-Image-Background/">Remove Image Background</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-10-12T11:59:54.000Z" itemprop="datePublished">2022-10-12</time>
</span>
      
      
      
<a href="/blog/2022/10/12/Remove-Image-Background/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Remove backgrounds 100% automatically in 5 seconds with one click. Thanks to remove.bg <em><a target="_blank" rel="noopener" href="https://www.remove.bg/">https://www.remove.bg/</a></em> clever AI.</p>
<p><img src="/blog/img/Messi%2030.png" alt="Messi" title="Messi"></p>
<p><img src="/blog/img/%E5%B0%8F%E6%B3%89%E4%BB%8A%E6%97%A5%E5%AD%90.png" alt="小泉今日子" title="小泉今日子"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Geekbench-head-to-head-Mac-vs-iPad-vs-Android" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/10/10/Geekbench-head-to-head-Mac-vs-iPad-vs-Android/">Geekbench head to head - Mac vs iPad vs Android</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-10-10T01:48:30.000Z" itemprop="datePublished">2022-10-10</time>
</span>
      
      
      
<a href="/blog/2022/10/10/Geekbench-head-to-head-Mac-vs-iPad-vs-Android/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Geekbench head to head - Mac vs iPad vs Android:</strong></p>
<ul>
<li>10 years old Mac mini Late 2012 (2.6GHz quad-core Intel Core i7 Turbo Boost up to 3.6GHz)</li>
<li>4 years old MacBook Pro 15-inch Mid 2018 (2.6GHz 6-core Intel Core i7, Turbo Boost up to 4.3GHz)</li>
<li>4 years old iPad Pro 11” 2018 3rd gen (A12X Bionic 7 nm, 4-core Vortex at 2.5GHz , 4-core Tempest at 1.6GHz)</li>
<li>1 year old MacBook Pro 16-inch 2021 (Apple Silicon M1 Pro, 10-core CPU at 3.2GHz)</li>
<li>没满岁的 Android (Snapdragon 8 Gen1, 1 core Cortex-X2 at 3GHz, 3-core Cortex-A710 at 2.5GHz, and 4-core Cortex-A510 at 1.8GHz)</li>
</ul>
<p><img src="/blog/img/Geekbench%20head%20to%20head%20-%20Mac%20vs%20iPad%20vs%20Android.png" alt="Geekbench head to head - Mac vs iPad vs Android" title="Geekbench head to head - Mac vs iPad vs Android"></p>
<p><strong>Conclusion:</strong></p>
<ol>
<li>Intel 已经是江河日下，被时代淘汰</li>
<li>Apple Processors 实在太强。 四年前的处理器还可吊打当前最新的 Snapdragon Processors</li>
<li>同是 2018 年产品，iPad Pro 把 Intel CPU based 的 MacBook Pro 按在地上碾压</li>
</ol>
<p>ARM vs x86 谁是未来，一目了然。</p>
<p><strong>NOTE</strong></p>
<p>The Apple M1 chip is built for Macs, and the A15 for phones. They use completely different architectures. The A15 prioritizes battery over performance. The M1 has more firepower for graphics.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-How-to-use-Web-Inspector-and-debug-Safari-on-iPhone-iPad" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/09/07/How-to-use-Web-Inspector-and-debug-Safari-on-iPhone-iPad/">How to use Web Inspector and debug Safari on iPhone/iPad</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-09-07T03:32:33.000Z" itemprop="datePublished">2022-09-07</time>
</span>
      
      
      
<a href="/blog/2022/09/07/How-to-use-Web-Inspector-and-debug-Safari-on-iPhone-iPad/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Prerequisites:</p>
<ul>
<li>iPhone &#x2F; iPad &#x2F; iPod and the Macbook on the same version of Safari</li>
<li>a genuine Apple lightning or USB cable</li>
</ul>
<p>Step by step:</p>
<ul>
<li>On iPad, iPhone or iPod touch, go to menu Settings &gt; Safari &gt; Advanced and toggle on Web Inspector. Enable JavaScript if it isn’t already on</li>
<li>On Macbook, launch Safari and go to menu Preferences &gt; Advanced then toggle on “Show Develop menu in menu bar”</li>
<li>Connect iOS device to Macbook with the lightning or USB cable</li>
<li>Now on iOS device, open Safari and go to the website you want to debug</li>
<li>On Macbook, open Safari and go to “Develop” menu. You now see your iOS device that has connected with Macbook (if no page opened on iOS device, you see a message saying “No Inspectable Applications”)</li>
</ul>
<p>![Safari Develop menu](&#x2F;img&#x2F;Safari Develop.png “Safari Develop menu”)</p>
<ul>
<li>Click on the website in Safari Develop &gt; iOS device menu, Web Inspector window opened, then you can debug as you used to debug in Safari</li>
</ul>
<p>![Web Inspector](&#x2F;img&#x2F;Web Inspector.png “Web Inspector”)</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-GitHub-Actions" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/09/02/GitHub-Actions/">GitHub Actions</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-09-02T05:33:47.000Z" itemprop="datePublished">2022-09-02</time>
</span>
      
      
      
<a href="/blog/2022/09/02/GitHub-Actions/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Have you tried GitHub Actions?</p>
<ul>
<li>GitHub Actions</li>
</ul>
<p><img src="/blog/img/GitHub%20Actions.png" alt="GitHub Actions" title="GitHub Actions"></p>
<ul>
<li>GitHub Actions Workflow</li>
</ul>
<p><img src="/blog/img/GitHub%20Actions%20Workflow.png" alt="GitHub Actions Workflow" title="GitHub Actions Workflow"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Powerful-Zsh" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/08/02/Powerful-Zsh/">Powerful Zsh</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-08-02T09:42:06.000Z" itemprop="datePublished">2022-08-02</time>
</span>
      
      
      
<a href="/blog/2022/08/02/Powerful-Zsh/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/blog/img/Powerful%20Zsh.png" alt="Powerful Zsh" title="Powerful Zsh"></p>
<p>First you have <code>Zsh</code>, next install <code>Oh My Zsh</code> <a target="_blank" rel="noopener" href="https://ohmyz.sh/">https://ohmyz.sh/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure>

<p>Add <code>Powerlevel10k</code> <em><a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">https://github.com/romkatv/powerlevel10k</a></em> and configure it</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/romkatv/powerlevel10k.git $&#123;ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom&#125;/themes/powerlevel10k</span><br></pre></td></tr></table></figure>

<p>Set <code>ZSH_THEME</code> to <strong>powerlevel10k</strong> in <code>.zshrc</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;</span><br></pre></td></tr></table></figure>

<p>Then run <code>Powerlevel10k</code> configure:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p10k configure</span><br></pre></td></tr></table></figure>

<p>Add <code>zsh-autosuggestions</code> <em><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions">https://github.com/zsh-users/zsh-autosuggestions</a></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/zsh-users/zsh-autosuggestions $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<p>Add <code>zsh-syntax-highlighting</code> <em><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-syntax-highlighting">https://github.com/zsh-users/zsh-syntax-highlighting</a></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>

<p>and enable them in <code>.zshrc</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">plugins=(</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Install <code>Fig</code> (<strong>deprecated</strong>) <em><del><a target="_blank" rel="noopener" href="https://fig.io/">https://fig.io/</a></del></em>, an IDE-style autocomplete but for terminal, and configure in <code>.zshrc</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"># Fig pre block. Keep at the top of this file.</span><br><span class="line">[[ -f &quot;$HOME/.fig/shell/zshrc.pre.zsh&quot; ]] &amp;&amp; . &quot;$HOME/.fig/shell/zshrc.pre.zsh&quot;</span><br><span class="line">...</span><br><span class="line"># Fig post block. Keep at the bottom of this file.</span><br><span class="line">[[ -f &quot;$HOME/.fig/shell/zshrc.post.zsh&quot; ]] &amp;&amp; . &quot;$HOME/.fig/shell/zshrc.post.zsh&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>How To Make Your Boring Mac Terminal So Much Better, <em><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=CF1tMjvHDRA">https://www.youtube.com/watch?v=CF1tMjvHDRA</a></em></li>
<li>How To Setup Your Mac Terminal, <em><a target="_blank" rel="noopener" href="https://www.josean.com/posts/terminal-setup">https://www.josean.com/posts/terminal-setup</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Convert-JSON-to-CSV-by-using-jq" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2022/05/02/Convert-JSON-to-CSV-by-using-jq/">Convert JSON to CSV by using jq</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-05-02T06:20:52.000Z" itemprop="datePublished">2022-05-02</time>
</span>
      
      
      
<a href="/blog/2022/05/02/Convert-JSON-to-CSV-by-using-jq/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Step by step convert exported JSON data from AWS DynamoDB table into CSV, by using <code>jq</code>.</p>
<p>Export all the data from AWS DynamoDB table at first:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">𝜆 aws --profile production dynamodb scan --table-name tiles &gt; tiles.json</span><br></pre></td></tr></table></figure>

<p>The exported JSON data looks like:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Items&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;last_modified_date&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;2021-12-09T01:15:25.335516&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;valid_from&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;2021-12-09T01:00&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;created_date&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;2021-12-09T01:15:25.334965&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;status&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;PUBLISHED&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;valid_to&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;2022-01-31T23:00&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;id&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;b2c60f43-a81c-4363-a68a-dfe7682182d7&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;description&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;Hit the road Jack!&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;title&quot;: &#123;</span><br><span class="line">                &quot;S&quot;: &quot;Novated Lease&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">...</span><br><span class="line">    ],</span><br><span class="line">    &quot;Count&quot;: 223,</span><br><span class="line">    &quot;ScannedCount&quot;: 223,</span><br><span class="line">    &quot;ConsumedCapacity&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Extract &#x2F; transform JSON data:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">𝜆 cat tiles.json | jq &#x27;[.Items[] | &#123; id: .id.S, title: .title.S, description: .description.S, status: .status.S, valid_from: .valid_from.S, valid_to: .valid_to.S &#125;]&#x27; &gt; tiles-extracted.json</span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: &quot;b2c60f43-a81c-4363-a68a-dfe7682182d7&quot;,</span><br><span class="line">    &quot;title&quot;: &quot;Novated Lease&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Hit the road Jack!&quot;,</span><br><span class="line">    &quot;status&quot;: &quot;PUBLISHED&quot;,</span><br><span class="line">    &quot;valid_from&quot;: &quot;2021-12-09T01:00&quot;,</span><br><span class="line">    &quot;valid_to&quot;: &quot;2022-01-31T23:00&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>Convert JSON data into CSV:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">𝜆 cat tiles-extracted.json | jq -r &#x27;(.[0] | keys_unsorted) as $keys | $keys, map([.[ $keys[] ]])[] | @csv&#x27; &gt; tiles.csv</span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>How to convert arbitrary simple JSON to CSV using jq, <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/32960857/how-to-convert-arbitrary-simple-json-to-csv-using-jq">https://stackoverflow.com/questions/32960857/how-to-convert-arbitrary-simple-json-to-csv-using-jq</a></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Customise-VS-Code-settings-and-keybindings-with-Geddski-macros" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2021/07/30/Customise-VS-Code-settings-and-keybindings-with-Geddski-macros/">Customise VS Code settings and keybindings with Geddski macros</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2021-07-30T10:28:19.000Z" itemprop="datePublished">2021-07-30</time>
</span>
      
      
      
<a href="/blog/2021/07/30/Customise-VS-Code-settings-and-keybindings-with-Geddski-macros/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>In IntelliJ IDEA, you can comment a line, the cursor is moved to the next line automatically. This is a very easy way to comment several lines. However, in VS Code, default behaviour is that the cursor stays on the same line.</p>
<p>To copy the behavior of IntelliJ, go with:</p>
<ul>
<li><p>Install <code>macros</code> author by <strong>geddski</strong> in VS Code.</p>
</li>
<li><p>Edit <code>settings.json</code> and add:</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;macros&quot;: &#123;</span><br><span class="line">    &quot;commentDown&quot;: [</span><br><span class="line">        &quot;editor.action.commentLine&quot;,</span><br><span class="line">        &quot;cursorDown&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>Edit <code>keybindings.json</code> and add:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;key&quot;: &quot;cmd+/&quot;,</span><br><span class="line">    &quot;command&quot;: &quot;macros.commentDown&quot;,</span><br><span class="line">    &quot;when&quot;: &quot;editorTextFocus &amp;&amp; !editorReadonly&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Export-and-Import-AWS-DynamoDB-data" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2021/07/06/Export-and-Import-AWS-DynamoDB-data/">Export and Import AWS DynamoDB data</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2021-07-06T05:07:34.000Z" itemprop="datePublished">2021-07-06</time>
</span>
      
      
      
<a href="/blog/2021/07/06/Export-and-Import-AWS-DynamoDB-data/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>A simple, straightforward way export and import AWS DynamoDB table’s data with AWS CLI and a few scripts.</p>
<p>At first, export all the data from AWS DynamoDB table:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">𝜆 aws --profile production dynamodb scan --table-name tile-event &gt; tile-event-export.json</span><br></pre></td></tr></table></figure>

<p>Convert a list of items&#x2F;records (DynamoDB JSON) into individual <strong>PutRequest</strong> JSON with <code>jq</code>.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">𝜆 cat tile-event-export.json | jq &#x27;&#123;&quot;Items&quot;: [.Items[] | &#123;PutRequest: &#123;Item: .&#125;&#125;]&#125;&#x27; &gt; tile-event-import.json</span><br></pre></td></tr></table></figure>

<p>Transform the data if necessary:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">𝜆 sed &#x27;s/tile-images-prod/tile-images-pdev/g&#x27; tile-event-import.json &gt; tile-event-import-transformed.json</span><br></pre></td></tr></table></figure>

<p>Split all requests into <strong>25</strong> requests per file, with <code>jq</code> and <code>awk</code> (Note: There are some restriction with AWS DynamoDB batch-write-item request - The BatchWriteItem operation can contain up to <strong>25</strong> individual PutItem and DeleteItem requests and can write up to 16 MB of data. The maximum size of an individual item is 400 KB.)</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">𝜆 cat tile-event-processed.awk</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/awk -f</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">NR%</span><span class="language-bash">25==1 &#123;</span></span><br><span class="line">  x=&quot;tile-event-import-processed-&quot;++i&quot;.json&quot;;</span><br><span class="line">  print &quot;&#123;&quot; &gt; x</span><br><span class="line">  print &quot;  \&quot;tile-event\&quot;: [&quot; &gt; x</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">  printf &quot;    %s&quot;, $0 &gt; x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_">NR%</span><span class="language-bash">25!=0 &#123;</span></span><br><span class="line">  print &quot;,&quot; &gt; x</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_">NR%</span><span class="language-bash">25==0 &#123;</span></span><br><span class="line">  print &quot;&quot; &gt; x</span><br><span class="line">  print &quot;  ]&quot; &gt; x</span><br><span class="line">  print &quot;&#125;&quot; &gt; x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">𝜆 jq -c &#x27;.Items[]&#x27; tile-event-import-transformed.json | ./tile-event-processed.awk</span><br></pre></td></tr></table></figure>

<p>Import all <strong>22</strong> processed JSON files into DynamoDB table:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="keyword">for</span> f <span class="keyword">in</span> tile-event-import-processed-&#123;1..22&#125;.json; <span class="keyword">do</span> \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">echo</span> <span class="variable">$f</span>; \</span></span><br><span class="line"><span class="language-bash">    aws --profile development dynamodb batch-write-item --request-items file://<span class="variable">$f</span>; \</span></span><br><span class="line"><span class="language-bash">  <span class="keyword">done</span></span></span><br></pre></td></tr></table></figure>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/blog/page/2/">Previous</a><a class="page-number" href="/blog/">1</a><a class="page-number" href="/blog/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/blog/page/4/">4</a><a class="page-number" href="/blog/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/11/">11</a><a class="extend next" rel="next" href="/blog/page/4/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2024/09/15/Create-Storage-Pool-in-Windows-Server-2022/">Create Storage Pool in Windows Server 2022</a>
          </li>
        
          <li>
            <a href="/blog/2024/09/15/Fix-network-object-name-already-existed-issue-in-Windows/">Fix network object name already existed issue in Windows</a>
          </li>
        
          <li>
            <a href="/blog/2024/09/14/How-to-enable-SMB-Direct-client-server-in-Windows-11-Pro-for-Workstations/">How to enable SMB Direct client/server in Windows 11 Pro for Workstations</a>
          </li>
        
          <li>
            <a href="/blog/2024/09/14/Fixing-TrueNAS-SMB-IP-binding/">Fixing TrueNAS SMB IP binding</a>
          </li>
        
          <li>
            <a href="/blog/2024/09/08/Running-MacOS-on-Proxmox/">Running MacOS on Proxmox</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2024/">2024</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2023/">2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2022/">2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/">2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/">2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/">2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/">2017</a><span class="archive-list-count">25</span></li></ul>
    </div>
  </div>


  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/terrencemiao/">LinkedIn</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://github.com/TerrenceMiao">GitHub</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://twitter.com/TerrenceMiao">Twitter</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/blog/sitemap.xml">Site Map</a>
        <span> | </span><a href="/blog/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/blog/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2024 Terrence Miao.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/blog/js/jquery-3.4.1.min.js"></script>


<script src="/blog/js/search.json.js"></script>


  
<script src="/blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/blog/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








  



  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>
  <script src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async type="text/javascript"></script>

</body>
</html>