<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=330279473"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '330279473');
</script>
<!-- End Google Analytics -->

  
  <title>Terrence Miao&#39;s Adventures</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="Veni, vidi, vici">
  
  
  
    <link rel="alternate" href="/blog/atom.xml" title="Terrence Miao's Adventures" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/blog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/blog/css/style.css">

  
    
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.min.css">

  
  
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7274218747178099" crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Terrence Miao&#39;s Adventures</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">A journey of a thousand miles begins with a single step</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/blog/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/blog/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/blog/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/blog/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-The-solution-making-old-Intel-10Gbps-network-adapter-work-in-Windows-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2024/05/20/The-solution-making-old-Intel-10Gbps-network-adapter-work-in-Windows-11/">The solution making old Intel 10Gbps network adapter work in Windows 11</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2024-05-20T12:27:09.000Z" itemprop="datePublished">2024-05-20</time>
</span>
      
      
      
<a href="/blog/2024/05/20/The-solution-making-old-Intel-10Gbps-network-adapter-work-in-Windows-11/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Buy some old Intel 10Gbps network adapter, <code>X520</code>, <code>X540</code> … from AliExpress <em><a target="_blank" rel="noopener" href="https://aliexpress.com/">https://aliexpress.com/</a></em>, and install old Intel network adapter driver for Windows 10 and make it working in Windows 11. The example is install version 25.0 Intel network adapter driver, <em><a target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/download/18293/29648/intel-network-adapter-driver-for-windows-10.html">https://www.intel.com/content/www/us/en/download/18293/29648/intel-network-adapter-driver-for-windows-10.html</a></em>, to get it to work in Windows 11:</p>
<ul>
<li><p>Intel network adapters supported Operating Systems, <em><a target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/support/articles/000025890/ethernet-products.html">https://www.intel.com/content/www/us/en/support/articles/000025890/ethernet-products.html</a></em></p>
</li>
<li><p>Buy dual ports 10Gbps network adapter</p>
</li>
<li><p>Install the network adapter in PCIE slot directly to the CPU</p>
</li>
<li><p>Enable SMB Multichannel</p>
</li>
<li><p>Enable Jumbo Frames</p>
</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/WDPblqez00s?si=fs4-wswGT5AzDWMK&amp;start=222" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-How-to-enable-SMB-Multichannel-in-Windows-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2024/05/17/How-to-enable-SMB-Multichannel-in-Windows-11/">How to enable SMB Multichannel in Windows 11</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2024-05-17T12:38:27.000Z" itemprop="datePublished">2024-05-17</time>
</span>
      
      
      
<a href="/blog/2024/05/17/How-to-enable-SMB-Multichannel-in-Windows-11/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Network adapter requires to support <strong>RSS (Receive Side Scaling)</strong>.</p>
<p><img src="/blog/img/RSS%20-%20Receive%20Side%20Scaling.png" alt="RSS (Receive Side Scaling)" title="RSS (Receive Side Scaling)"></p>
<ul>
<li>Open PowerShell as administrator in Windows 11, run and enable SMB Multichannel (should be enabled by default):</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">Set-SmbClientConfiguration</span> <span class="literal">-EnableMultiChannel</span> <span class="variable">$true</span></span><br><span class="line"></span><br><span class="line">Confirm</span><br><span class="line">Are you sure you want to perform this action?</span><br><span class="line">Performing operation <span class="string">&#x27;Modify&#x27;</span> on Target <span class="string">&#x27;SMB Client Configuration&#x27;</span>.</span><br><span class="line"><span class="function">[<span class="type">Y</span>] <span class="title">Yes</span></span>  <span class="function">[<span class="type">A</span>] <span class="title">Yes</span></span> to All  <span class="function">[<span class="type">N</span>] <span class="title">No</span></span>  <span class="function">[<span class="type">L</span>] <span class="title">No</span></span> to All  <span class="function">[<span class="type">S</span>] <span class="title">Suspend</span></span>  <span class="function">[?] <span class="title">Help</span></span> (default is <span class="string">&quot;Y&quot;</span>):</span><br></pre></td></tr></table></figure>

<p>Check network interfaces which show “<strong>RSS capable &#x3D; True</strong>“:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">Get-SmbClientNetworkInterface</span></span><br><span class="line"></span><br><span class="line">Interface Index RSS Capable RDMA Capable Speed   IpAddresses                               Friendly Name</span><br><span class="line"><span class="literal">---------------</span> <span class="literal">-----------</span> <span class="literal">------------</span> <span class="literal">-----</span>   <span class="literal">-----------</span>                               <span class="literal">-------------</span></span><br><span class="line"><span class="number">17</span>              True        False        <span class="number">20</span> Gbps &#123;&#125;                                        X710<span class="literal">-1-WFP</span> Native MAC Layer LightWeight <span class="keyword">Filter</span><span class="literal">-0000</span></span><br><span class="line"><span class="number">8</span>               False       False        <span class="number">10</span> Gbps &#123;&#125;                                        X710<span class="literal">-1</span></span><br><span class="line"><span class="number">13</span>              False       False        <span class="number">10</span> Gbps &#123;&#125;                                        X710<span class="literal">-2</span></span><br><span class="line"><span class="number">26</span>              True        False        <span class="number">20</span> Gbps &#123;fe80::<span class="number">923</span>a:<span class="number">90</span>de:dedd:ef44, <span class="number">192.168</span>.<span class="number">0.98</span>&#125; NIC<span class="literal">-Team</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Verify there are any active SMB connections:</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">Get-SmbConnection</span></span><br><span class="line"></span><br><span class="line">ServerName ShareName UserName         Credential                               Dialect NumOpens</span><br><span class="line"><span class="literal">----------</span> <span class="literal">---------</span> <span class="literal">--------</span>         <span class="literal">----------</span>                               <span class="literal">-------</span> <span class="literal">--------</span></span><br><span class="line">Synology   NAS Drive RIPTIDE\terrence MicrosoftAccount\terrence.miao@mail.net  <span class="number">3.1</span>.<span class="number">1</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Copy a large file to a SMB device, e.g., Synology NAS which also has SMB Multichannel enabled, then verify the SMB Multichannel is working:</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">Get-SmbMultichannelConnection</span> <span class="literal">-IncludeNotSelected</span></span><br><span class="line"></span><br><span class="line">Server Name Selected Client IP    Server IP       Client Interface Index Server Interface Index Client RSS Capable Client RDMA Capable</span><br><span class="line"><span class="literal">-----------</span> <span class="literal">--------</span> <span class="literal">---------</span>    <span class="literal">---------</span>       <span class="literal">----------------------</span> <span class="literal">----------------------</span> <span class="literal">------------------</span> <span class="literal">-------------------</span></span><br><span class="line">Synology    True     <span class="number">192.168</span>.<span class="number">0.98</span> <span class="number">192.168</span>.<span class="number">0.112</span>   <span class="number">26</span>                     <span class="number">5</span>                      False              False</span><br><span class="line">Synology    False    <span class="number">192.168</span>.<span class="number">0.98</span> <span class="number">192.168</span>.<span class="number">0.34</span>    <span class="number">26</span>                     <span class="number">4</span>                      False              False</span><br><span class="line">Synology    False    <span class="number">192.168</span>.<span class="number">0.98</span> <span class="number">192.168</span>.<span class="number">196.140</span> <span class="number">26</span>                     <span class="number">7</span>                      False              False</span><br></pre></td></tr></table></figure>

<p><code>192.168.0.98</code> is Windows 11 network address, after Network Teaming; <code>192.168.0.112</code> and <code>192.168.0.34</code> are Synology NAS network addresses.</p>
<p><img src="/blog/img/With%20and%20without%20multichannel.png" alt="With and without multichannel" title="With and without multichannel"></p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>HOW TO: Enable SMB Multichannel for &gt; 125 MB between Synology and Win 10, <em><a target="_blank" rel="noopener" href="https://www.reddit.com/r/synology/comments/rrb4r1/how_to_enable_smb_multichannel_for_125_mb_between/">https://www.reddit.com/r/synology/comments/rrb4r1/how_to_enable_smb_multichannel_for_125_mb_between/</a></em></li>
<li>What is SMB3 Multichannel and how is it different from Link Aggregation?, <em><a target="_blank" rel="noopener" href="https://kb.synology.com/en-global/DSM/tutorial/smb3_multichannel_link_aggregation">https://kb.synology.com/en-global/DSM/tutorial/smb3_multichannel_link_aggregation</a></em></li>
<li>SMB Multichannel available for testing!, <em><a target="_blank" rel="noopener" href="https://community.synology.com/enu/forum/1/post/157265">https://community.synology.com/enu/forum/1/post/157265</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-How-to-upgrade-Synology-NAS-network-from-1Gbps-to-2-5Gbps" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2024/05/17/How-to-upgrade-Synology-NAS-network-from-1Gbps-to-2-5Gbps/">How to upgrade Synology NAS network from 1Gbps to 2.5Gbps</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2024-05-17T10:25:45.000Z" itemprop="datePublished">2024-05-17</time>
</span>
      
      
      
<a href="/blog/2024/05/17/How-to-upgrade-Synology-NAS-network-from-1Gbps-to-2-5Gbps/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Synology NAS DS920+ with two 1Gbps ethernet adapters. There is an affordable and easy upgrading its gigabytes network path to 2.5Gbps.</p>
<p>Login Synology NAS Admin UI and run <strong>Control Panel</strong> -&gt; <strong>Network</strong> -&gt; <strong>Network Interface</strong></p>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20installation%20before.png" alt="Installation before" title="Installation before"></p>
<ul>
<li>Get a USB 3.0 Ethernet Adapter 2.5Gbps with <strong>Realtek RTL8156 &#x2F; RTL8156B &#x2F; RTL8156BG</strong>  chipset, e.g., UGREEN 2.5Gbps USB-C Ethernet Adapter:</li>
</ul>
<p><img src="/blog/img/UGREEN%202.5Gbps%20USB-C%20Ethernet%20Adapter.jpg" alt="UGREEN 2.5Gbps USB-C Ethernet Adapter" title="UGREEN 2.5Gbps USB-C Ethernet Adapter"></p>
<ul>
<li><p>Find out the architecture name of CPU in NAS. For example, Synology DS920+ is equipped with Intel Celeron J4125 CPU. The architecture name of this processor is <code>Geminilake</code>.</p>
</li>
<li><p>Go to driver releases site <em><a target="_blank" rel="noopener" href="https://github.com/bb-qq/r8152/releases">https://github.com/bb-qq/r8152/releases</a></em> and download the latest version e.g. <code>r8152-geminilake-2.17.1-1_7.2.spk</code>, Synology DSM 7.2 and above, use packages with the suffix <strong>_7.2</strong>.</p>
</li>
<li><p>Login Synology Admin UI, then go to <strong>Package Center</strong> -&gt; <strong>Manual Install</strong> and choose a driver package downloaded from above step.</p>
</li>
</ul>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20package%20installation.png" alt="Package installation" title="Package installation"></p>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20installation%20warning.png" alt="Installation warning" title="Installation warning"></p>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20installation%20confirmation.png" alt="Installation confirmation" title="Installation confirmation"></p>
<ul>
<li>The installation will fail at the very first time.</li>
</ul>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20installation%20failed.png" alt="Installation failed" title="Installation failed"></p>
<ul>
<li>Then <code>ssh</code> into the NAS, and run the following command:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo install -m 4755 -o root -D /var/packages/r8152/target/r8152/spk_su /opt/sbin/spk_su</span><br></pre></td></tr></table></figure>

<p>and also enable multiple identical USB devices, which SAME products have the SAME serial number:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash /var/packages/r8152/scripts/install-udev-rules</span><br></pre></td></tr></table></figure>

<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20installation%20fix.png" alt="Installation fix" title="Installation fix"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash /var/packages/r8152/scripts/install-udev-rules</span><br><span class="line">Updating Hardware Database Index...</span><br><span class="line">UDEV rules have been installed to /usr/lib/udev/rules.d</span><br><span class="line">lrwxrwxrwx 1 root root 50 May 24 17:13 /usr/lib/udev/rules.d/51-usb-r8152-net.rules -&gt; /var/packages/r8152/scripts/51-usb-r8152-net.rules</span><br></pre></td></tr></table></figure>

<p>and continue &#x2F; retry the installation .</p>
<ul>
<li><p>Reboot NAS.</p>
</li>
<li><p>Login Synology Admin UI, <strong>Package Center</strong> -&gt; <strong>Installed</strong> -&gt; <strong>RTL8152&#x2F;RTL8153 driver</strong> and check new installed Realtek network adapter driver is running:</p>
</li>
</ul>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20running.png" alt="Running" title="Running"></p>
<ul>
<li><strong>Control Panel</strong> -&gt; <strong>Network</strong> -&gt; <strong>Network Interface</strong> and check the new network interface <code>LAN 3</code> and <code>Lan 4</code> have been turned on, with MTU &#x2F; jumbo frame enabled <strong>9000</strong>:</li>
</ul>
<p><img src="/blog/img/Synology%20NAS%20network%20upgrade%20-%20new%20network%20interface.png" alt="New network interface" title="New network interface"></p>
<p>Bind the USB network adapter and run <code>iperf3</code> network performance test:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ iperf3 -c 192.168.0.244 -B 192.168.0.229</span><br><span class="line">Connecting to host 192.168.0.244, port 5201</span><br><span class="line">[  5] local 192.168.0.229 port 46171 connected to 192.168.0.244 port 5201</span><br><span class="line">[ ID] Interval           Transfer     Bitrate         Retr  Cwnd</span><br><span class="line">[  5]   0.00-1.00   sec   281 MBytes  2.36 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   1.00-2.00   sec   281 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   2.00-3.00   sec   280 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   3.00-4.00   sec   281 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   4.00-5.00   sec   281 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   5.00-6.00   sec   281 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   6.00-7.00   sec   281 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   7.00-8.00   sec   280 MBytes  2.35 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   8.00-9.00   sec   281 MBytes  2.36 Gbits/sec    0    450 KBytes</span><br><span class="line">[  5]   9.00-10.00  sec   281 MBytes  2.36 Gbits/sec    0    670 KBytes</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">[ ID] Interval           Transfer     Bitrate         Retr</span><br><span class="line">[  5]   0.00-10.00  sec  2.74 GBytes  2.35 Gbits/sec    0             sender</span><br><span class="line">[  5]   0.00-10.05  sec  2.74 GBytes  2.34 Gbits/sec                  receiver</span><br><span class="line"></span><br><span class="line">iperf Done.</span><br></pre></td></tr></table></figure>


<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>DSM driver for realtek RTL8152&#x2F;RTL8153&#x2F;RTL8156 based USB Ethernet adapters, <em><a target="_blank" rel="noopener" href="https://github.com/bb-qq/r8152">https://github.com/bb-qq/r8152</a></em></li>
<li>Hot plugging does not work, <em><a target="_blank" rel="noopener" href="https://github.com/bb-qq/r8152/wiki/Troubleshooting#hot-plugging-does-not-work">https://github.com/bb-qq/r8152/wiki/Troubleshooting#hot-plugging-does-not-work</a></em></li>
<li>Multiple identical devices do not work, <em><a target="_blank" rel="noopener" href="https://github.com/bb-qq/r8152/wiki/Troubleshooting#multiple-identical-devices-do-not-work">https://github.com/bb-qq/r8152/wiki/Troubleshooting#multiple-identical-devices-do-not-work</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-How-to-team-network-link-aggregation-in-Windows-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2024/05/03/How-to-team-network-link-aggregation-in-Windows-11/">How to team network (link aggregation) in Windows 11</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2024-05-03T11:40:36.000Z" itemprop="datePublished">2024-05-03</time>
</span>
      
      
      
<a href="/blog/2024/05/03/How-to-team-network-link-aggregation-in-Windows-11/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Intel Ethernet Converged Network Adapter X710, with two 10Gbps ports. This allows to team the two ports together for link aggregation.</p>
<ul>
<li>Install Optional Features <code>Server Manager</code> in Windows 11</li>
</ul>
<p><img src="/blog/img/Network%20Team%20-%20Server%20Manager.png" alt="Server Manager" title="Server Manager"></p>
<ul>
<li>Open and run Windows Powershell as administrator, then run:</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">New-NetSwitchTeam</span> <span class="literal">-Name</span> <span class="string">&quot;NIC-Team&quot;</span> <span class="literal">-TeamMembers</span> <span class="string">&quot;X710-1&quot;</span>,<span class="string">&quot;X710-2&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="/blog/img/Network%20Team%20-%20Connections.png" alt="Network Connections" title="Network Connections"></p>
<p>A new network interface created, with combined speed <em><strong>20Gbps</strong></em>.</p>
<p><img src="/blog/img/Network%20Team%20-%20Status.png" alt="Network Status" title="Network Status"></p>
<p><img src="/blog/img/Network%20Team%20-%20Details.png" alt="Network Details" title="Network Details"></p>
<p>To remove network team, run:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\&gt; <span class="built_in">Remove-NetSwitchTeam</span> <span class="literal">-Name</span> <span class="string">&quot;NIC-Team&quot;</span></span><br></pre></td></tr></table></figure>
        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Step-by-step-root-OnePlus-5T" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2024/04/26/Step-by-step-root-OnePlus-5T/">Step by step root OnePlus 5T</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2024-04-26T11:29:42.000Z" itemprop="datePublished">2024-04-26</time>
</span>
      
      
      
<a href="/blog/2024/04/26/Step-by-step-root-OnePlus-5T/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>OnePlus 5T</strong>, first announced in Nov 2017. 7 years later, has been upgraded to Android 10.0.1, still robust and fast.</p>
<p><strong>NOTE</strong>: Before you take on this brave journey, make sure <strong>backup</strong> all important files on the phone at first!</p>
<ul>
<li><p>First, unlock the bootloader, <em><a target="_blank" rel="noopener" href="https://www.lifewire.com/how-to-unlock-bootloader-android-phone-4689186">https://www.lifewire.com/how-to-unlock-bootloader-android-phone-4689186</a></em></p>
</li>
<li><p>Enable <strong>Developer Options</strong> in <strong>Settings</strong> -&gt; <strong>About phone</strong> -&gt; <strong>Build number</strong></p>
</li>
</ul>
<p><img src="/blog/img/OnePlus%205T%20-%20About%20phone.jpg" alt="About phone" title="About phone"></p>
<ul>
<li>In <strong>Settings</strong> -&gt; <strong>System</strong> -&gt; <strong>Developer options</strong>, enable <strong>Advanced reboot</strong>, <strong>OEM unlocking</strong>, <strong>USB Debugging</strong></li>
</ul>
<p><img src="/blog/img/OnePlus%205T%20-%20Developer%20options.jpg" alt="Developer options" title="Developer options"></p>
<ul>
<li><p>Download and install Android SDK Platform Tools on Windows <em><a target="_blank" rel="noopener" href="https://developer.android.com/tools/releases/platform-tools">https://developer.android.com/tools/releases/platform-tools</a></em></p>
</li>
<li><p>Run commands:</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">9b26c76 device</span><br><span class="line"></span><br><span class="line">$ adb reboot bootloader</span><br></pre></td></tr></table></figure>

<ul>
<li>Wait for phone to reboot till phone in the <strong>Bootloader</strong> mode, then run:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fastboot flashing unlock</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ON the phone will ask to confirm “UNLOCK THE BOOTLOADER”. After UNLOCK, your phone <strong>WILL BE RESET</strong>, like a factory hard reset. <strong>ALL APPS AND DATA ARE GONE</strong>. Android system will be reinstalled.</p>
</li>
<li><p>Go to OnePlus Smartphone Software Update site and download the latest version of OnePlus 5T update on Windows, <em><a target="_blank" rel="noopener" href="https://oneplus.net/in/support/softwareupdate">https://oneplus.net/in/support/softwareupdate</a></em></p>
</li>
<li><p>Unzip OnePlus 5T update on Widnows</p>
</li>
<li><p>On the phone <strong>Settings</strong>, search for <strong>USB Preferences</strong>, select USE USB FOR <strong>File transfer</strong></p>
</li>
</ul>
<p><img src="/blog/img/OnePlus%205T%20-%20USB%20Preferences.jpg" alt="USB Preferences" title="USB Preferences"></p>
<ul>
<li><p>On Windows, in File Explorer, copy <strong>OnePlus5TOxygen_43_OTA_069_all_2010292144_76910d123e3940e5&#x2F;boot.img</strong> file to <em><strong>ONEPLUS A5010 -&gt; Internal shared storage -&gt; Download</strong></em> directory on the phone</p>
</li>
<li><p>On the phone, download and install latest version Magisk, <em><a target="_blank" rel="noopener" href="https://github.com/topjohnwu/Magisk">https://github.com/topjohnwu/Magisk</a></em></p>
</li>
<li><p>Run Magisk, select Magisk Install, <em><a target="_blank" rel="noopener" href="https://topjohnwu.github.io/Magisk/install.html">https://topjohnwu.github.io/Magisk/install.html</a></em></p>
</li>
<li><p>Select and patch <strong>boot.img</strong> file under <em><strong>&#x2F;Download</strong></em> directory</p>
</li>
</ul>
<p><img src="/blog/img/OnePlus%205T%20-%20Magisk.jpg" alt="Magisk" title="Magisk"></p>
<p><img src="/blog/img/OnePlus%205T%20-%20Magisk%20select%20and%20patch.jpg" alt="Magisk select and patch" title="Magisk select and patch"></p>
<p><img src="/blog/img/OnePlus%205T%20-%20Magisk%20patch%20boot.jpg" alt="Magisk patch boot.img" title="Magisk patch boot.img"></p>
<ul>
<li><p>A patched file <strong>magisk_patched-27000_nplRf</strong> successfully generated. On Windows, in File Explorer, copy it to local directory</p>
</li>
<li><p>On Windows, run:</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fastboot flash boot magisk_patched-27000_nplRf.img</span><br></pre></td></tr></table></figure>

<p><strong>NOTE</strong>: Always patch boot image on the <strong>SAME</strong> device where you run Magisk.</p>
<ul>
<li>Reboot the phone, and install <code>Root Checker</code> to verify Root access, <em><a target="_blank" rel="noopener" href="https://play.google.com/store/search?q=root%20checker&c=apps&hl=en&gl=US">https://play.google.com/store/search?q=root%20checker&amp;c=apps&amp;hl=en&amp;gl=US</a></em></li>
</ul>
<p>Now OnePlus 5T has been officially <strong>ROOTED</strong>!</p>
<p><strong>NOTE</strong>: NO need to install <strong>TWRP</strong> (Team Win Recovery Project), <em><a target="_blank" rel="noopener" href="https://twrp.me/">https://twrp.me</a></em>, a customised recovery application for Android devices on OnePlus 5T.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Upscayl-AI-Image-Upscaler" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/12/17/Upscayl-AI-Image-Upscaler/">Upscayl - AI Image Upscaler</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-12-17T08:13:45.000Z" itemprop="datePublished">2023-12-17</time>
</span>
      
      
      
<a href="/blog/2023/12/17/Upscayl-AI-Image-Upscaler/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Bondi Beach in Upscayl</p>
<p><img src="/blog/img/Bondi%20Beach%20in%20Upscayl.png" alt="Bondi Beach in Upscayl" title="Bondi Beach in Upscayl"></p>
<p>Bondi Beach original</p>
<p><img src="/blog/img/Bondi%20Beach%20original.png" alt="Bondi Beach original" title="Bondi Beach original"></p>
<p>Bondi Beach upscayled</p>
<p><img src="/blog/img/Bondi%20Beach%20upscayled.png" alt="Bondi Beach upscayled" title="Bondi Beach upscayled"></p>
<p>Young Girl in Upscayl</p>
<p><img src="/blog/img/Young%20Girl%20in%20Upscayl.png" alt="Young Girl in Upscayl" title="Young Girl in Upscayl"></p>
<p>Young Girl original</p>
<p><img src="/blog/img/Young%20Girl%20original.jpeg" alt="Young Girl original" title="Young Girl original"></p>
<p>Young Girl upscayled</p>
<p><img src="/blog/img/Young%20Girl%20upscayled.png" alt="Young Girl upscayled" title="Young Girl upscayled"></p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li>Upscayl - AI Image Upscaler, <em><a target="_blank" rel="noopener" href="https://www.upscayl.org/">https://www.upscayl.org/</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-OpenSSH-Server-for-Windows" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/11/24/OpenSSH-Server-for-Windows/">OpenSSH Server for Windows</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-11-24T04:59:14.000Z" itemprop="datePublished">2023-11-24</time>
</span>
      
      
      
<a href="/blog/2023/11/24/OpenSSH-Server-for-Windows/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Want to run <code>OpenSSH</code> Server on Windows e.g. Windows 10. From Windows 10, it natively supports <code>OpenSSH</code>.</p>
<p><strong>NOTE:</strong> The <em>beta</em> and <em>nightly build</em> of <code>OpenSSH</code> Server for Windows have a lot of runtime issues.</p>
<p>Check <code>OpenSSH</code> installation:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PS C:\ProgramData\ssh&gt; Get-WindowsCapability -Online | Where-Object Name -like &#x27;OpenSSH*&#x27;</span><br><span class="line"></span><br><span class="line">Name  : OpenSSH.Client~~~~0.0.1.0</span><br><span class="line">State : Installed</span><br><span class="line"></span><br><span class="line">Name  : OpenSSH.Server~~~~0.0.1.0</span><br><span class="line">State : NotPresent</span><br></pre></td></tr></table></figure>

<p>Install the missing <code>OpenSSH</code> Server:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">PS C:\ProgramData\ssh&gt; Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;</span></span><br><span class="line"></span><br><span class="line">Path          :</span><br><span class="line">Online        : True</span><br><span class="line">RestartNeeded : False</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PS C:\ProgramData\ssh&gt; Get-WindowsCapability -Online | Where-Object Name -like &#x27;OpenSSH*&#x27;</span><br><span class="line"></span><br><span class="line">Name  : OpenSSH.Client~~~~0.0.1.0</span><br><span class="line">State : Installed</span><br><span class="line"></span><br><span class="line">Name  : OpenSSH.Server~~~~0.0.1.0</span><br><span class="line">State : Installed</span><br></pre></td></tr></table></figure>

<p>Check <code>OpenSSH</code> for Windows version, check Windows Operating System version:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PS C:\ProgramData\ssh&gt; ((Get-Item (Get-Command sshd).Source).VersionInfo.FileVersion)</span><br><span class="line">8.1.0.1</span><br><span class="line"></span><br><span class="line">PS C:\ProgramData\ssh&gt; ((Get-ItemProperty &quot;HKLM:\SOFTWARE\Microsoft\Windows nt\CurrentVersion\&quot; -Name ProductName).ProductName)</span><br><span class="line">Windows 10 Enterprise</span><br></pre></td></tr></table></figure>

<p>Check Windows Domain information:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PS C:\ProgramData\ssh&gt; dsregcmd /status</span><br><span class="line"></span><br><span class="line">+----------------------------------------------------------------------+</span><br><span class="line">| Device State                                                         |</span><br><span class="line">+----------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">             AzureAdJoined : YES</span><br><span class="line">          EnterpriseJoined : NO</span><br><span class="line">              DomainJoined : YES</span><br><span class="line">                DomainName : CORP</span><br><span class="line">               Device Name : WINDOWS.corp.paradise.local</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Check <code>OpenSSH</code> Server for Windows run as a service:</p>
<p><img src="/blog/img/OpenSSH%20SSH%20Server%20service.png" alt="OpenSSH SSH Server service" title="OpenSSH SSH Server service"></p>
<p>Make sure OpenSSH SSH Server firewall inbound rule allows <strong>ALL</strong> profiles:</p>
<p><img src="/blog/img/OpenSSH%20SSH%20Server%20firewall%20inbound%20rule.png" alt="OpenSSH SSH Server firewall inbound rule" title="OpenSSH SSH Server firewall inbound rule"></p>
<p>The default <code>C:\ProgramData\ssh\sshd_config</code> file doesn’t work for Windows Domain users authentication, and does’t support <code>.ssh\authorized_keys</code> public key authentication. Error <strong>lookup_principal_name: User principal name lokup failed for user ‘corp\darling’</strong> in <code>OpenSSH</code> Server <code>C:\ProgramData\ssh\logs\ssd</code> log file. A work around solution is to comment out lines:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#Match Group administrators</span><br><span class="line">#       AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys</span><br></pre></td></tr></table></figure>

<p>A complete <code>sshd_config</code> example file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"># This is the sshd server system-wide configuration file.  See</span><br><span class="line"># sshd_config(5) for more information.</span><br><span class="line"></span><br><span class="line"># The strategy used for options in the default sshd_config shipped with</span><br><span class="line"># OpenSSH is to specify options with their default value where</span><br><span class="line"># possible, but leave them commented.  Uncommented options override the</span><br><span class="line"># default value.</span><br><span class="line"></span><br><span class="line">#Port 22</span><br><span class="line">#AddressFamily any</span><br><span class="line">#ListenAddress 0.0.0.0</span><br><span class="line">#ListenAddress ::</span><br><span class="line"></span><br><span class="line">#HostKey __PROGRAMDATA__/ssh/ssh_host_rsa_key</span><br><span class="line">#HostKey __PROGRAMDATA__/ssh/ssh_host_dsa_key</span><br><span class="line">#HostKey __PROGRAMDATA__/ssh/ssh_host_ecdsa_key</span><br><span class="line">#HostKey __PROGRAMDATA__/ssh/ssh_host_ed25519_key</span><br><span class="line"></span><br><span class="line"># Ciphers and keying</span><br><span class="line">#RekeyLimit default none</span><br><span class="line"></span><br><span class="line"># Logging</span><br><span class="line">SyslogFacility LOCAL0</span><br><span class="line">LogLevel DEBUG3</span><br><span class="line"></span><br><span class="line"># Authentication:</span><br><span class="line"></span><br><span class="line">#LoginGraceTime 2m</span><br><span class="line">#PermitRootLogin prohibit-password</span><br><span class="line">#StrictModes yes</span><br><span class="line">#MaxAuthTries 6</span><br><span class="line">#MaxSessions 10</span><br><span class="line"></span><br><span class="line">#PubkeyAuthentication yes</span><br><span class="line"></span><br><span class="line"># The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2</span><br><span class="line"># but this is overridden so installations will only check .ssh/authorized_keys</span><br><span class="line">AuthorizedKeysFile	.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">#AuthorizedPrincipalsFile none</span><br><span class="line"></span><br><span class="line"># For this to work you will also need host keys in %programData%/ssh/ssh_known_hosts</span><br><span class="line">#HostbasedAuthentication no</span><br><span class="line"># Change to yes if you don&#x27;t trust ~/.ssh/known_hosts for</span><br><span class="line"># HostbasedAuthentication</span><br><span class="line">#IgnoreUserKnownHosts no</span><br><span class="line"># Don&#x27;t read the user&#x27;s ~/.rhosts and ~/.shosts files</span><br><span class="line">#IgnoreRhosts yes</span><br><span class="line"></span><br><span class="line"># To disable tunneled clear text passwords, change to no here!</span><br><span class="line">#PasswordAuthentication yes</span><br><span class="line">#PermitEmptyPasswords no</span><br><span class="line"></span><br><span class="line"># GSSAPI options</span><br><span class="line">#GSSAPIAuthentication no</span><br><span class="line"></span><br><span class="line">#AllowAgentForwarding yes</span><br><span class="line">#AllowTcpForwarding yes</span><br><span class="line">#GatewayPorts no</span><br><span class="line">#PermitTTY yes</span><br><span class="line">#PrintMotd yes</span><br><span class="line">#PrintLastLog yes</span><br><span class="line">#TCPKeepAlive yes</span><br><span class="line">#UseLogin no</span><br><span class="line">#PermitUserEnvironment no</span><br><span class="line">#ClientAliveInterval 0</span><br><span class="line">#ClientAliveCountMax 3</span><br><span class="line">#UseDNS no</span><br><span class="line">#PidFile /var/run/sshd.pid</span><br><span class="line">#MaxStartups 10:30:100</span><br><span class="line">#PermitTunnel no</span><br><span class="line">#ChrootDirectory none</span><br><span class="line">#VersionAddendum none</span><br><span class="line"></span><br><span class="line"># no default banner path</span><br><span class="line">#Banner none</span><br><span class="line"></span><br><span class="line"># override default of no subsystems</span><br><span class="line">Subsystem	sftp	sftp-server.exe</span><br><span class="line"></span><br><span class="line"># Example of overriding settings on a per-user basis</span><br><span class="line">#Match User anoncvs</span><br><span class="line">#	AllowTcpForwarding no</span><br><span class="line">#	PermitTTY no</span><br><span class="line">#	ForceCommand cvs server</span><br><span class="line"></span><br><span class="line">#Match Group administrators</span><br><span class="line">#       AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys</span><br></pre></td></tr></table></figure>

<p>Now run ssh client and log on SSH Server:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sshpass -f ~/.ssh/windows.passwd ssh -l darling windows.local</span></span><br><span class="line">Microsoft Windows [Version 10.0.19044.2965]</span><br><span class="line">(c) Microsoft Corporation. All rights reserved.</span><br><span class="line"></span><br><span class="line">corp\darling@WINDOWS C:\Users\darling&gt;</span><br></pre></td></tr></table></figure>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li>The Ultimate Guide to Installing OpenSSH on Windows, <em><a target="_blank" rel="noopener" href="https://petri.com/the-ultimate-guide-to-installing-openssh-on-windows">https://petri.com/the-ultimate-guide-to-installing-openssh-on-windows</a></em></li>
<li>Installing SFTP&#x2F;SSH Server on Windows using OpenSSH, <em><a target="_blank" rel="noopener" href="https://winscp.net/eng/docs/guide_windows_openssh_server">https://winscp.net/eng/docs/guide_windows_openssh_server</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Setup-Socks-Socks5-proxy-and-git-repo-via-proxy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/10/25/Setup-Socks-Socks5-proxy-and-git-repo-via-proxy/">Setup Socks/Socks5 proxy and git repo via proxy</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-10-25T11:23:53.000Z" itemprop="datePublished">2023-10-25</time>
</span>
      
      
      
<a href="/blog/2023/10/25/Setup-Socks-Socks5-proxy-and-git-repo-via-proxy/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Host <code>windows.local</code> has VPN connection which is granted with git repository.</p>
<ul>
<li>Setup Socks&#x2F;Socks5 proxy</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-copy-id -i id_rsa.pub darling@windows.local</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh -D 3128 -q -C -N -f darling@windows.local</span></span><br></pre></td></tr></table></figure>

<ul>
<li>-q: quiet mode, don’t output anything locally</li>
<li>-C: compress data in the tunnel, save bandwidth</li>
<li>-N: do not execute remote commands, useful for just forwarding ports</li>
<li>-f: keep it running in the background</li>
</ul>
<p>If <code>PasswordAuthentication</code> is enforced, and <code>pubilc key authentication</code> in SSH Server is not supported, try:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sshpass -f ~/.ssh/windows.passwd ssh -D 3128 -q -C -N -f darling@windows.local</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Configure <code>git</code> with Sock&#x2F;Socks5 proxy</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config http.proxy <span class="string">&#x27;socks5://localhost:3128&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> .git/config</span></span><br><span class="line">[user]</span><br><span class="line">	name = Terrence Miao</span><br><span class="line">	email = terrence.miao@paradise.net</span><br><span class="line">	signingkey = EBCEB936</span><br><span class="line">[http]</span><br><span class="line">	proxy = socks5://localhost:3128</span><br></pre></td></tr></table></figure>

<p>Then can access git repository via proxy both on command line and in UI client.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Setup-ssh-ProxyCommand-proxyJump-on-multiple-jump-hosts" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/10/25/Setup-ssh-ProxyCommand-proxyJump-on-multiple-jump-hosts/">Setup ssh ProxyCommand/proxyJump on multiple jump hosts</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-10-25T11:04:00.000Z" itemprop="datePublished">2023-10-25</time>
</span>
      
      
      
<a href="/blog/2023/10/25/Setup-ssh-ProxyCommand-proxyJump-on-multiple-jump-hosts/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>NOTE:</strong> Some SSH Server doesn’t allow <strong>public key authentication</strong>. Then <code>sshpass</code> is a friend here for you.</p>
<p>Install <code>sshpass</code> in MacOS:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">brew install esolitos/ipa/sshpass</span></span><br></pre></td></tr></table></figure>

<p>Test <code>sshpass</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -oProxyCommand=&quot;sshpass -f ~/.ssh/windows.passwd ssh -W %h:%p jumphost&quot; -l darling jumphost-npe.paradise.net</span><br></pre></td></tr></table></figure>

<p>Setup <code>.ssh/config</code> file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">## Keeping SSH Sessions Alive</span><br><span class="line">Host *</span><br><span class="line"> ServerAliveInterval 15</span><br><span class="line"></span><br><span class="line">Host jumphost.mac</span><br><span class="line">    Hostname mac.local</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa</span><br><span class="line">    User darling</span><br><span class="line"></span><br><span class="line">Host jumphost.windows</span><br><span class="line">    Hostname windows.local</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa</span><br><span class="line">    User darling</span><br><span class="line"></span><br><span class="line">Host jumphost-npe</span><br><span class="line">    Hostname jumphost-npe.paradise.net</span><br><span class="line">    User darling</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa</span><br><span class="line">    ProxyCommand sshpass -f ~/.ssh/windows.passwd ssh -W %h:%p jumphost.windows</span><br><span class="line">    IdentitiesOnly yes</span><br><span class="line">    StrictHostKeyChecking no</span><br><span class="line">    UserKnownHostsFile=/dev/null</span><br><span class="line">    ServerAliveInterval 60</span><br><span class="line">    ServerAliveCountMax 5</span><br><span class="line"></span><br><span class="line">## DEVELOPMENT hosts in AWS</span><br><span class="line">Host ip-10-212-*.ap-southeast-2.compute.internal</span><br><span class="line">    ProxyCommand ssh -W %h:%p jumphost-npe</span><br><span class="line">    IdentityFile ~/.ssh/dev-stack.pem</span><br><span class="line"></span><br><span class="line">## PTEST hosts in AWS</span><br><span class="line">Host ip-10-213-*.ap-southeast-2.compute.internal</span><br><span class="line">    ProxyCommand ssh -W %h:%p jumphost-npe</span><br><span class="line">    IdentityFile ~/.ssh/test-stack.pem</span><br><span class="line"></span><br><span class="line">## STEST hosts in AWS</span><br><span class="line">Host ip-10-214-*.ap-southeast-2.compute.internal</span><br><span class="line">    ProxyCommand ssh -W %h:%p jumphost-npe</span><br><span class="line">    IdentityFile ~/.ssh/test-stack.pem</span><br><span class="line"></span><br><span class="line">Host jumphost-prod</span><br><span class="line">    HostName jumphost-prod.paradise.net</span><br><span class="line">    User darling</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa.prod</span><br><span class="line">    ProxyCommand sshpass -f ~/.ssh/windows.passwd ssh -W %h:%p jumphost.windows</span><br><span class="line">    IdentitiesOnly yes</span><br><span class="line">    StrictHostKeyChecking no</span><br><span class="line">    UserKnownHostsFile=/dev/null</span><br><span class="line">    ServerAliveInterval 60</span><br><span class="line">    ServerAliveCountMax 5</span><br><span class="line"></span><br><span class="line">## PROD hosts in AWS</span><br><span class="line">Host ip-10-208-*.ap-southeast-2.compute.internal</span><br><span class="line">    ProxyCommand ssh -W %h:%p jumphost-prod</span><br><span class="line">    IdentityFile ~/.ssh/prod-ddc-stack.pem</span><br><span class="line"></span><br><span class="line">## SSH over Session Manager</span><br><span class="line">host i-* mi-*</span><br><span class="line">    ProxyCommand sh -c &quot;aws ssm start-session --target %h --document-name AWS-StartSSHSession --parameters &#x27;portNumber=%p&#x27;&quot;</span><br></pre></td></tr></table></figure>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Mac-and-iPad-and-Android-Benchmark-Ceiling" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2023/07/29/Mac-and-iPad-and-Android-Benchmark-Ceiling/">Mac and iPad and Android Benchmark Ceiling</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2023-07-29T13:20:30.000Z" itemprop="datePublished">2023-07-29</time>
</span>
      
      
      
<a href="/blog/2023/07/29/Mac-and-iPad-and-Android-Benchmark-Ceiling/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Benchmark-head-to-head-Mac-vs-iPad-vs-Android"><a href="#Benchmark-head-to-head-Mac-vs-iPad-vs-Android" class="headerlink" title="Benchmark head to head - Mac vs. iPad. vs. Android"></a>Benchmark head to head - Mac vs. iPad. vs. Android</h1><p><img src="/blog/img/Geekbench%20head%20to%20head%20-%20Mac%20vs%20iPad%20vs%20Android%202023.png" alt="Benchmark head to head" title="Benchmark head to head"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/blog/page/3/">Previous</a><a class="page-number" href="/blog/">1</a><a class="page-number" href="/blog/page/2/">2</a><a class="page-number" href="/blog/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/blog/page/5/">5</a><a class="page-number" href="/blog/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/13/">13</a><a class="extend next" rel="next" href="/blog/page/5/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2025/05/22/Proxmox-over-Bluetooth/">Proxmox over Bluetooth</a>
          </li>
        
          <li>
            <a href="/blog/2025/05/21/Proxmox-over-Wireless/">Proxmox over Wireless</a>
          </li>
        
          <li>
            <a href="/blog/2025/01/25/ZeroTier-on-TrueNAS-Scale/">ZeroTier on TrueNAS Scale</a>
          </li>
        
          <li>
            <a href="/blog/2025/01/22/Xray-X-UI-Reality-protocol-Vision-flow-on-Oracle-Cloud/">Xray, X-UI, Reality protocol, Vision flow on Oracle Cloud</a>
          </li>
        
          <li>
            <a href="/blog/2025/01/22/Xray-X-UI-Reality-protocol-Vision-flow-on-Amazon-Linux/">Xray, X-UI, Reality protocol, Vision flow on Amazon Linux</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2025/">2025</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2024/">2024</a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2023/">2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2022/">2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/">2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/">2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/">2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/">2017</a><span class="archive-list-count">25</span></li></ul>
    </div>
  </div>


  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/terrencemiao/">LinkedIn</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://github.com/TerrenceMiao">GitHub</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://twitter.com/TerrenceMiao">Twitter</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/blog/sitemap.xml">Site Map</a>
        <span> | </span><a href="/blog/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/blog/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2026 Terrence Miao.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/blog/js/jquery-3.4.1.min.js"></script>


<script src="/blog/js/search.json.js"></script>


  
<script src="/blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/blog/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








  



  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>
  <script src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async type="text/javascript"></script>

</body>
</html>