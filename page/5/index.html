<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=330279473"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '330279473');
</script>
<!-- End Google Analytics -->

  
  <title>Terrence Miao&#39;s Adventures</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="Veni, vidi, vici">
  
  
  
    <link rel="alternate" href="/blog/atom.xml" title="Terrence Miao's Adventures" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/blog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/blog/css/style.css">

  
    
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.min.css">

  
  
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7274218747178099" crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Terrence Miao&#39;s Adventures</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">A journey of a thousand miles begins with a single step</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/blog/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/blog/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/blog/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/blog/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-Run-ssh-and-scp-with-AWS-Session-Manager" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2019/11/22/Run-ssh-and-scp-with-AWS-Session-Manager/">Run ssh and scp with AWS Session Manager</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2019-11-22T01:09:05.000Z" itemprop="datePublished">2019-11-22</time>
</span>
      
      
      
<a href="/blog/2019/11/22/Run-ssh-and-scp-with-AWS-Session-Manager/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="AWS-Session-Manager"><a href="#AWS-Session-Manager" class="headerlink" title="AWS Session Manager"></a>AWS Session Manager</h2><p>New AWS Systems Manager, including Session Manager is another step enhance security on Cloud. Here are step by step how to set up.</p>
<p>NOTE: There is NO need to require to have a Public IP on EC2 instance, and have network inbound rule setup with opened SSH port 22, and VPN connection.</p>
<ul>
<li>You have <code>ec2-user</code> account on AWS EC2 instance. On localhost:</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat .aws/config</span><br><span class="line">[default]</span><br><span class="line">output = json</span><br><span class="line">region = ap-southeast-2</span><br><span class="line"></span><br><span class="line">[session]</span><br><span class="line">output = json</span><br><span class="line">region = ap-southeast-2</span><br><span class="line"></span><br><span class="line">ğœ† cat .aws/credentials</span><br><span class="line">[default]</span><br><span class="line">aws_access_key_id = ASIANPOWERHOUSEBLAHBLAH</span><br><span class="line">aws_secret_access_key = aGLMountainLionPIEXL0UK0TunalNB61Kt+GuavaVm4tAD</span><br><span class="line"></span><br><span class="line">[session]</span><br><span class="line">aws_access_key_id = ASIANPOWERHOUSEBLAHBLAH</span><br><span class="line">aws_secret_access_key = aGLMountainLionPIEXL0UK0TunalNB61Kt+GuavaVm4tAD</span><br><span class="line">aws_session_token = FwoGZXIvYXdzEB8aDDuzeYcE5QDFo0 ... z2h/Px7nUMEWaZOZZw==</span><br><span class="line">aws_expiration=2019-11-22T20:33:18.000Z</span><br><span class="line"></span><br><span class="line">ğœ† ssh -i .ssh/aws-key.pem -l ec2-user ec2-3-121-69-96.ap-southeast-2.compute.amazonaws.com</span><br><span class="line">Last login: Fri Nov 22 01:17:33 2019 from 155.144.114.41</span><br><span class="line"></span><br><span class="line">       __|  __|_  )</span><br><span class="line">       _|  (     /   Amazon Linux 2 AMI</span><br><span class="line">      ___|\___|___|</span><br><span class="line"></span><br><span class="line">https://aws.amazon.com/amazon-linux-2/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>NOTE: Need <strong>ROOT</strong> access key pair <code>ASIANPOWERHOUSEBLAHBLAH</code> above setup in <code>session</code> profile to run <code>aws sts</code> command.</p>
<p>NOTE: <strong>IAM role</strong> for EC2 instance need to have <code>AmazonSSMManagedInstanceCore</code> policy. So create a customised role <code>CustomAmazonSSMManagedInstanceCore</code> in AWS IAM including <code>AmazonSSMManagedInstanceCore</code> policy, and bind this IAM role with EC2 instance, also with security group and key pair.</p>
<p><img src="/blog/img/AWS%20Session%20Manager%20-%20Managed%20instances.png" alt="AWS Session Manager - Managed instances" title="AWS Session Manager - Managed instances"></p>
<ul>
<li>Install all the dependencies<ol>
<li>latest Systems Manager Agent on your EC2 instance; enabled â€œ<strong>Agent auto update</strong>â€ under Managed Instances in AWS Systems Manager</li>
<li>latest AWS CLI on localhost</li>
<li>latest Session Manager Plugin on localhost, <em><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html">https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html</a></em></li>
</ol>
</li>
</ul>
<p><img src="/blog/img/AWS%20Session%20Manager%20-%20Agent%20auto%20update.png" alt="AWS Session Manager - Agent auto update" title="AWS Session Manager - Agent auto update"></p>
<ul>
<li>Add customised RunAs users via â€œRun Commandâ€</li>
</ul>
<p>To elevated <code>SSM_pwr_user</code>, a customised user to allow login EC2 instance, with command:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† useradd -g wheel SSM_pwr_user</span><br><span class="line">ğœ† echo &quot;SSM_pwr_user ALL=(ALL) NOPASSWD:ALL&quot; &gt; /etc/sudoers.d/SSM_pwr_user</span><br></pre></td></tr></table></figure>

<p><img src="/blog/img/AWS%20System%20Manager%20-%20Run%20a%20command.png" alt="AWS System Manager - Run a command" title="AWS System Manager - Run a command"></p>
<p>Updated above solution and add a <strong>DIFFERENT</strong> user <code>ssm-user</code>, if SSM throws error â€œ<strong>Unable to start shell: failed to start pty since RunAs user ssm-user does not exist</strong>â€œ:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† useradd -g wheel ssm-user</span><br><span class="line">ğœ† echo &quot;ssm-user ALL=(ALL) NOPASSWD:ALL&quot; &gt; /etc/sudoers.d/ssm-agent-users</span><br></pre></td></tr></table></figure>

<ul>
<li>Update SSH config file on localhost to proxy commands through the AWS Session Manager for any EC2 instance id</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat .ssh/config</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">SSH over Session Manager</span></span><br><span class="line">host i-* mi-*</span><br><span class="line">    ProxyCommand sh -c &quot;aws ssm start-session --target %h --document-name AWS-StartSSHSession --parameters &#x27;portNumber=%p&#x27;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>Generate session token</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ğœ† date</span><br><span class="line">Thu 21 Nov 2019 04:33:03 UTC</span><br><span class="line"></span><br><span class="line">ğœ† aws sts get-session-token --duration-seconds 129600 --profile session</span><br><span class="line">&#123;</span><br><span class="line">    &quot;Credentials&quot;: &#123;</span><br><span class="line">        &quot;SecretAccessKey&quot;: &quot;I7brpY8XWDWYwwyUdp5PLq7cxpskuMSHyBtPjPNE&quot;,</span><br><span class="line">        &quot;SessionToken&quot;: &quot;FwoGZXIvYXdzENL//////////wEaDKKdWTVmCrwKRiMbOSKCAbkQr ... YiNntciJszsZVRypXz1HTfa3gbcKoNXHon8=&quot;,</span><br><span class="line">        &quot;Expiration&quot;: &quot;2019-11-22T16:33:12Z&quot;,</span><br><span class="line">        &quot;AccessKeyId&quot;: &quot;ASIASZPQ3TMDVJVIGM7H&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If AWS user <code>ec2-user</code> has MFA enabled, generate session token like this:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† aws sts get-session-token --duration-seconds 129600 --profile session \</span><br><span class="line">    --serial-number arn:aws:iam::910218657901234:mfa/root-account-mfa-device --token-code 251556</span><br></pre></td></tr></table></figure>

<ul>
<li>Add session token in AWS credentials file on localhost, and test</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat .aws/credentials</span><br><span class="line">[default]</span><br><span class="line">aws_access_key_id = ASIANPOWERHOUSEBLAHBLAH</span><br><span class="line">aws_secret_access_key = aGLMountainLionPIEXL0UK0TunalNB61Kt+GuavaVm4tAD</span><br><span class="line"></span><br><span class="line">[session]</span><br><span class="line">aws_access_key_id = ASIASZPQ3TMDVJVIGM7H</span><br><span class="line">aws_secret_access_key = I7brpY8XWDWYwwyUdp5PLq7cxpskuMSHyBtPjPNE</span><br><span class="line">aws_session_token = FwoGZXIvYXdzENL//////////wEaDKKdWTVmCrwKRiMbOSKCAbkQr ... YiNntciJszsZVRypXz1HTfa3gbcKoNXHon8=</span><br><span class="line">aws_expiration=2019-11-22T20:33:18.000Z</span><br><span class="line"></span><br><span class="line">ğœ† aws ssm start-session --target i-e2f189dashfdf65weqfwda2 --profile session</span><br><span class="line"></span><br><span class="line">Starting session with SessionId: ec2-user-094c34172bdc6fc22</span><br><span class="line">sh-4.2$ whoami</span><br><span class="line">SSM_pwr_user</span><br></pre></td></tr></table></figure>

<ul>
<li>Run Session Manager commands</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">ğœ† aws ssm send-command --instance-ids i-e2f189dashfdf65weqfwda2 --document-name AWS-RunShellScript --comment &quot;IP config&quot; --parameters commands=ifconfig --output text \</span><br><span class="line">    --profile session</span><br><span class="line">COMMAND	39e80533-376e-46fa-bb11-8daf040fe80f	IP config	0	0	AWS-RunShellScript		0	1574377262.9	50	0			1574370062.9		Pending	Pending	1</span><br><span class="line">CLOUDWATCHOUTPUTCONFIG		False</span><br><span class="line">INSTANCEIDS	i-e2f189dashfdf65weqfwda2</span><br><span class="line">NOTIFICATIONCONFIG</span><br><span class="line">COMMANDS	ifconfig</span><br><span class="line"></span><br><span class="line">ğœ† aws ssm list-command-invocations --command-id 39e80533-376e-46fa-bb11-8daf040fe80f --details --profile session</span><br><span class="line">&#123;</span><br><span class="line">    &quot;CommandInvocations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Comment&quot;: &quot;IP config&quot;,</span><br><span class="line">            &quot;Status&quot;: &quot;Success&quot;,</span><br><span class="line">            &quot;CommandPlugins&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;Status&quot;: &quot;Success&quot;,</span><br><span class="line">                    &quot;ResponseStartDateTime&quot;: 1574370063.609,</span><br><span class="line">                    &quot;StandardErrorUrl&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;OutputS3BucketName&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;OutputS3Region&quot;: &quot;ap-southeast-2&quot;,</span><br><span class="line">                    &quot;OutputS3KeyPrefix&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;ResponseCode&quot;: 0,</span><br><span class="line">                    &quot;Output&quot;: &quot;eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 9001\n        inet 172.31.9.155  netmask 255.255.240.0  broadcast 172.31.15.255\n        inet6 fe80::69:c9ff:fe76:91ae  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether 02:69:c9:76:91:ae  txqueuelen 1000  (Ethernet)\n        RX packets 60339  bytes 17254584 (16.4 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 56971  bytes 13112880 (12.5 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\n&quot;,</span><br><span class="line">                    &quot;ResponseFinishDateTime&quot;: 1574370063.634,</span><br><span class="line">                    &quot;StatusDetails&quot;: &quot;Success&quot;,</span><br><span class="line">                    &quot;StandardOutputUrl&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;Name&quot;: &quot;aws:runShellScript&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ServiceRole&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CloudWatchOutputConfig&quot;: &#123;</span><br><span class="line">                &quot;CloudWatchLogGroupName&quot;: &quot;&quot;,</span><br><span class="line">                &quot;CloudWatchOutputEnabled&quot;: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;InstanceId&quot;: &quot;i-e2f189dashfdf65weqfwda2&quot;,</span><br><span class="line">            &quot;DocumentName&quot;: &quot;AWS-RunShellScript&quot;,</span><br><span class="line">            &quot;NotificationConfig&quot;: &#123;</span><br><span class="line">                &quot;NotificationArn&quot;: &quot;&quot;,</span><br><span class="line">                &quot;NotificationEvents&quot;: [],</span><br><span class="line">                &quot;NotificationType&quot;: &quot;&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;DocumentVersion&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StatusDetails&quot;: &quot;Success&quot;,</span><br><span class="line">            &quot;StandardOutputUrl&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StandardErrorUrl&quot;: &quot;&quot;,</span><br><span class="line">            &quot;InstanceName&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CommandId&quot;: &quot;39e80533-376e-46fa-bb11-8daf040fe80f&quot;,</span><br><span class="line">            &quot;RequestedDateTime&quot;: 1574370062.995</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Open a connection forwarding session to a remote port</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ğœ† aws ssm start-session --target i-e2f189dashfdf65weqfwda2 --document-name AWS-StartPortForwardingSessionToRemoteHost \</span><br><span class="line">    --parameters &#x27;&#123;&quot;portNumber&quot;:[&quot;3306&quot;],&quot;localPortNumber&quot;:[&quot;13306&quot;],&quot;host&quot;:[&quot;remote-mysql-host-name&quot;]&#125;&#x27; \</span><br><span class="line">    --profile session</span><br><span class="line"></span><br><span class="line">ğœ† mysql -h 127.0.0.1 --port 13306 -u admin -p</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Monitor AWS Session Manager log <code>/var/log/amazon/ssm/amazon-ssm-agent.log</code> on EC2 instance</p>
</li>
<li><p>Test <code>ssh</code> command with session token</p>
</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ğœ† AWS_PROFILE=session ssh -i .ssh/aws-key.pem -l ec2-user i-e2f189dashfdf65weqfwda2</span><br><span class="line">Last login: Fri Nov 22 00:19:32 2019 from localhost</span><br><span class="line"></span><br><span class="line">       __|  __|_  )</span><br><span class="line">       _|  (     /   Amazon Linux 2 AMI</span><br><span class="line">      ___|\___|___|</span><br><span class="line"></span><br><span class="line">https://aws.amazon.com/amazon-linux-2/</span><br></pre></td></tr></table></figure>

<ul>
<li>Test <code>scp</code> command with session token</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† AWS_PROFILE=session scp -i .ssh/aws-key.pem /tmp/stack-overflow.log ec2-user@i-e2f189dashfdf65weqfwda2:/tmp</span><br><span class="line">stack-overflow.log                                          100%   67KB 437.0KB/s   00:00</span><br></pre></td></tr></table></figure>

<p>Without using <code>scp</code>, transferring files directly is not possible with the AWS Session Manager. You should use S3 bucket and the AWS CLI to exchange data.</p>
<ul>
<li>Test <code>ssh</code> tunnel</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ğœ† AWS_PROFILE=session ssh -i .ssh/aws-key.pem -L 443:www.google.com:443 -l ec2-user@i-e2f189dashfdf65weqfwda2</span><br></pre></td></tr></table></figure>

<h2 id="OKTA"><a href="#OKTA" class="headerlink" title="OKTA"></a>OKTA</h2><p>Set up integrated OKTA authentication with session. Have you OKTA AWS CLI installed at first, and configure it:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat ~/.okta-aws</span><br><span class="line">[default]</span><br><span class="line">base-url = hello.paradise.org</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># The remaining parameters are optional.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># You will be prompted for them, if they&#x27;re not included here.</span></span></span><br><span class="line">username = terrence.miao@paradise.org</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Current choices are: GOOGLE or OKTA</span></span><br><span class="line">factor = OKTA</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">AWS role name (match one of the options prompted <span class="keyword">for</span> by <span class="string">&quot;Please select the AWS role&quot;</span> when this parameter is not specified</span></span><br><span class="line">role =</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Found <span class="keyword">in</span> Okta<span class="string">&#x27;s configuration for your AWS account.</span></span></span><br><span class="line">app-link = https://hello.paradise.org/home/amazon_aws/0oa1ch3l6/272</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">duration in seconds to request a session token for, make sure your accounts (both AWS itself and the associated okta application) allow for large durations. default: 3600</span></span></span><br><span class="line">duration = 28800</span><br></pre></td></tr></table></figure>

<p>Create session:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ğœ† bin/okta/okta --okta-profile default --force --profile session</span><br><span class="line">Enter password:</span><br><span class="line">Multi-factor Authentication required.</span><br><span class="line">Pick a factor:</span><br><span class="line">[ 0 ] Okta Verify App: SmartPhone_Android: ONEPLUS A5010</span><br><span class="line">[ 1 ] token:software:totp( OKTA ) : terrence.miao@paradise.org</span><br><span class="line">Selection: 0</span><br><span class="line">1: arn:aws:iam::994385754915:role/federation/DeveloperPowerUser</span><br><span class="line">2: arn:aws:iam::354184710243:role/federation/DeveloperPowerUser</span><br><span class="line">3: arn:aws:iam::855034721059:role/federation/DeveloperPowerUser</span><br><span class="line">4: arn:aws:iam::944986439712:role/federation/DeveloperPowerUser</span><br><span class="line">5: arn:aws:iam::944986439712:role/federation/Operations</span><br><span class="line">6: arn:aws:iam::015951833499:role/federation/DeveloperPowerUser</span><br><span class="line">Please select the AWS role: 3</span><br><span class="line">Session token expires on: 2019-12-05 06:30:18+00:00</span><br></pre></td></tr></table></figure>

<h2 id="Azure"><a href="#Azure" class="headerlink" title="Azure"></a>Azure</h2><p>Set up integrated Azure authentication with session. Have you AWS Azure CLI installed at first, and configure it:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat ~/.aws/config</span><br><span class="line">[profile session]</span><br><span class="line">output=json</span><br><span class="line">region=ap-southeast-2</span><br><span class="line">azure_tenant_id=paradise.org</span><br><span class="line">azure_app_id_uri=dac7d48b-7f45-47bb-bdae-d3c4f8351839</span><br><span class="line">azure_default_username=terrence.miao@paradise.org</span><br><span class="line">azure_default_role_arn=arn:aws:iam::994385754915:role/federation/DeveloperPowerUser</span><br><span class="line">azure_default_duration_hours=12</span><br><span class="line">azure_default_remember_me=false</span><br><span class="line"></span><br><span class="line">[profile session-cicd]</span><br><span class="line">output=json</span><br><span class="line">region=ap-southeast-2</span><br><span class="line">role_arn=arn:aws:iam::994385754915:role/ap-sc-iam-cicd-ap-southeast-2</span><br><span class="line">source_profile=session</span><br></pre></td></tr></table></figure>

<p>Create session:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ğœ† bin/aws-azure-cli/aws-azure-cli --profile session --mode gui</span><br><span class="line">Logging in with profile &#x27;session&#x27;...</span><br><span class="line">Using AWS SAML endpoint https://signin.aws.amazon.com/saml</span><br><span class="line">Looking in /Applications/Google Chrome.app/Contents/MacOS/Google Chrome</span><br><span class="line">Found browser in /Applications/Google Chrome.app/Contents/MacOS/Google Chrome</span><br><span class="line">Please complete the login in the opened window</span><br><span class="line">? Role: arn:aws:iam::994385754915:role/federation/DeveloperPowerUser</span><br><span class="line">? Session Duration Hours (up to 12): 12</span><br><span class="line">Assuming role arn:aws:iam::994385754915:role/federation/DeveloperPowerUser</span><br><span class="line">Requesting session duration 43200s</span><br><span class="line">Session expires Sun Feb 19 2023 06:46:43 GMT+1100 (Australian Eastern Daylight Time)</span><br></pre></td></tr></table></figure>

<p>Login EC2 instance, overwritting default <code>ap-southeast-2</code> region:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† aws ssm start-session --target i-04ee902e33625c4f3 --profile session --region us-east-2 --debug</span><br><span class="line">Starting session with SessionId: terrence.miao@paradise.org-05411f2e2d5a58b0b</span><br></pre></td></tr></table></figure>

<p>Attach a new key pair to EC2 instance by:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğœ† ssh-keygen -y -f .ssh/aws-key.pem</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCL ... asasf2qcvASEFWF</span><br></pre></td></tr></table></figure>

<p>Find out EC2 Instance ID by querying Instance Name:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ğœ† aws ec2 describe-instances --profile session \</span><br><span class="line">    --filter &quot;Name=tag:Name,Values=EC2Stack-Apptier/EC2&quot; \</span><br><span class="line">    --query &quot;Reservations[].Instances[?State.Name == &#x27;running&#x27;].InstanceId[]&quot; \</span><br><span class="line">    --output text</span><br><span class="line">i-04ee902e33625c4f3</span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>Troubleshooting Systems Manager Run Command, <em><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/systems-manager/latest/userguide/troubleshooting-remote-commands.html#systems-manager-ssm-agent-log-files">https://docs.aws.amazon.com/systems-manager/latest/userguide/troubleshooting-remote-commands.html#systems-manager-ssm-agent-log-files</a></em></li>
<li>Provides Okta authentication for awscli, <em><a target="_blank" rel="noopener" href="https://github.com/jmhale/okta-awscli">https://github.com/jmhale/okta-awscli</a></em></li>
<li>How to add a new key pair to your exisitng AWS ec2 Instances, <em><a target="_blank" rel="noopener" href="https://www.how2shout.com/linux/add-a-new-key-pair-to-your-exisitng-aws-ec2-instances/">https://www.how2shout.com/linux/add-a-new-key-pair-to-your-exisitng-aws-ec2-instances/</a></em></li>
<li>Use port forwarding in AWS Systems Manager Session Manager to connect to remote hosts, <em><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/mt/use-port-forwarding-in-aws-systems-manager-session-manager-to-connect-to-remote-hosts/">https://aws.amazon.com/blogs/mt/use-port-forwarding-in-aws-systems-manager-session-manager-to-connect-to-remote-hosts/</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-A-simple-approach-to-export-import-AWS-DynamoDB-table-items" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2019/04/23/A-simple-approach-to-export-import-AWS-DynamoDB-table-items/">A simple approach to export / import AWS DynamoDB table items</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2019-04-23T08:59:29.000Z" itemprop="datePublished">2019-04-23</time>
</span>
      
      
      
<a href="/blog/2019/04/23/A-simple-approach-to-export-import-AWS-DynamoDB-table-items/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Try to export items from AWS Test environment DynamoDB tables into Production. A simple Bash SHELL script, with a few commands and AWS CLI could do the work.</p>
<ul>
<li>In AWS DynamoDB console, export selected items into .csv file like this:</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat dws-tile-publisher-ptest-tile.csv</span><br><span class="line">&quot;id (S)&quot;,&quot;available_to (SS)&quot;,&quot;benefit_type (S)&quot;,&quot;category_id (S)&quot;,&quot;created_date (S)&quot;,&quot;created_user (S)&quot;,&quot;description (S)&quot;,&quot;image_bucket (S)&quot;,&quot;image_key (S)&quot;,&quot;last_modified_date (S)&quot;,&quot;last_modified_user (S)&quot;,&quot;status (S)&quot;,&quot;sub_category_id (S)&quot;,&quot;title (S)&quot;,&quot;valid_from (S)&quot;,&quot;valid_to (S)&quot;,&quot;claim_url (S)&quot;,&quot;discount_code (S)&quot;</span><br><span class="line">&quot;950c529b-d6ae-472b-b44a-510ec201c167&quot;,&quot;&#123; &quot;&quot;0b1b9ed4-e171-4eaf-9d20-1a870ab7cc7c&quot;&quot;, &quot;&quot;2df9daf4-da50-4ff9-9322-969d02c178f4&quot;&quot;, &quot;&quot;b6fdcdc7-ffe6-4007-ae56-f5ab545768ec&quot;&quot;, &quot;&quot;bc1c7285-ac47-4d06-b4c6-6f3780cbfb3f&quot;&quot; &#125; &quot;,&quot;DISCOUNT&quot;,&quot;8d27fb2d-c5f8-487a-a869-2ffd0e476eb6&quot;,&quot;2019-04-23T01:02:18.123&quot;,&quot;Angelo.Woods@test.npe.paradise.org&quot;,&quot;Testing descriptions&quot;,&quot;dws-tile-images-ptest&quot;,&quot;Samsung-Galaxy-10-Leak.jpg&quot;,&quot;2019-04-23T01:02:18.125&quot;,&quot;Angelo.Woods@test.npe.paradise.org&quot;,&quot;ARCHIVED&quot;,&quot;6936a6ed-fa97-4439-9129-c43e288011b3&quot;,&quot;Samsung Galaxy 10&quot;,&quot;2019-03-24T01:00&quot;,&quot;2021-02-25T23:00&quot;,&quot;http://www.google.com&quot;,</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&quot;095cc9b4-fd64-4479-8817-0b35b8ddcbc2&quot;,&quot;&#123; &quot;&quot;0b1b9ed4-e171-4eaf-9d20-1a870ab7cc7c&quot;&quot;, &quot;&quot;2df9daf4-da50-4ff9-9322-969d02c178f4&quot;&quot;, &quot;&quot;b6fdcdc7-ffe6-4007-ae56-f5ab545768ec&quot;&quot;, &quot;&quot;bc1c7285-ac47-4d06-b4c6-6f3780cbfb3f&quot;&quot; &#125; &quot;,&quot;DISCOUNT&quot;,&quot;1f028ecb-4115-4378-b00e-3fcd4cbdf54d&quot;,&quot;2019-04-23T03:50:31.226&quot;,&quot;Angelo.Woods@test.npe.paradise.org&quot;,&quot;&lt;div&gt;Employees now have access to an exclusive member offers portal through the Samsung Employee Purchase program. Get up to 35% off the RRP across a wide range of products including mobile phones, tablets, televisions, refrigerators, washing machines, monitors and more.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&quot;,&quot;dws-tile-images-ptest&quot;,&quot;samsung.jpg&quot;,&quot;2019-04-23T03:50:31.228&quot;,&quot;Angelo.Woods@test.npe.paradise.org&quot;,&quot;PUBLISHED&quot;,&quot;ce07c19b-dd87-4890-9ad3-6acfe0998496&quot;,&quot;Samsung&quot;,&quot;2019-04-17T01:00&quot;,&quot;2025-01-01T23:00&quot;,&quot;https://shop.samsung.com/au/multistore/auepp/austpost_au/&quot;,&quot;Simply go to link provided to access the site. Browse our categories, add your products to cart and checkout. Happy Shopping! &quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>Generate a key:value hashtable used later. Key is â€œidâ€ column, value is â€œimage_keyâ€ colomn:</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ğœ† awk -F&quot;\&quot;,\&quot;&quot; &#x27;&#123;print $1 &quot;:&quot; $9 &quot;\&quot;&quot;&#125;&#x27; dws-tile-publisher-test-tile.csv | sed &#x27;s/jpg/json/&#x27; | sed &#x27;s/png/json/&#x27; | sed -n &#x27;1d;p&#x27;</span><br><span class="line">&quot;950c529b-d6ae-472b-b44a-510ec201c167:Samsung-Galaxy-10-Leak.json&quot;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&quot;095cc9b4-fd64-4479-8817-0b35b8ddcbc2:samsung.json&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>Run the bash script and retrieve item from AWS DyanmoDB table, tranform it and output into a JSON file for import into AWS Production production table:</li>
</ul>
<script src="https://gist.github.com/TerrenceMiao/de10c70aa6adf212fae6e9fc4d63c025.js"></script>

<ul>
<li>A generated JSON file looks like this:</li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">ğœ† cat Samsung-Galaxy-10-Leak.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;status&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;PUBLISHED&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;valid_from&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;2019-03-24T01:00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;sub_category_id&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;6936a6ed-fa97-4439-9129-c43e288011b3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;description&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;Testing descriptions&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;image_key&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;Samsung-Galaxy-10-Leak.jpg&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;claim_url&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;http://www.google.com&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;last_modified_date&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;2019-04-23T01:02:18.125&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;valid_to&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;2021-02-25T23:00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;created_user&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;Noel.French@paradise.org&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;benefit_type&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;DISCOUNT&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;last_modified_user&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;Noel.French@paradise.org&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;created_date&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;2019-04-23T01:02:18.123&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;title&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;Samsung Galaxy 10&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;category_id&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;8d27fb2d-c5f8-487a-a869-2ffd0e476eb6&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;image_bucket&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;dws-tile-images-prod&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;id&quot;: &#123;</span><br><span class="line">        &quot;S&quot;: &quot;950c529b-d6ae-472b-b44a-510ec201c167&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;available_to&quot;: &#123;</span><br><span class="line">        &quot;SS&quot;: [</span><br><span class="line">            &quot;0b1b9ed4-e171-4eaf-9d20-1a870ab7cc7c&quot;,</span><br><span class="line">            &quot;2df9daf4-da50-4ff9-9322-969d02c178f4&quot;,</span><br><span class="line">            &quot;b6fdcdc7-ffe6-4007-ae56-f5ab545768ec&quot;,</span><br><span class="line">            &quot;bc1c7285-ac47-4d06-b4c6-6f3780cbfb3f&quot;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Now run the bash script and import JSON file into AWS Production DynamoDB table:</li>
</ul>
<script src="https://gist.github.com/TerrenceMiao/c61f7721fe9721d7f6983cce821e7929.js"></script>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Keep-running" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2019/01/11/Keep-running/">Keep running</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2019-01-11T00:27:56.000Z" itemprop="datePublished">2019-01-11</time>
</span>
      
      
      
<a href="/blog/2019/01/11/Keep-running/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è®¸å¤šæ°å‡ºçš„äººç‰©éƒ½æ˜¯é•¿è·‘çˆ±å¥½è€…ï¼Œæ¯”å¦‚é˜¿å…°Â·å›¾çµã€‚</p>
<p>å›¾çµçš„å¤´è¡”æœ‰å¾ˆå¤šï¼Œä¼ å¥‡æ€§çš„æ•°å­¦å®¶ã€é€»è¾‘å­¦å®¶ã€ç°ä»£è®¡ç®—æœºä¹‹çˆ¶ã€‚ä½†å¾ˆå°‘äººçŸ¥é“ä»–ä¹Ÿæ˜¯ä¸€ä½å‡ºè‰²çš„è·‘è€…ï¼Œç”šè‡³å·®ç‚¹ç«™ä¸Šäº†å¥¥è¿ä¼šçš„èˆå°ã€‚</p>
<p>å›¾çµä»ä¸­å­¦å°±å¼€å§‹è·‘æ­¥ï¼Œä½†ç›´åˆ° 30 å¤šå²æ‰æ­£å¼è¿›è¡Œé•¿è·‘è®­ç»ƒã€‚</p>
<p>è·‘é“ä¸Šçš„å›¾çµâ€œå¤§å™¨æ™šæˆâ€ï¼Œå‡ºè‰²çš„è¿åŠ¨å¤©èµ‹ä¸æ¯«ä¸é€Šè‰²äºä»–çš„å¤´è„‘ã€‚</p>
<p>14 å²é‚£å¹´ï¼Œä»–åœ¨è°¢ä¼¯æ©å¯„å®¿é«˜ä¸­å°±è¯»çš„ç¬¬ä¸€æ—¥ï¼Œç”±äºå¤§ç½¢å·¥ï¼Œå½“åœ°çš„å…¬å…±äº¤é€šè®¾æ–½å…¨éƒ¨åœè¿ã€‚å›¾çµæ²¡æœ‰ç­‰åˆ°äº¤é€šæ¢å¤ï¼Œå°±ä»å—å®‰æ™®æ•¦ä¸€å£æ°”éª‘è¡Œ 96 å…¬é‡Œåˆ°è¾¾ä½äºå¤šå¡ç‰¹éƒ¡è¥¿åŒ—çš„å­¦æ ¡ä¸Šå­¦ï¼Œå¼•å‘å…¨æ ¡è½°åŠ¨ã€‚</p>
<p>1931 å¹´ï¼Œå½“ä»–è¿›å…¥å‰‘æ¡¥å›½ç‹å­¦é™¢å­¦ä¹ æ—¶ï¼Œä»–æ›¾å¤šæ¬¡åœ¨å­¦æ ¡å’Œä¼Šåˆ©é•‡ä¹‹é—´è¿›è¡ŒæŠ˜è¿”è·‘ï¼Œä¸€ä¸ªæ¥å›å°±å·®ä¸å¤š 50 å…¬é‡Œã€‚</p>
<p>1947 å¹´ï¼Œåœ¨è±æ–¯ç‰¹éƒ¡æ‹‰å¤«å ¡ï¼ˆLoughboroughï¼‰å¤§å­¦ä½“è‚²åœºä¸¾è¡Œçš„è‹±å›½ä¸šä½™ç”°å¾„åä¼šé©¬æ‹‰æ¾é”¦æ ‡èµ›ä¸Šï¼Œå›¾çµè·‘å‡ºäº†ä»–åœ¨é©¬æ‹‰æ¾èµ›ä¸­çš„ä¸ªäººæœ€å¥½æˆç»© 2 å°æ—¶ 46 åˆ† 03 ç§’ï¼Œåœ¨é‚£åœºæ¯”èµ›ä¸­ååˆ—ç¬¬äº”ã€‚</p>
<p>åœ¨ 1948 å¹´ä¼¦æ•¦çš„å¥¥è¿ä¼šé©¬æ‹‰æ¾æ¯”èµ›ä¸Šï¼Œå½“æ—¶å† å†›çš„æˆç»©æ˜¯ 2 å°æ—¶ 34 åˆ† 52 ç§’ã€‚å›¾çµä»…æ¯”é‡‘ç‰Œå¾—ä¸»æ…¢äº† 11 åˆ†é’Ÿã€‚è€Œæ®è‹±å›½ã€Šæ³°æ™¤å£«æŠ¥ã€‹æŠ¥é“ï¼Œå›¾çµçš„æœ€å¥½æˆç»©åœ¨å½“å¹´ï¼ˆ1947å¹´ï¼‰è¶³ä»¥æ’åä¸–ç•Œå‰ä¸‰ã€‚</p>
<p><img src="https://therunnereclectic.files.wordpress.com/2014/11/alan-turing-running.jpg" alt="Alan Turning running" title="Alan Turning running"></p>
<p>When Alan Turing was asked why he punished himself so much in training. He said â€œI have such a stressful job that the only way I can get it out of my mind is by running hard; its the only way I can get some release.â€</p>
<p>å¥¥æ–¯å¡æœ€ä½³æ”¹ç¼–å‰§æœ¬ç”µå½±ã€Šæ¨¡ä»¿æ¸¸æˆã€‹The Imitation Game æ˜¯æ ¹æ®ä»–çš„ä¼ è®°ã€ŠAlan Turing: The Enigmaã€‹æ‹æ‘„çš„ã€‚</p>
<p><img src="https://img01.mgo-images.com/image/thumbnail/v2/content/MMV23F9EE71557457EFE04D2B6E4DBBA320A.jpeg" alt="The Imitation Game" title="The Imitation Game"></p>
<p><img src="https://static.gamesurf.it/immagini/2014/11272/big/the_imitation_game_584289.jpg" alt="Movie scene: Alan Turning running" title="Movie scene: Alan Turning running"></p>
<p>è‹¹æœå…¬å¸çš„å•†æ ‡ä¸€åº¦è¢«è¯¯è®¤ä¸ºæ˜¯æºäºå›¾çµè‡ªæ€æ—¶å’¬ä¸‹çš„è‹¹æœï¼Œä½†è¯¥å›¾æ¡ˆçš„è®¾è®¡å¸ˆå’Œè‹¹æœå…¬å¸éƒ½å¦è®¤è¿™ä¸€è¯´æ³•ã€‚</p>
<p>Stephen Fry said on the BBC show QI XL in 2011 that his friend Steve Jobs said of the Turing tale, â€œIt isnâ€™t true, but God we wish it were!â€</p>
<p>ä¹”å¸ƒæ–¯è¢«è‹±å›½å¹¿æ’­å…¬å¸ç”µè§†èŠ‚ç›®ã€ŠQIã€‹ä¸»æŒäººå²è’‚èŠ¬Â·å¼—è±é—®åˆ°æ­¤äº‹æ—¶è¯´ï¼šâ€œè¿™ï¼ˆLOGO å‘å›¾çµè‡´æ•¬ï¼‰ä¸æ˜¯çœŸçš„ï¼Œä½†æ˜¯ä¸Šå¸å•Šï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒæ˜¯çœŸçš„ã€‚â€</p>
<p><img src="https://www.fineprintart.com/images/blog/history-of-apple-logo/Apple-Logo-by-Rob-Janoff.svg" alt="&quot;Apple logo&quot;" title="Apple logo"></p>
<p>Keep running.</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Add-final-and-javadoc-for-auto-generated-getters-and-setters-in-IntelliJ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2019/01/11/Add-final-and-javadoc-for-auto-generated-getters-and-setters-in-IntelliJ/">Add final and javadoc for auto-generated getters and setters in IntelliJ</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2019-01-10T23:29:06.000Z" itemprop="datePublished">2019-01-11</time>
</span>
      
      
      
<a href="/blog/2019/01/11/Add-final-and-javadoc-for-auto-generated-getters-and-setters-in-IntelliJ/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Default-final-modifier"><a href="#Default-final-modifier" class="headerlink" title="Default final modifier"></a>Default final modifier</h2><p>To satisfy Checkstyle setup. In IntelliJ (version 2018.3.2) Preferences | Editor &gt; Code Style &gt; Java, select â€œCode Generationâ€ tab, check â€œMake generated parameters finalâ€</p>
<p><img src="/blog/img/IntelliJ%20-%20final%20modifier.png" alt="Final Modifier" title="Final Modifier"></p>
<h2 id="javadoc-for-auto-generated-getters-and-setters"><a href="#javadoc-for-auto-generated-getters-and-setters" class="headerlink" title="javadoc for auto-generated getters and setters"></a>javadoc for auto-generated getters and setters</h2><p>Create customised Getter Template:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* Gets $field.name.</span><br><span class="line">*</span><br><span class="line">* @return value of $field.name</span><br><span class="line">*/</span><br><span class="line">#if($field.modifierStatic)</span><br><span class="line">static ##</span><br><span class="line">#end</span><br><span class="line">$field.type ##</span><br><span class="line">#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))</span><br><span class="line">#if ($field.boolean &amp;&amp; $field.primitive)</span><br><span class="line">    is##</span><br><span class="line">#else</span><br><span class="line">    get##</span><br><span class="line">#end</span><br><span class="line">$&#123;name&#125;() &#123;</span><br><span class="line">    return $field.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/blog/img/IntelliJ%20-%20Getter%20Template.png" alt="Getter Template" title="Getter Template"></p>
<p>Create customised Setter Template:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* Sets $field.name.</span><br><span class="line">*</span><br><span class="line">* @param $field.name value of $field.name</span><br><span class="line">*/</span><br><span class="line">#set($paramName = $helper.getParamName($field, $project))</span><br><span class="line">#if($field.modifierStatic)</span><br><span class="line">static ##</span><br><span class="line">#end</span><br><span class="line">void set$StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project)))($field.type $paramName) &#123;</span><br><span class="line">#if ($field.name == $paramName)</span><br><span class="line">    #if (!$field.modifierStatic)</span><br><span class="line">    this.##</span><br><span class="line">    #else</span><br><span class="line">        $classname.##</span><br><span class="line">    #end</span><br><span class="line">#end</span><br><span class="line">$field.name = $paramName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/blog/img/IntelliJ%20-%20Setter%20Template.png" alt="Setter Template" title="Setter Template"></p>
<p>Use the customised Getter and Setter templates when automatically generate getters and setters:</p>
<p><img src="/blog/img/IntelliJ%20-%20auto-generated%20getters%20setters.png" alt="auto-generated getters setters" title="auto-generated getters setters"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Year-2018-in-the-Rear-View-Mirror" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2019/01/01/Year-2018-in-the-Rear-View-Mirror/">Year 2018 in the Rear View Mirror</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-12-31T13:46:43.000Z" itemprop="datePublished">2019-01-01</time>
</span>
      
      
      
<a href="/blog/2019/01/01/Year-2018-in-the-Rear-View-Mirror/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>2018 æ˜¯ä¸€ä¸ªè®©äººæ•¬ç•ææƒ§â€œé€¢å…«å¿…å˜â€çš„å¹´ä»½ã€‚2018 æ˜¯è¿‡å»åå¹´ä¸­æœ€ç³Ÿç³•çš„ä¸€å¹´ï¼Œä½†ä¹Ÿè®¸æ˜¯æœªæ¥åå¹´é‡Œæœ€å¥½çš„ä¸€å¹´ã€‚</p>
<p>2018 å¹´è¿‡å»äº†ï¼Œæˆ‘å¾ˆæ€€å¿µå®ƒã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2001.jpg" alt="Year 2018 - 01" title="Year 2018 - 01"></p>
<p>å›¾ 1ï¼š2018 å¹´æ˜¯åœ¨è¿‡å»åå¹´ä¸­å”¯ä¸€çš„å„é¡¹æŠ•èµ„éƒ½ä¸ºè´Ÿå¢é•¿çš„ä¸€å¹´ã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2002.jpg" alt="Year 2018 - 02" title="Year 2018 - 02"></p>
<p>å›¾2ï¼šç¾å›½è‚¡å¸‚è¿›å…¥ä¸‹åŠå¹´ä¸€ç›´è·Œè·Œä¸ä¼‘ã€‚ä½†åœ¨ Boxing Day å´åˆ›é€ äº†å•æ—¥æ¶¨å¹…çš„çºªå½•ã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2003.jpg" alt="Year 2018 - 03" title="Year 2018 - 03"></p>
<p>å›¾ 3ï¼šé»æ›¼ Zeta å‡½æ•°ï¼Œç”¨äºè®¡ç®—ç´ æ•°åˆ†å¸ƒã€‚2018 å¹´å¤šäººå£°ç§°è¯æ˜äº†ç™¾å¹´æœªè§£å†³çš„é»æ›¼çŒœæƒ³ï¼Œä½†æœ€ç»ˆéƒ½æ˜¯é—¹å‰§æ”¶åœºã€‚é»æ›¼çŒœæƒ³ä¾ç„¶æœ‰å¦‚æœ€ä¸ºå£®ç¾ï¼Œå·å³¨ï¼Œé™©å³»çš„å¥‡å±±ï¼ŒçŸ—ç«‹åœ¨äººç±»çš„æ™ºåŠ›å·…å³°ä¹‹ä¸Šã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2004.jpg" alt="Year 2018 - 04" title="Year 2018 - 04"></p>
<p>å›¾ 4ï¼šThe cost of livingï¼Œcity by cityã€‚ç”Ÿæ´»æœ‰å¤šè´µï¼Ÿä¸­å›½å…­åŸå¸‚å…¥é€‰å…¨çƒç”Ÿæ´»æˆæœ¬æœ€æ˜‚è´µçš„ top 25 list.</p>
<p><img src="/blog/img/Year%202018%20-%2005.jpg" alt="Year 2018 - 05" title="Year 2018 - 05"></p>
<p>å›¾ 5ï¼šè‚¯å°¼äºšçš„ Eliud Kipchoge åœ¨ 2018 å¹´æŸæ—é©¬æ‹‰æ¾ä¸Šåˆ›é€ çš„ 2 å°æ—¶ 1 åˆ† 39 ç§’çš„é©¬æ‹‰æ¾ä¸–ç•Œçºªå½•ã€‚äººç±»ä»ç„¶åœ¨è¯•å›¾çªç ´ 2 å°æ—¶å®Œæˆé©¬æ‹‰æ¾çš„è¿åŠ¨æé™ã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2006.jpg" alt="Year 2018 - 06" title="Year 2018 - 06"></p>
<p>å›¾ 6ï¼šä¸­å›½Â·ä¸Šæµ·</p>
<p><img src="/blog/img/Year%202018%20-%2007.jpg" alt="Year 2018 - 07" title="Year 2018 - 07"></p>
<p>å›¾ 7ï¼šChinese President Xi Jinping,centre, arrives with Premier Li Keqiang, left, for the opening session of the Chinese Peopleâ€™s Political Consultative Conference in Beijingâ€™s Great Hall of the People on March 3, 2018.</p>
<p><img src="/blog/img/Year%202018%20-%2008.jpg" alt="Year 2018 - 08" title="Year 2018 - 08"></p>
<p>å›¾ 8ï¼šChinese President Xi Jinping Speech.</p>
<p><img src="/blog/img/Year%202018%20-%2009.jpg" alt="Year 2018 - 09" title="Year 2018 - 09"></p>
<p>å›¾ 9ï¼šåœ¨ 2018 å¹´ Pantone Colour of the yearï¼ŒUltra Violet ç´«å¤–å…‰åï¼Œæ½˜é€šå­ç»™å‡º 2019 å¹´åº¦æµè¡Œè‰² Living Coral  çŠç‘šæ©™ã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2010.jpg" alt="Year 2018 - 10" title="Year 2018 - 10"></p>
<p>å›¾ 10ï¼š2018 å¹´åº¦æ±‰å­—ï¼Œç”± â€œç©·â€ å’Œ â€œä¸‘â€ åˆä½“æ‰€ç»„æˆï¼Œè¯»éŸ³æ˜¯ â€œqiouâ€ï¼ˆéŸ³åŒç³—ï¼‰ï¼Œå³åˆç©·åˆä¸‘çš„æ„æ€ã€‚ä¸å°‘ç½‘å‹è¡¨ç¤ºï¼Œè¿™å­—åº”è¯¥å¿µ â€œwoâ€ï¼ˆæˆ‘ï¼‰ã€‚</p>
<p><img src="/blog/img/Year%202018%20-%2011.jpg" alt="Year 2018 - 11" title="Year 2018 - 11"></p>
<p>å›¾ 11ï¼šç”µå½±ã€Šç”²æ–¹ä¹™æ–¹ã€‹çš„ç»“å±€ã€‚æ¨ç«‹æ–°èµ°åˆ°é›ªåœ°é‡Œï¼ŒæŠ¬èµ·å¤´ï¼Œå’Œæ¯ä¸ªæ™®é€šäººéƒ½ä¸€æ ·ï¼Œè¦ç»§ç»­é¢å¯¹é£é›ªã€‚å±‹å­é‡Œé¢æ˜¯çº¢ç¯ç¬¼ï¼Œäº®å ‚å ‚çš„ã€‚å¤–é¢å·²ç»æ˜¯å†·è‰²è°ƒäº†ã€‚å¤–é¢å°±æ˜¯ç°å®çš„ç”Ÿæ´»ã€‚</p>
<p>â€œæˆ‘å¾ˆæ€€å¿µå®ƒâ€ï¼Œç»å†è¶Šå¤šï¼Œè¿™å¥è¯å¸¦æ¥çš„æ„Ÿè§¦å°±è¶Šåšé‡ã€‚</p>
<p>æ—¶é—´ï¼Œæ¢¦æƒ³å’Œçˆ±ï¼Œéƒ½æ˜¯å¦‚æ­¤ã€‚</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Step-by-step-run-Kafka-on-Mac" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2018/12/10/Step-by-step-run-Kafka-on-Mac/">Step by step run Kafka on Mac</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-12-10T04:45:51.000Z" itemprop="datePublished">2018-12-10</time>
</span>
      
      
      
<a href="/blog/2018/12/10/Step-by-step-run-Kafka-on-Mac/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p>Download Kafka binary file from <em><a target="_blank" rel="noopener" href="https://kafka.apache.org/downloads">https://kafka.apache.org/downloads</a></em> and install it</p>
</li>
<li><p>Set up Kafka listen on <strong>PLAINTEXT:&#x2F;&#x2F;localhost:9092</strong></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">terrence@igloo /usr/local/kafka</span><br><span class="line">15:51:25 ğœ† diff config/server.properties config/server.properties.orig</span><br><span class="line">31c31</span><br><span class="line">&lt; listeners=PLAINTEXT://localhost:9092</span><br><span class="line">---</span><br><span class="line">&gt; <span class="comment">#listeners=PLAINTEXT://:9092</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Start Zookeeper</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">igloo:kafka root<span class="comment"># bin/zookeeper-server-start.sh config/zookeeper.properties</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Start Kafka</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">igloo:kafka root<span class="comment"># bin/kafka-server-start.sh config/server.properties</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Create a new Kafka topic named â€œtestâ€</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">igloo:kafka root<span class="comment"># bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Initialise Producer in Console</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">terrence@igloo /usr/local/kafka_2.12-2.1.0</span><br><span class="line">16:04:19 ğœ† bin/kafka-console-producer.sh --broker-list localhost:9092 --topic <span class="built_in">test</span></span><br><span class="line">&gt;Hello World</span><br><span class="line">&gt;Wow</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Initialize Consumer in Console to receive the messages</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">terrence@igloo /usr/local/kafka_2.12-2.1.0</span><br><span class="line">16:06:11 ğœ† bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic <span class="built_in">test</span> --from-beginning</span><br><span class="line">Hello World</span><br><span class="line">Wow</span><br></pre></td></tr></table></figure>

<p>Run Kafka Manager, an UI tool for managing Kafka.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">terrence@igloo ~/bin/kafka-manager-1.3.3.18</span><br><span class="line">16:16:47 ğœ† <span class="built_in">env</span> ZK_HOSTS=<span class="string">&quot;localhost:2181&quot;</span> bin/kafka-manager</span><br></pre></td></tr></table></figure>

<p>Then visit <em><a target="_blank" rel="noopener" href="http://localhost:9000/">http://localhost:9000</a></em></p>
<p>Create a Kafka cluster at first:</p>
<p><img src="/blog/img/Kafka%20Cluster.png" alt="Kafka Cluster" title="Kafka Cluster"></p>
<p>Visit â€œtestâ€ topic in Kafka cluster:</p>
<p><img src="/blog/img/Kafka%20Manager.png" alt="Kafka Manager" title="Kafka Manager"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-This-is-how-I-feel-when-my-code-runs-without-a-single-bug" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2018/12/07/This-is-how-I-feel-when-my-code-runs-without-a-single-bug/">This is how I feel when my code runs without a single bug</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-12-06T21:35:50.000Z" itemprop="datePublished">2018-12-07</time>
</span>
      
      
      
<a href="/blog/2018/12/07/This-is-how-I-feel-when-my-code-runs-without-a-single-bug/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://lh3.googleusercontent.com/7WmOU85cMfllK056ZWJQ_ffILt0z3AQTOHhv9WDXmEUuzAePf_XFb8Kk2PvqPmjpJpldKK33fFTMLz49jNsRygrmExaRvzPZXrbGUHwrCnhig7ll8Acr_zm8mZo-2h_E5IYw_sFDsSafCcfv8NfVc7mnv_Vt6Vm3sPUGsDADaADySvnHw2P-EV935D7N6B9Eb8w9iJV-9mP1rsvjOBwHFTC-shj5LGuxrdDk628b4spTrRqlj-E-poJN0Ja90gjTn2Y_327m9d7YjDcNtU_m8dscEW1atVqshFQGjPffvrzni7BOwrDRL4c5ec4JF88bh6L9v2t_hs9UV84EAQon8ef0lVAdHGMAEHv0ji82n8Hz9v2iJhIVsu-vYBp3z7VJ04C1xQkdCK1Cj1Hjo78p-dCTL4fwnR4T-SZvfjUzvN2sTitZbBp0mMFPshB4TBg1MEDSUovVz2cd1JqR4sSM5ZAx-h4N1CqXhYXUNICRHE9ThYKZ2Oe9Pf27CRnA5mcmJkKHN8BQUM8Q1454lYKk3osfg-hoAPnowQh4bjJV8VfsdiGD5lHeVnj_F9u-ifJo_kX_lCYeyiXFES71m3U4lFzaUWJQiR5QbewKWbjtoMuoxe0mh4VkWCIP8TNh7OCWlAWmAdPexblCKiw9Zy38Bk8Mdg=w460-h266-no" alt="This is how I feel when my code runs without a single bug" title="This is how I feel when my code runs without a single bug"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Bind-customised-KeyStore-TrustStore-and-PoolingHttpClientConnectionManager-in-Apache-Camel" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2018/12/03/Bind-customised-KeyStore-TrustStore-and-PoolingHttpClientConnectionManager-in-Apache-Camel/">Bind customised KeyStore,TrustStore and PoolingHttpClientConnectionManager in Apache Camel</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-12-03T07:54:16.000Z" itemprop="datePublished">2018-12-03</time>
</span>
      
      
      
<a href="/blog/2018/12/03/Bind-customised-KeyStore-TrustStore-and-PoolingHttpClientConnectionManager-in-Apache-Camel/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>In Apache HTTPClient 4.x, PoolingHttpClientConnectionManager and BasicHttpClientConnectionManager can be used as Connection Managers for HTTP Client. By default, above two Connection Managers load <strong>cacerts</strong> trust store, from $JRE_HOME&#x2F;lib&#x2F;security directory, not programmatically specified.</p>
<p>Since Apache Camel starts supporting HTTP4 Component, camel-http4 is using Apache HTTPClient 4.x. The following is a solution how to customise PoolingHttpClientConnectionManager and SSLContext to use specified KeyStore and TrustStore.</p>
<script src="https://gist.github.com/TerrenceMiao/fefc0d10359146c3612fde33046b95d0.js"></script>

<p>In <strong>application.properties</strong> file defined environment specified KeyStore and TrustStore:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">keystore.location=classpath:certificates/client-certs.jks</span><br><span class="line">keystore.password=client123</span><br><span class="line">truststore.location=classpath:certificates/trusted-cacerts.jks</span><br><span class="line">truststore.password=changeit</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Without Connection Managers like PoolingHttpClientConnectionManager and BasicHttpClientConnectionManager in Apache HTTPClient 4.x, Apache Camel Route can be written in this way, binding programmatically specified KeyStore and TrustStore.</p>
<script src="https://gist.github.com/TerrenceMiao/ecdb7cb674887a7f82199ac880987224.js"></script>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li>Apache Camel HTTP4 Component, <em><a target="_blank" rel="noopener" href="http://camel.apache.org/http4.html">http://camel.apache.org/http4.html</a></em></li>
<li>Java SSL with Multiple KeyStores, <em><a target="_blank" rel="noopener" href="http://codyaray.com/2013/04/java-ssl-with-multiple-keystores">http://codyaray.com/2013/04/java-ssl-with-multiple-keystores</a></em></li>
<li>Multiple Keystores in Apache Camel&#x2F;HttpClient, <em><a target="_blank" rel="noopener" href="http://codyaray.com/2013/05/multiple-keystores-in-apache-camelhttpclient">http://codyaray.com/2013/05/multiple-keystores-in-apache-camelhttpclient</a></em></li>
</ul>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Inspirational-Thought" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2018/11/22/Inspirational-Thought/">Inspirational Thought</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-11-21T22:56:10.000Z" itemprop="datePublished">2018-11-22</time>
</span>
      
      
      
<a href="/blog/2018/11/22/Inspirational-Thought/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Inspirational Thought from Jeff Bezos.</p>
<p><img src="/blog/img/Inspirational%20Thought.png" alt="Inspirational Thought" title="Inspirational Thought"></p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-After-new-Macbook-Air-Mac-Mini-iPad-Pro-2018" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/2018/11/06/After-new-Macbook-Air-Mac-Mini-iPad-Pro-2018/">After new Macbook Air, Mac Mini, iPad Pro 2018</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2018-11-06T01:02:29.000Z" itemprop="datePublished">2018-11-06</time>
</span>
      
      
      
<a href="/blog/2018/11/06/After-new-Macbook-Air-Mac-Mini-iPad-Pro-2018/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€æ–°çš„è‹¹æœå‘å¸ƒä¼šæ˜¯ä¸€æ¬¡å›¢ç»“çš„å¤§ä¼šï¼Œæ±‚å®çš„å¤§ä¼šï¼Œèƒœåˆ©çš„å¤§ä¼šã€‚åœ¨ä»¥è‹¹æœæ€»ä¹¦è®°åº“å…‹åŒå¿—ä¸ºæ ¸å¿ƒçš„é¢†å¯¼ä¸‹ï¼ŒApple Design æ‹¨ä¹±åæ­£ï¼Œç»§å¾€å¼€æ¥ï¼Œé‡æ‹¾ç»å…¸ã€‚</p>
<p>Macbook Air å¾—ä»¥ç»§ç»­ï¼ŒMac Mini å¾—åˆ°é‡ç”Ÿã€‚iPad Pro åœ¨ç»è¿‡ä¸æ–­çš„æ¢ç´¢ã€å¤±è´¥åï¼Œç»ˆäºæ‹¿å‡ºä¸€æ¬¾éœ‡æ’¼å¿ƒçµçš„è®¾è®¡ï¼Œä»¥åŠä¸€æ¬¾ä¸æ—¶å…±è¿›çš„ Apple Pencilã€‚</p>
<p><img src="https://lh3.googleusercontent.com/-9GgKlE-FBYzf8HtFPF7ospJ2YkRj_GE61LkN9c-SQdw7tpN0KlgdcYJOeMX7MXKd5KeaeO8HaNcqoGY-GJ3Vt8q-iXGN7o4EzSIwXYf_rZyRkFG5atyMBuPc2IyT_YedHW-bzOPjFuGjZfU-6tc-w8beILc8x2W2v32KoJ7ChDhh9f1vBfrzg2r9RFuKSatM2EigA6kr3PwuUw4G6zUI9_JTHtUVEfB9cduu8e8VnymXN_759jxZIdAkyDRPvbB5OW_77-3QkT0Hv887PtF2d-as1wq-5GnQpmaWBi7UKrMZOaa6BBjbUmd5dOuNsIGsTMF-6w0xY_44E6wpo4G2CVzNULfdj0aBIs5huccMsZHHofKSTJxaMhkx_6fMbgeGtcGcTBdzhoPP3bi43SXlB5JbL17MTGVlkrDqA8vPAS596EbxY8LfkyxhrSMXsl0_xFhcyFxFhfa-V63AXTeE4hhmwVvhlWRdx8boOwUeopG53j_aViICFhuSVs4lg-Y1qnCFobPj1I0vWfwa5eJBsc92qFwu-pF1TdN1vYuJ0k3y9QpzRyJnGq1SamI4G3gWOdxqdq0stkTO3_I-rB7EUJ7fmQF91BKHGiH5Ve3kmD4_az8Bil4O0-GnZkHh62Y6O_WDATXXmhcW3Z2dTn3ZPl-jw=w2880-h1440-no" alt="History of iPad"></p>
<p>æ–° iPad Pro çš„æœºèº«èƒŒé¢å†…ç½®äº†102 å—ç£é“ï¼Œä¿è¯äº† flat æ‰å¹³çš„è¿™æ¬¾ Apple Pencil å¯ç‰¢å›ºå¸é™„åœ¨æœºèº«ä¸Šï¼ŒåŒæ—¶ä¹Ÿèƒ½ç»™ Apple Pencil è¿›è¡Œæ— çº¿å……ç”µã€‚è¿™ä¸ªè®¾è®¡ä¼˜é›…ï¼Œå®ç”¨ï¼Œç‚¹èµå¿…é¡»ã€‚Furthermore, è¾¹æ¡†å¡‘æ€§æ¢æˆäº†æ–¹æ­£çš„é€ å‹ï¼Œé‡å› iPhone 5 æ–¹æ­£è¾¹æ¡†çš„ç²¾å…¸è®¾è®¡ã€‚ä»å±å¹•åˆ°å¤–å½¢ï¼Œä»å¤–è®¾åˆ°è¿æ¥æ€§ï¼Œæ–° iPad Pro çš„æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯æœç€é«˜ç”Ÿäº§åŠ›ç¬”è®°æœ¬ç”µè„‘çš„ ecosystem å‰è¿›ã€‚</p>
<p>ä»Šå¤©å¢¨å°”æœ¬èµ›é©¬èŠ‚ï¼Œå…¨ç»´å¤šåˆ©äºšå·äººæ°‘åœ¨æ˜¥å¤©çš„è‰åœ°ä¸Šæ’’é‡ã€‚ä¿¡ä¸»ä¹Ÿå‡†å¤‡æ½‡æ´’ä¸€æŠŠã€‚</p>
<p><img src="https://lh3.googleusercontent.com/C9wpMgkDnHM2pmWGn8-wfCuhP2jsJ6HwmhyLTibhFD8c0Pf5CXF_NwS9AksFH5VhvtLiJ7QG8Q-b83QuJYutqusXv-as76KBeXwlUt4MW-f-cmtyNM7E2V83QJYm1ex-9laru91QCeGf5AFlH-6zOU6oPHgGluJyPmEP1O6kvrKnwWJswiibH9J-KdKf2L09WnsjUcXo1ehnWJJFz4B6zgv1-4ug8Qr5r7brGAWySd3Ayo7MEBZK7Y7zjfkA2-x61h7m47E_em3kHdIjHaK7tme5s5562Rx1gnWizqqNAy3qj6xr0yGB0O9J-nLU4F3hG6mGJm-YrCTyOIglhIqqE7OyG6MHSvUtk1i4ZBkCCrlpaGBwGsbZSCndnMNTnWhXSpBQ8bpnIS_q42YZAZTm6Efn5qDC0ZuasKMgBKCi8uzu2veziYUtf1ELqIDv77l3kl4uGGcVtI7EMsdffwmIvDRFRw-BLH0URyYmGKIuWc8mkTqDRSyNfzw8UfY5nEVmtPLkmxlX-tp_-m89qhrJqmgkjLaGmmWv5rWlqZYmvDEQBsdkYPE9tmtNG9WCP3YBESdnplefIyt7XjYCqXVxm9HAaExvracWdlnd_QLzK1PKSBHsCAZmeSCOCNho4qEG13FVjWEFu4Ovtk_s5nE5Op1QWA=w3414-h866-no" alt="Apple Pencil 2018"></p>
<p>ç™»ä¸Šäº†è‹¹æœç½‘ç«™ï¼Œå‘ç°æ–° Apple Pencil æä¾›ä¸ªäººå®šåˆ¶æ¿€å…‰åˆ»å­—æœåŠ¡ã€‚è¾“å…¥æ´‹æ–‡ â€œ<strong>Best there ever will be</strong>â€œ ï¼ˆåæ— æ¥è€…çš„æ„æ€ï¼‰ï¼Œè‹¹æœå«Œå¼ƒå¤ªé•¿ã€‚æ¢æˆå›½è¯­ â€œ<strong>æ°‘æ—è‹±é›„ å°å¹³èµ </strong>â€œï¼Œè‹¹æœåˆ handle ä¸äº†ã€‚æ— å¥ˆåªå¥½å–æ¶ˆ $2,349.00 æ–° iPad Pro å’Œ $199.00 æ–° Apple Pencil çš„è®¢å• ã€‚</p>
<p><img src="https://lh3.googleusercontent.com/cZa-Rwanpbf2TwVVqYu6Etw5hO0YVTVpnsSmoE6nr6A3yqd7p37kDdYf7KFuS4blUzwuuuBQfsnRggvcYVaNzhQ6x_pOFxAK7bfNFdV48nRusRaZ2Ei5sbnr-Fc0Sy3Ld6hfo2Xxo0Kql_oYKH2xBbvTAKPmfF69GdhPJwnSj9vBLaN-IFXt0oUOElacsioQDIu7rqjxMzclpQ1_Sex_PjZANufnwYqiXhAlfF0yVBmEVb0Pks7bMDFfgjc_R5894s0Q9YAtivzcb0wV66xT07wplYoo9YktjtGkmdQPv_Xnh17MPBEs9R91SmH08A3FTXBwCMDTKckjm0fqwazOTRqsv1GFlqouwQZkYkt8zU2Xr5ipxFR1qvWXdT07O1NE8mPlf3Zz7XNqZsksiQ1-bAM_BESFmGm7q4J8pNWqnYTmxMtZkqYnlfKL7rBgzFw6fSz8tOWyOrUp9TVJl2QjukjNRS09MsCDDTWnkDZO60wFxc6raSG6lGSCDudHURpr4bogU-nlvvQ5lKxoFLJFRPdulfPof0azKkikfEXqVESh9LPc3zTOL_JPvr46qOpaxrIk-Aefo6ThKS-gU1hMaYdE3PjrorqOeCXx60qiuX1guO3SE-wGij4rh2nDKSfrzePP9805zKILJAYhUOkjIbCDBg=w1628-h1514-no" alt="Free Engraving"></p>
<p><img src="https://lh3.googleusercontent.com/UfFr9tZkEf3ieUt2k1_29zMBOfiAshIhN6glqlGA0eY1C47UfL1HH58CdrDrUP1IpSfTUkvsQUqFMDIjDina3QDchUcQJRU6yVJOywK8TUYA6urlr_oMvm9UzZ3RxCyMX2VeFUsVVtniud3BL13EZxhn90VVE8L5T3y0JlZ4n7pXTSVhwQ3aYQPd4X0lre_YbsJ_yd0zNNyMwAva05v31dtGrdktZ6W2bg9MHKvt8eaVFnK1aNLTuU0VgvnQN9N9vZAmx25q5_Es_lO7YKIl5IEJvW2joTXPT9pnSBdHc7gzVUgps1XJYiMRCK5FW2zm09yelp-fA6B7hS6xqWXGX7A2kJd4JyX1_IipqSW06aIq5N-csilXxGbrdPo7N9Iz13fd-ZaVjNaaD4lOUYEZc89qTs9fozWppd90cs2rxVso5Ci4AaZ-N3yK5LFmjkPi31D-MRXxUKwSEmaSUl_K4nsV60WJFDfKJ6A4DPWWFeDP8dfRA1br4c3PdrLh0rkT6ZATieTqu85z29v8yJnimNkRDaHcM8nN6h4P96VfGcLneG341N_ZmN2jIFRFXBQ6VYp3aUCgb1HJXTOgwRMdvleGCIqlE6jBXxMH2QFxpBveIUmbh7RxP5_TavCtdQ3eCFRzRDyEjtfEcts0rCg7YLyzdg=w1632-h1516-no" alt="Free Engraving"></p>
<p>æœ‰é’±èŠ±ä¸å‡ºå»ï¼Œéƒé—·å•Š â€¦ â€¦</p>

        
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          


        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/blog/page/4/">Previous</a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/3/">3</a><a class="page-number" href="/blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/page/6/">6</a><a class="page-number" href="/blog/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/11/">11</a><a class="extend next" rel="next" href="/blog/page/6/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2024/09/02/Setup-MikroTik-CRS504-4XQ-IN-and-run-a-speed-test/">Setup MikroTik CRS504-4XQ-IN and run a speed test</a>
          </li>
        
          <li>
            <a href="/blog/2024/08/11/Setup-network-bond-in-Synology-NAS/">Setup network bond in Synology NAS</a>
          </li>
        
          <li>
            <a href="/blog/2024/08/09/Setup-TrueNAS-Network-and-Link-Aggregation/">Setup TrueNAS Network and Link Aggregation</a>
          </li>
        
          <li>
            <a href="/blog/2024/08/07/Samba-setup-and-share-in-TrueNAS/">Samba setup and share in TrueNAS</a>
          </li>
        
          <li>
            <a href="/blog/2024/08/07/Increase-decrease-and-resize-Proxmox-disk-volume/">Increase, decrease and resize Proxmox disk volume</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2024/">2024</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2023/">2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2022/">2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/">2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/">2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/">2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/">2017</a><span class="archive-list-count">25</span></li></ul>
    </div>
  </div>


  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/terrencemiao/">LinkedIn</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://github.com/TerrenceMiao">GitHub</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="https://twitter.com/TerrenceMiao">Twitter</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/blog/sitemap.xml">Site Map</a>
        <span> | </span><a href="/blog/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/blog/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ï¼Œ
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2024 Terrence Miao.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/blog/js/jquery-3.4.1.min.js"></script>


<script src="/blog/js/search.json.js"></script>


  
<script src="/blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/blog/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








  



  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>
  <script src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async type="text/javascript"></script>

</body>
</html>