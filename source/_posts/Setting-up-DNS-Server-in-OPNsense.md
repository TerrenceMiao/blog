---
title: Setting up DNS Server in OPNsense
date: 2024-11-21 10:21:28
tags:
---

Want to access Homelab network switches' web based administrator interface in a user friendly way, i.e., access via http://TL-SX3016F.local/, http://TL-SX3008F.local/ and http://MikroTik.local/.

In TP-Link Deco, which is the main Homelab network backbone, also provides DHCP service, firstly is to reserve IP addresses for these switches:

![DNS - TP-Link Deco Reservation](/img/DNS%20-%20TP-Link%20Deco%20Reservation.jpg "DNS - TP-Link Deco Reservation")

Then setup entries in `OPNsense Unbound DNS` server:

![DNS - Host Overrides](/img/DNS%20-%20Host%20Overrides.png "DNS - Host Overrides")

Then lookup a host on local network:

```
$ cat /etc/resolv.conf
#
# macOS Notice
#
# This file is not consulted for DNS hostname resolution, address
# resolution, or the DNS query routing mechanism used by most
# processes on this system.
#
# To view the DNS configuration used by this system, use:
#   scutil --dns
#
# SEE ALSO
#   dns-sd(1), scutil(8)
#
# This file is automatically generated.
#
search local
nameserver 2403:5802:8c44:3:be24:11ff:fe21:3ce0
nameserver 192.168.68.1

$ nslookup MikroTik.local
Server:		2403:5802:8c44:3:be24:11ff:fe21:3ce0
Address:	2403:5802:8c44:3:be24:11ff:fe21:3ce0#53

Name:	MikroTik.local
Address: 192.168.68.54
```
